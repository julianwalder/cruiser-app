import{r as e,a as t,b as s,c as r,g as n}from"./vendor-D3_nuSBh.js";import{L as i,u as a,a as o,R as l,b as c,B as d}from"./router-CoR3MV4u.js";import{P as u,A as h,a as m,U as f,C as p,S as g,M as x,b as y,V as b,c as v,d as j,X as N,L as w,e as k,B as C,f as I,g as S,h as E,T,i as _,j as A,F as P,k as O,l as D,m as R,n as L,o as M,p as F,q as U,O as B}from"./ui-gyVVzNmC.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var H={exports:{}},V={},z=e,$=Symbol.for("react.element"),q=Symbol.for("react.fragment"),W=Object.prototype.hasOwnProperty,K=z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,G={key:!0,ref:!0,__self:!0,__source:!0};function J(e,t,s){var r,n={},i=null,a=null;for(r in void 0!==s&&(i=""+s),void 0!==t.key&&(i=""+t.key),void 0!==t.ref&&(a=t.ref),t)W.call(t,r)&&!G.hasOwnProperty(r)&&(n[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===n[r]&&(n[r]=t[r]);return{$$typeof:$,type:e,key:i,ref:a,props:n,_owner:K.current}}V.Fragment=q,V.jsx=J,V.jsxs=J,H.exports=V;var Y=H.exports,Q={},X=t;function Z(e,t){return(Z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ee(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Z(e,t)}Q.createRoot=X.createRoot,Q.hydrateRoot=X.hydrateRoot;var te=function(){function e(){this.listeners=[]}var t=e.prototype;return t.subscribe=function(e){var t=this,s=e||function(){};return this.listeners.push(s),this.onSubscribe(),function(){t.listeners=t.listeners.filter(function(e){return e!==s}),t.onUnsubscribe()}},t.hasListeners=function(){return this.listeners.length>0},t.onSubscribe=function(){},t.onUnsubscribe=function(){},e}();function se(){return se=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)({}).hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},se.apply(null,arguments)}var re="undefined"==typeof window;function ne(){}function ie(e){return Array.isArray(e)?e:[e]}function ae(e,t,s){return xe(e)?"function"==typeof t?se({},s,{queryKey:e,queryFn:t}):se({},t,{queryKey:e}):e}function oe(e,t,s){return xe(e)?[se({},t,{queryKey:e}),s]:[e||{},t]}function le(e,t){var s=e.active,r=e.exact,n=e.fetching,i=e.inactive,a=e.predicate,o=e.queryKey,l=e.stale;if(xe(o))if(r){if(t.queryHash!==de(o,t.options))return!1}else if(!he(t.queryKey,o))return!1;var c=function(e,t){return!0===e&&!0===t||null==e&&null==t?"all":!1===e&&!1===t?"none":(null!=e?e:!t)?"active":"inactive"}(s,i);if("none"===c)return!1;if("all"!==c){var d=t.isActive();if("active"===c&&!d)return!1;if("inactive"===c&&d)return!1}return("boolean"!=typeof l||t.isStale()===l)&&(("boolean"!=typeof n||t.isFetching()===n)&&!(a&&!a(t)))}function ce(e,t){var s=e.exact,r=e.fetching,n=e.predicate,i=e.mutationKey;if(xe(i)){if(!t.options.mutationKey)return!1;if(s){if(ue(t.options.mutationKey)!==ue(i))return!1}else if(!he(t.options.mutationKey,i))return!1}return("boolean"!=typeof r||"loading"===t.state.status===r)&&!(n&&!n(t))}function de(e,t){return((null==t?void 0:t.queryKeyHashFn)||ue)(e)}function ue(e){var t,s=ie(e);return t=s,JSON.stringify(t,function(e,t){return pe(t)?Object.keys(t).sort().reduce(function(e,s){return e[s]=t[s],e},{}):t})}function he(e,t){return me(ie(e),ie(t))}function me(e,t){return e===t||typeof e==typeof t&&(!(!e||!t||"object"!=typeof e||"object"!=typeof t)&&!Object.keys(t).some(function(s){return!me(e[s],t[s])}))}function fe(e,t){if(e===t)return e;var s=Array.isArray(e)&&Array.isArray(t);if(s||pe(e)&&pe(t)){for(var r=s?e.length:Object.keys(e).length,n=s?t:Object.keys(t),i=n.length,a=s?[]:{},o=0,l=0;l<i;l++){var c=s?l:n[l];a[c]=fe(e[c],t[c]),a[c]===e[c]&&o++}return r===i&&o===r?e:a}return t}function pe(e){if(!ge(e))return!1;var t=e.constructor;if(void 0===t)return!0;var s=t.prototype;return!!ge(s)&&!!s.hasOwnProperty("isPrototypeOf")}function ge(e){return"[object Object]"===Object.prototype.toString.call(e)}function xe(e){return"string"==typeof e||Array.isArray(e)}function ye(e){Promise.resolve().then(e).catch(function(e){return setTimeout(function(){throw e})})}function be(){if("function"==typeof AbortController)return new AbortController}var ve=new(function(e){function t(){var t;return(t=e.call(this)||this).setup=function(e){var t;if(!re&&(null==(t=window)?void 0:t.addEventListener)){var s=function(){return e()};return window.addEventListener("visibilitychange",s,!1),window.addEventListener("focus",s,!1),function(){window.removeEventListener("visibilitychange",s),window.removeEventListener("focus",s)}}},t}ee(t,e);var s=t.prototype;return s.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},s.onUnsubscribe=function(){var e;this.hasListeners()||(null==(e=this.cleanup)||e.call(this),this.cleanup=void 0)},s.setEventListener=function(e){var t,s=this;this.setup=e,null==(t=this.cleanup)||t.call(this),this.cleanup=e(function(e){"boolean"==typeof e?s.setFocused(e):s.onFocus()})},s.setFocused=function(e){this.focused=e,e&&this.onFocus()},s.onFocus=function(){this.listeners.forEach(function(e){e()})},s.isFocused=function(){return"boolean"==typeof this.focused?this.focused:"undefined"==typeof document||[void 0,"visible","prerender"].includes(document.visibilityState)},t}(te)),je=new(function(e){function t(){var t;return(t=e.call(this)||this).setup=function(e){var t;if(!re&&(null==(t=window)?void 0:t.addEventListener)){var s=function(){return e()};return window.addEventListener("online",s,!1),window.addEventListener("offline",s,!1),function(){window.removeEventListener("online",s),window.removeEventListener("offline",s)}}},t}ee(t,e);var s=t.prototype;return s.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},s.onUnsubscribe=function(){var e;this.hasListeners()||(null==(e=this.cleanup)||e.call(this),this.cleanup=void 0)},s.setEventListener=function(e){var t,s=this;this.setup=e,null==(t=this.cleanup)||t.call(this),this.cleanup=e(function(e){"boolean"==typeof e?s.setOnline(e):s.onOnline()})},s.setOnline=function(e){this.online=e,e&&this.onOnline()},s.onOnline=function(){this.listeners.forEach(function(e){e()})},s.isOnline=function(){return"boolean"==typeof this.online?this.online:"undefined"==typeof navigator||void 0===navigator.onLine||navigator.onLine},t}(te));function Ne(e){return Math.min(1e3*Math.pow(2,e),3e4)}function we(e){return"function"==typeof(null==e?void 0:e.cancel)}var ke=function(e){this.revert=null==e?void 0:e.revert,this.silent=null==e?void 0:e.silent};function Ce(e){return e instanceof ke}var Ie=function(e){var t,s,r,n,i=this,a=!1;this.abort=e.abort,this.cancel=function(e){return null==t?void 0:t(e)},this.cancelRetry=function(){a=!0},this.continueRetry=function(){a=!1},this.continue=function(){return null==s?void 0:s()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(e,t){r=e,n=t});var o=function(t){i.isResolved||(i.isResolved=!0,null==e.onSuccess||e.onSuccess(t),null==s||s(),r(t))},l=function(t){i.isResolved||(i.isResolved=!0,null==e.onError||e.onError(t),null==s||s(),n(t))};!function r(){if(!i.isResolved){var n;try{n=e.fn()}catch(c){n=Promise.reject(c)}t=function(e){if(!i.isResolved&&(l(new ke(e)),null==i.abort||i.abort(),we(n)))try{n.cancel()}catch(t){}},i.isTransportCancelable=we(n),Promise.resolve(n).then(o).catch(function(t){var n,o;if(!i.isResolved){var c,d=null!=(n=e.retry)?n:3,u=null!=(o=e.retryDelay)?o:Ne,h="function"==typeof u?u(i.failureCount,t):u,m=!0===d||"number"==typeof d&&i.failureCount<d||"function"==typeof d&&d(i.failureCount,t);if(!a&&m)i.failureCount++,null==e.onFail||e.onFail(i.failureCount,t),(c=h,new Promise(function(e){setTimeout(e,c)})).then(function(){if(!ve.isFocused()||!je.isOnline())return new Promise(function(t){s=t,i.isPaused=!0,null==e.onPause||e.onPause()}).then(function(){s=void 0,i.isPaused=!1,null==e.onContinue||e.onContinue()})}).then(function(){a?l(t):r()});else l(t)}})}}()},Se=function(){function e(){this.queue=[],this.transactions=0,this.notifyFn=function(e){e()},this.batchNotifyFn=function(e){e()}}var t=e.prototype;return t.batch=function(e){var t;this.transactions++;try{t=e()}finally{this.transactions--,this.transactions||this.flush()}return t},t.schedule=function(e){var t=this;this.transactions?this.queue.push(e):ye(function(){t.notifyFn(e)})},t.batchCalls=function(e){var t=this;return function(){for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];t.schedule(function(){e.apply(void 0,r)})}},t.flush=function(){var e=this,t=this.queue;this.queue=[],t.length&&ye(function(){e.batchNotifyFn(function(){t.forEach(function(t){e.notifyFn(t)})})})},t.setNotifyFunction=function(e){this.notifyFn=e},t.setBatchNotifyFunction=function(e){this.batchNotifyFn=e},e}(),Ee=new Se,Te=console;function _e(){return Te}var Ae=function(){function e(e){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.cache=e.cache,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.initialState=e.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=e.meta,this.scheduleGc()}var t=e.prototype;return t.setOptions=function(e){var t;this.options=se({},this.defaultOptions,e),this.meta=null==e?void 0:e.meta,this.cacheTime=Math.max(this.cacheTime||0,null!=(t=this.options.cacheTime)?t:3e5)},t.setDefaultOptions=function(e){this.defaultOptions=e},t.scheduleGc=function(){var e,t=this;this.clearGcTimeout(),"number"==typeof(e=this.cacheTime)&&e>=0&&e!==1/0&&(this.gcTimeout=setTimeout(function(){t.optionalRemove()},this.cacheTime))},t.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},t.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},t.setData=function(e,t){var s,r,n=this.state.data,i=function(e,t){return"function"==typeof e?e(t):e}(e,n);return(null==(s=(r=this.options).isDataEqual)?void 0:s.call(r,n,i))?i=n:!1!==this.options.structuralSharing&&(i=fe(n,i)),this.dispatch({data:i,type:"success",dataUpdatedAt:null==t?void 0:t.updatedAt}),i},t.setState=function(e,t){this.dispatch({type:"setState",state:e,setStateOptions:t})},t.cancel=function(e){var t,s=this.promise;return null==(t=this.retryer)||t.cancel(e),s?s.then(ne).catch(ne):Promise.resolve()},t.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},t.reset=function(){this.destroy(),this.setState(this.initialState)},t.isActive=function(){return this.observers.some(function(e){return!1!==e.options.enabled})},t.isFetching=function(){return this.state.isFetching},t.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(e){return e.getCurrentResult().isStale})},t.isStaleByTime=function(e){return void 0===e&&(e=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!function(e,t){return Math.max(e+(t||0)-Date.now(),0)}(this.state.dataUpdatedAt,e)},t.onFocus=function(){var e,t=this.observers.find(function(e){return e.shouldFetchOnWindowFocus()});t&&t.refetch(),null==(e=this.retryer)||e.continue()},t.onOnline=function(){var e,t=this.observers.find(function(e){return e.shouldFetchOnReconnect()});t&&t.refetch(),null==(e=this.retryer)||e.continue()},t.addObserver=function(e){-1===this.observers.indexOf(e)&&(this.observers.push(e),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:e}))},t.removeObserver=function(e){-1!==this.observers.indexOf(e)&&(this.observers=this.observers.filter(function(t){return t!==e}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:e}))},t.getObserversCount=function(){return this.observers.length},t.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},t.fetch=function(e,t){var s,r,n,i=this;if(this.state.isFetching)if(this.state.dataUpdatedAt&&(null==t?void 0:t.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var a;return null==(a=this.retryer)||a.continueRetry(),this.promise}if(e&&this.setOptions(e),!this.options.queryFn){var o=this.observers.find(function(e){return e.options.queryFn});o&&this.setOptions(o.options)}var l=ie(this.queryKey),c=be(),d={queryKey:l,pageParam:void 0,meta:this.meta};Object.defineProperty(d,"signal",{enumerable:!0,get:function(){if(c)return i.abortSignalConsumed=!0,c.signal}});var u,h,m={fetchOptions:t,options:this.options,queryKey:l,state:this.state,fetchFn:function(){return i.options.queryFn?(i.abortSignalConsumed=!1,i.options.queryFn(d)):Promise.reject("Missing queryFn")},meta:this.meta};(null==(s=this.options.behavior)?void 0:s.onFetch)&&(null==(u=this.options.behavior)||u.onFetch(m));(this.revertState=this.state,this.state.isFetching&&this.state.fetchMeta===(null==(r=m.fetchOptions)?void 0:r.meta))||this.dispatch({type:"fetch",meta:null==(h=m.fetchOptions)?void 0:h.meta});return this.retryer=new Ie({fn:m.fetchFn,abort:null==c||null==(n=c.abort)?void 0:n.bind(c),onSuccess:function(e){i.setData(e),null==i.cache.config.onSuccess||i.cache.config.onSuccess(e,i),0===i.cacheTime&&i.optionalRemove()},onError:function(e){Ce(e)&&e.silent||i.dispatch({type:"error",error:e}),Ce(e)||(null==i.cache.config.onError||i.cache.config.onError(e,i),_e().error(e)),0===i.cacheTime&&i.optionalRemove()},onFail:function(){i.dispatch({type:"failed"})},onPause:function(){i.dispatch({type:"pause"})},onContinue:function(){i.dispatch({type:"continue"})},retry:m.options.retry,retryDelay:m.options.retryDelay}),this.promise=this.retryer.promise,this.promise},t.dispatch=function(e){var t=this;this.state=this.reducer(this.state,e),Ee.batch(function(){t.observers.forEach(function(t){t.onQueryUpdate(e)}),t.cache.notify({query:t,type:"queryUpdated",action:e})})},t.getDefaultState=function(e){var t="function"==typeof e.initialData?e.initialData():e.initialData,s=void 0!==e.initialData?"function"==typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0,r=void 0!==t;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?null!=s?s:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:r?"success":"idle"}},t.reducer=function(e,t){var s,r;switch(t.type){case"failed":return se({},e,{fetchFailureCount:e.fetchFailureCount+1});case"pause":return se({},e,{isPaused:!0});case"continue":return se({},e,{isPaused:!1});case"fetch":return se({},e,{fetchFailureCount:0,fetchMeta:null!=(s=t.meta)?s:null,isFetching:!0,isPaused:!1},!e.dataUpdatedAt&&{error:null,status:"loading"});case"success":return se({},e,{data:t.data,dataUpdateCount:e.dataUpdateCount+1,dataUpdatedAt:null!=(r=t.dataUpdatedAt)?r:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var n=t.error;return Ce(n)&&n.revert&&this.revertState?se({},this.revertState):se({},e,{error:n,errorUpdateCount:e.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:e.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return se({},e,{isInvalidated:!0});case"setState":return se({},e,t.state);default:return e}},e}(),Pe=function(e){function t(t){var s;return(s=e.call(this)||this).config=t||{},s.queries=[],s.queriesMap={},s}ee(t,e);var s=t.prototype;return s.build=function(e,t,s){var r,n=t.queryKey,i=null!=(r=t.queryHash)?r:de(n,t),a=this.get(i);return a||(a=new Ae({cache:this,queryKey:n,queryHash:i,options:e.defaultQueryOptions(t),state:s,defaultOptions:e.getQueryDefaults(n),meta:t.meta}),this.add(a)),a},s.add=function(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"queryAdded",query:e}))},s.remove=function(e){var t=this.queriesMap[e.queryHash];t&&(e.destroy(),this.queries=this.queries.filter(function(t){return t!==e}),t===e&&delete this.queriesMap[e.queryHash],this.notify({type:"queryRemoved",query:e}))},s.clear=function(){var e=this;Ee.batch(function(){e.queries.forEach(function(t){e.remove(t)})})},s.get=function(e){return this.queriesMap[e]},s.getAll=function(){return this.queries},s.find=function(e,t){var s=oe(e,t)[0];return void 0===s.exact&&(s.exact=!0),this.queries.find(function(e){return le(s,e)})},s.findAll=function(e,t){var s=oe(e,t)[0];return Object.keys(s).length>0?this.queries.filter(function(e){return le(s,e)}):this.queries},s.notify=function(e){var t=this;Ee.batch(function(){t.listeners.forEach(function(t){t(e)})})},s.onFocus=function(){var e=this;Ee.batch(function(){e.queries.forEach(function(e){e.onFocus()})})},s.onOnline=function(){var e=this;Ee.batch(function(){e.queries.forEach(function(e){e.onOnline()})})},t}(te),Oe=function(){function e(e){this.options=se({},e.defaultOptions,e.options),this.mutationId=e.mutationId,this.mutationCache=e.mutationCache,this.observers=[],this.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0},this.meta=e.meta}var t=e.prototype;return t.setState=function(e){this.dispatch({type:"setState",state:e})},t.addObserver=function(e){-1===this.observers.indexOf(e)&&this.observers.push(e)},t.removeObserver=function(e){this.observers=this.observers.filter(function(t){return t!==e})},t.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(ne).catch(ne)):Promise.resolve()},t.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},t.execute=function(){var e,t=this,s="loading"===this.state.status,r=Promise.resolve();return s||(this.dispatch({type:"loading",variables:this.options.variables}),r=r.then(function(){null==t.mutationCache.config.onMutate||t.mutationCache.config.onMutate(t.state.variables,t)}).then(function(){return null==t.options.onMutate?void 0:t.options.onMutate(t.state.variables)}).then(function(e){e!==t.state.context&&t.dispatch({type:"loading",context:e,variables:t.state.variables})})),r.then(function(){return t.executeMutation()}).then(function(s){e=s,null==t.mutationCache.config.onSuccess||t.mutationCache.config.onSuccess(e,t.state.variables,t.state.context,t)}).then(function(){return null==t.options.onSuccess?void 0:t.options.onSuccess(e,t.state.variables,t.state.context)}).then(function(){return null==t.options.onSettled?void 0:t.options.onSettled(e,null,t.state.variables,t.state.context)}).then(function(){return t.dispatch({type:"success",data:e}),e}).catch(function(e){return null==t.mutationCache.config.onError||t.mutationCache.config.onError(e,t.state.variables,t.state.context,t),_e().error(e),Promise.resolve().then(function(){return null==t.options.onError?void 0:t.options.onError(e,t.state.variables,t.state.context)}).then(function(){return null==t.options.onSettled?void 0:t.options.onSettled(void 0,e,t.state.variables,t.state.context)}).then(function(){throw t.dispatch({type:"error",error:e}),e})})},t.executeMutation=function(){var e,t=this;return this.retryer=new Ie({fn:function(){return t.options.mutationFn?t.options.mutationFn(t.state.variables):Promise.reject("No mutationFn found")},onFail:function(){t.dispatch({type:"failed"})},onPause:function(){t.dispatch({type:"pause"})},onContinue:function(){t.dispatch({type:"continue"})},retry:null!=(e=this.options.retry)?e:0,retryDelay:this.options.retryDelay}),this.retryer.promise},t.dispatch=function(e){var t=this;this.state=function(e,t){switch(t.type){case"failed":return se({},e,{failureCount:e.failureCount+1});case"pause":return se({},e,{isPaused:!0});case"continue":return se({},e,{isPaused:!1});case"loading":return se({},e,{context:t.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:t.variables});case"success":return se({},e,{data:t.data,error:null,status:"success",isPaused:!1});case"error":return se({},e,{data:void 0,error:t.error,failureCount:e.failureCount+1,isPaused:!1,status:"error"});case"setState":return se({},e,t.state);default:return e}}(this.state,e),Ee.batch(function(){t.observers.forEach(function(t){t.onMutationUpdate(e)}),t.mutationCache.notify(t)})},e}();var De=function(e){function t(t){var s;return(s=e.call(this)||this).config=t||{},s.mutations=[],s.mutationId=0,s}ee(t,e);var s=t.prototype;return s.build=function(e,t,s){var r=new Oe({mutationCache:this,mutationId:++this.mutationId,options:e.defaultMutationOptions(t),state:s,defaultOptions:t.mutationKey?e.getMutationDefaults(t.mutationKey):void 0,meta:t.meta});return this.add(r),r},s.add=function(e){this.mutations.push(e),this.notify(e)},s.remove=function(e){this.mutations=this.mutations.filter(function(t){return t!==e}),e.cancel(),this.notify(e)},s.clear=function(){var e=this;Ee.batch(function(){e.mutations.forEach(function(t){e.remove(t)})})},s.getAll=function(){return this.mutations},s.find=function(e){return void 0===e.exact&&(e.exact=!0),this.mutations.find(function(t){return ce(e,t)})},s.findAll=function(e){return this.mutations.filter(function(t){return ce(e,t)})},s.notify=function(e){var t=this;Ee.batch(function(){t.listeners.forEach(function(t){t(e)})})},s.onFocus=function(){this.resumePausedMutations()},s.onOnline=function(){this.resumePausedMutations()},s.resumePausedMutations=function(){var e=this.mutations.filter(function(e){return e.state.isPaused});return Ee.batch(function(){return e.reduce(function(e,t){return e.then(function(){return t.continue().catch(ne)})},Promise.resolve())})},t}(te);function Re(e,t){return null==e.getNextPageParam?void 0:e.getNextPageParam(t[t.length-1],t)}var Le=function(){function e(e){void 0===e&&(e={}),this.queryCache=e.queryCache||new Pe,this.mutationCache=e.mutationCache||new De,this.defaultOptions=e.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var t=e.prototype;return t.mount=function(){var e=this;this.unsubscribeFocus=ve.subscribe(function(){ve.isFocused()&&je.isOnline()&&(e.mutationCache.onFocus(),e.queryCache.onFocus())}),this.unsubscribeOnline=je.subscribe(function(){ve.isFocused()&&je.isOnline()&&(e.mutationCache.onOnline(),e.queryCache.onOnline())})},t.unmount=function(){var e,t;null==(e=this.unsubscribeFocus)||e.call(this),null==(t=this.unsubscribeOnline)||t.call(this)},t.isFetching=function(e,t){var s=oe(e,t)[0];return s.fetching=!0,this.queryCache.findAll(s).length},t.isMutating=function(e){return this.mutationCache.findAll(se({},e,{fetching:!0})).length},t.getQueryData=function(e,t){var s;return null==(s=this.queryCache.find(e,t))?void 0:s.state.data},t.getQueriesData=function(e){return this.getQueryCache().findAll(e).map(function(e){return[e.queryKey,e.state.data]})},t.setQueryData=function(e,t,s){var r=ae(e),n=this.defaultQueryOptions(r);return this.queryCache.build(this,n).setData(t,s)},t.setQueriesData=function(e,t,s){var r=this;return Ee.batch(function(){return r.getQueryCache().findAll(e).map(function(e){var n=e.queryKey;return[n,r.setQueryData(n,t,s)]})})},t.getQueryState=function(e,t){var s;return null==(s=this.queryCache.find(e,t))?void 0:s.state},t.removeQueries=function(e,t){var s=oe(e,t)[0],r=this.queryCache;Ee.batch(function(){r.findAll(s).forEach(function(e){r.remove(e)})})},t.resetQueries=function(e,t,s){var r=this,n=oe(e,t,s),i=n[0],a=n[1],o=this.queryCache,l=se({},i,{active:!0});return Ee.batch(function(){return o.findAll(i).forEach(function(e){e.reset()}),r.refetchQueries(l,a)})},t.cancelQueries=function(e,t,s){var r=this,n=oe(e,t,s),i=n[0],a=n[1],o=void 0===a?{}:a;void 0===o.revert&&(o.revert=!0);var l=Ee.batch(function(){return r.queryCache.findAll(i).map(function(e){return e.cancel(o)})});return Promise.all(l).then(ne).catch(ne)},t.invalidateQueries=function(e,t,s){var r,n,i,a=this,o=oe(e,t,s),l=o[0],c=o[1],d=se({},l,{active:null==(r=null!=(n=l.refetchActive)?n:l.active)||r,inactive:null!=(i=l.refetchInactive)&&i});return Ee.batch(function(){return a.queryCache.findAll(l).forEach(function(e){e.invalidate()}),a.refetchQueries(d,c)})},t.refetchQueries=function(e,t,s){var r=this,n=oe(e,t,s),i=n[0],a=n[1],o=Ee.batch(function(){return r.queryCache.findAll(i).map(function(e){return e.fetch(void 0,se({},a,{meta:{refetchPage:null==i?void 0:i.refetchPage}}))})}),l=Promise.all(o).then(ne);return(null==a?void 0:a.throwOnError)||(l=l.catch(ne)),l},t.fetchQuery=function(e,t,s){var r=ae(e,t,s),n=this.defaultQueryOptions(r);void 0===n.retry&&(n.retry=!1);var i=this.queryCache.build(this,n);return i.isStaleByTime(n.staleTime)?i.fetch(n):Promise.resolve(i.state.data)},t.prefetchQuery=function(e,t,s){return this.fetchQuery(e,t,s).then(ne).catch(ne)},t.fetchInfiniteQuery=function(e,t,s){var r=ae(e,t,s);return r.behavior={onFetch:function(e){e.fetchFn=function(){var t,s,r,n,i,a,o,l,c,d=null==(t=e.fetchOptions)||null==(s=t.meta)?void 0:s.refetchPage,u=null==(r=e.fetchOptions)||null==(n=r.meta)?void 0:n.fetchMore,h=null==u?void 0:u.pageParam,m="forward"===(null==u?void 0:u.direction),f="backward"===(null==u?void 0:u.direction),p=(null==(i=e.state.data)?void 0:i.pages)||[],g=(null==(a=e.state.data)?void 0:a.pageParams)||[],x=be(),y=null==x?void 0:x.signal,b=g,v=!1,j=e.options.queryFn||function(){return Promise.reject("Missing queryFn")},N=function(e,t,s,r){return b=r?[t].concat(b):[].concat(b,[t]),r?[s].concat(e):[].concat(e,[s])},w=function(t,s,r,n){if(v)return Promise.reject("Cancelled");if(void 0===r&&!s&&t.length)return Promise.resolve(t);var i={queryKey:e.queryKey,signal:y,pageParam:r,meta:e.meta},a=j(i),o=Promise.resolve(a).then(function(e){return N(t,r,e,n)});return we(a)&&(o.cancel=a.cancel),o};if(p.length)if(m){var k=void 0!==h,C=k?h:Re(e.options,p);o=w(p,k,C)}else if(f){var I=void 0!==h,S=I?h:(l=e.options,c=p,null==l.getPreviousPageParam?void 0:l.getPreviousPageParam(c[0],c));o=w(p,I,S,!0)}else!function(){b=[];var t=void 0===e.options.getNextPageParam,s=!d||!p[0]||d(p[0],0,p);o=s?w([],t,g[0]):Promise.resolve(N([],g[0],p[0]));for(var r=function(s){o=o.then(function(r){if(!d||!p[s]||d(p[s],s,p)){var n=t?g[s]:Re(e.options,r);return w(r,t,n)}return Promise.resolve(N(r,g[s],p[s]))})},n=1;n<p.length;n++)r(n)}();else o=w([]);var E=o.then(function(e){return{pages:e,pageParams:b}});return E.cancel=function(){v=!0,null==x||x.abort(),we(o)&&o.cancel()},E}}},this.fetchQuery(r)},t.prefetchInfiniteQuery=function(e,t,s){return this.fetchInfiniteQuery(e,t,s).then(ne).catch(ne)},t.cancelMutations=function(){var e=this,t=Ee.batch(function(){return e.mutationCache.getAll().map(function(e){return e.cancel()})});return Promise.all(t).then(ne).catch(ne)},t.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},t.executeMutation=function(e){return this.mutationCache.build(this,e).execute()},t.getQueryCache=function(){return this.queryCache},t.getMutationCache=function(){return this.mutationCache},t.getDefaultOptions=function(){return this.defaultOptions},t.setDefaultOptions=function(e){this.defaultOptions=e},t.setQueryDefaults=function(e,t){var s=this.queryDefaults.find(function(t){return ue(e)===ue(t.queryKey)});s?s.defaultOptions=t:this.queryDefaults.push({queryKey:e,defaultOptions:t})},t.getQueryDefaults=function(e){var t;return e?null==(t=this.queryDefaults.find(function(t){return he(e,t.queryKey)}))?void 0:t.defaultOptions:void 0},t.setMutationDefaults=function(e,t){var s=this.mutationDefaults.find(function(t){return ue(e)===ue(t.mutationKey)});s?s.defaultOptions=t:this.mutationDefaults.push({mutationKey:e,defaultOptions:t})},t.getMutationDefaults=function(e){var t;return e?null==(t=this.mutationDefaults.find(function(t){return he(e,t.mutationKey)}))?void 0:t.defaultOptions:void 0},t.defaultQueryOptions=function(e){if(null==e?void 0:e._defaulted)return e;var t=se({},this.defaultOptions.queries,this.getQueryDefaults(null==e?void 0:e.queryKey),e,{_defaulted:!0});return!t.queryHash&&t.queryKey&&(t.queryHash=de(t.queryKey,t)),t},t.defaultQueryObserverOptions=function(e){return this.defaultQueryOptions(e)},t.defaultMutationOptions=function(e){return(null==e?void 0:e._defaulted)?e:se({},this.defaultOptions.mutations,this.getMutationDefaults(null==e?void 0:e.mutationKey),e,{_defaulted:!0})},t.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},e}(),Me=s.unstable_batchedUpdates;Ee.setBatchNotifyFunction(Me);var Fe=console;Te=Fe;var Ue=r.createContext(void 0),Be=r.createContext(!1);var He=function(e){var t=e.client,s=e.contextSharing,n=void 0!==s&&s,i=e.children;r.useEffect(function(){return t.mount(),function(){t.unmount()}},[t]);var a=function(e){return e&&"undefined"!=typeof window?(window.ReactQueryClientContext||(window.ReactQueryClientContext=Ue),window.ReactQueryClientContext):Ue}(n);return r.createElement(Be.Provider,{value:n},r.createElement(a.Provider,{value:t},i))},Ve={exports:{}};function ze(){}function $e(){}$e.resetWarningCache=ze;Ve.exports=function(){function e(e,t,s,r,n,i){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==i){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var s={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:$e,resetWarningCache:ze};return s.PropTypes=s,s}();const qe=n(Ve.exports);var We="undefined"!=typeof Element,Ke="function"==typeof Map,Ge="function"==typeof Set,Je="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function Ye(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){if(e.constructor!==t.constructor)return!1;var s,r,n,i;if(Array.isArray(e)){if((s=e.length)!=t.length)return!1;for(r=s;0!==r--;)if(!Ye(e[r],t[r]))return!1;return!0}if(Ke&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i=e.entries();!(r=i.next()).done;)if(!t.has(r.value[0]))return!1;for(i=e.entries();!(r=i.next()).done;)if(!Ye(r.value[1],t.get(r.value[0])))return!1;return!0}if(Ge&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i=e.entries();!(r=i.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(Je&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if((s=e.length)!=t.length)return!1;for(r=s;0!==r--;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&"function"==typeof e.valueOf&&"function"==typeof t.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&"function"==typeof e.toString&&"function"==typeof t.toString)return e.toString()===t.toString();if((s=(n=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(r=s;0!==r--;)if(!Object.prototype.hasOwnProperty.call(t,n[r]))return!1;if(We&&e instanceof Element)return!1;for(r=s;0!==r--;)if(("_owner"!==n[r]&&"__v"!==n[r]&&"__o"!==n[r]||!e.$$typeof)&&!Ye(e[n[r]],t[n[r]]))return!1;return!0}return e!=e&&t!=t}const Qe=n(function(e,t){try{return Ye(e,t)}catch(s){if((s.message||"").match(/stack|recursion/i))return!1;throw s}});const Xe=n(function(e,t,s,r,n,i,a,o){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[s,r,n,i,a,o],d=0;(l=new Error(t.replace(/%s/g,function(){return c[d++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}});const Ze=n(function(e,t,s,r){var n=s?s.call(r,e,t):void 0;if(void 0!==n)return!!n;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(var o=Object.prototype.hasOwnProperty.bind(t),l=0;l<i.length;l++){var c=i[l];if(!o(c))return!1;var d=e[c],u=t[c];if(!1===(n=s?s.call(r,d,u,c):void 0)||void 0===n&&d!==u)return!1}return!0});function et(){return et=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},et.apply(this,arguments)}function tt(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,st(e,t)}function st(e,t){return(st=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function rt(e,t){if(null==e)return{};var s,r,n={},i=Object.keys(e);for(r=0;r<i.length;r++)t.indexOf(s=i[r])>=0||(n[s]=e[s]);return n}var nt={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title",FRAGMENT:"Symbol(react.fragment)"},it={rel:["amphtml","canonical","alternate"]},at={type:["application/ld+json"]},ot={charset:"",name:["robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]},lt=Object.keys(nt).map(function(e){return nt[e]}),ct={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},dt=Object.keys(ct).reduce(function(e,t){return e[ct[t]]=t,e},{}),ut=function(e,t){for(var s=e.length-1;s>=0;s-=1){var r=e[s];if(Object.prototype.hasOwnProperty.call(r,t))return r[t]}return null},ht=function(e){var t=ut(e,nt.TITLE),s=ut(e,"titleTemplate");if(Array.isArray(t)&&(t=t.join("")),s&&t)return s.replace(/%s/g,function(){return t});var r=ut(e,"defaultTitle");return t||r||void 0},mt=function(e){return ut(e,"onChangeClientState")||function(){}},ft=function(e,t){return t.filter(function(t){return void 0!==t[e]}).map(function(t){return t[e]}).reduce(function(e,t){return et({},e,t)},{})},pt=function(e,t){return t.filter(function(e){return void 0!==e[nt.BASE]}).map(function(e){return e[nt.BASE]}).reverse().reduce(function(t,s){if(!t.length)for(var r=Object.keys(s),n=0;n<r.length;n+=1){var i=r[n].toLowerCase();if(-1!==e.indexOf(i)&&s[i])return t.concat(s)}return t},[])},gt=function(e,t,s){var r={};return s.filter(function(t){return!!Array.isArray(t[e])||(void 0!==t[e]&&console&&console.warn,!1)}).map(function(t){return t[e]}).reverse().reduce(function(e,s){var n={};s.filter(function(e){for(var s,i=Object.keys(e),a=0;a<i.length;a+=1){var o=i[a],l=o.toLowerCase();-1===t.indexOf(l)||"rel"===s&&"canonical"===e[s].toLowerCase()||"rel"===l&&"stylesheet"===e[l].toLowerCase()||(s=l),-1===t.indexOf(o)||"innerHTML"!==o&&"cssText"!==o&&"itemprop"!==o||(s=o)}if(!s||!e[s])return!1;var c=e[s].toLowerCase();return r[s]||(r[s]={}),n[s]||(n[s]={}),!r[s][c]&&(n[s][c]=!0,!0)}).reverse().forEach(function(t){return e.push(t)});for(var i=Object.keys(n),a=0;a<i.length;a+=1){var o=i[a],l=et({},r[o],n[o]);r[o]=l}return e},[]).reverse()},xt=function(e,t){if(Array.isArray(e)&&e.length)for(var s=0;s<e.length;s+=1)if(e[s][t])return!0;return!1},yt=function(e){return Array.isArray(e)?e.join(""):e},bt=function(e,t){return Array.isArray(e)?e.reduce(function(e,s){return function(e,t){for(var s=Object.keys(e),r=0;r<s.length;r+=1)if(t[s[r]]&&t[s[r]].includes(e[s[r]]))return!0;return!1}(s,t)?e.priority.push(s):e.default.push(s),e},{priority:[],default:[]}):{default:e}},vt=function(e,t){var s;return et({},e,((s={})[t]=void 0,s))},jt=[nt.NOSCRIPT,nt.SCRIPT,nt.STYLE],Nt=function(e,t){return void 0===t&&(t=!0),!1===t?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},wt=function(e){return Object.keys(e).reduce(function(t,s){var r=void 0!==e[s]?s+'="'+e[s]+'"':""+s;return t?t+" "+r:r},"")},kt=function(e,t){return void 0===t&&(t={}),Object.keys(e).reduce(function(t,s){return t[ct[s]||s]=e[s],t},t)},Ct=function(e,t){return t.map(function(t,s){var n,i=((n={key:s})["data-rh"]=!0,n);return Object.keys(t).forEach(function(e){var s=ct[e]||e;"innerHTML"===s||"cssText"===s?i.dangerouslySetInnerHTML={__html:t.innerHTML||t.cssText}:i[s]=t[e]}),r.createElement(e,i)})},It=function(e,t,s){switch(e){case nt.TITLE:return{toComponent:function(){return s=t.titleAttributes,(n={key:e=t.title})["data-rh"]=!0,i=kt(s,n),[r.createElement(nt.TITLE,i,e)];var e,s,n,i},toString:function(){return r=e,n=t.title,i=t.titleAttributes,a=s,o=wt(i),l=yt(n),o?"<"+r+' data-rh="true" '+o+">"+Nt(l,a)+"</"+r+">":"<"+r+' data-rh="true">'+Nt(l,a)+"</"+r+">";var r,n,i,a,o,l}};case"bodyAttributes":case"htmlAttributes":return{toComponent:function(){return kt(t)},toString:function(){return wt(t)}};default:return{toComponent:function(){return Ct(e,t)},toString:function(){return r=e,n=s,t.reduce(function(e,t){var s=Object.keys(t).filter(function(e){return!("innerHTML"===e||"cssText"===e)}).reduce(function(e,s){var r=void 0===t[s]?s:s+'="'+Nt(t[s],n)+'"';return e?e+" "+r:r},""),i=t.innerHTML||t.cssText||"",a=-1===jt.indexOf(r);return e+"<"+r+' data-rh="true" '+s+(a?"/>":">"+i+"</"+r+">")},"");var r,n}}}},St=function(e){var t,s,r,n,i,a,o,l=e.baseTag,c=e.bodyAttributes,d=e.encode,u=e.htmlAttributes,h=e.noscriptTags,m=e.styleTags,f=e.title,p=void 0===f?"":f,g=e.titleAttributes,x=e.linkTags,y=e.metaTags,b=e.scriptTags,v={toComponent:function(){},toString:function(){return""}};if(e.prioritizeSeoTags){var j=(s=(t=e).linkTags,r=t.scriptTags,n=t.encode,i=bt(t.metaTags,ot),a=bt(s,it),o=bt(r,at),{priorityMethods:{toComponent:function(){return[].concat(Ct(nt.META,i.priority),Ct(nt.LINK,a.priority),Ct(nt.SCRIPT,o.priority))},toString:function(){return It(nt.META,i.priority,n)+" "+It(nt.LINK,a.priority,n)+" "+It(nt.SCRIPT,o.priority,n)}},metaTags:i.default,linkTags:a.default,scriptTags:o.default});v=j.priorityMethods,x=j.linkTags,y=j.metaTags,b=j.scriptTags}return{priority:v,base:It(nt.BASE,l,d),bodyAttributes:It("bodyAttributes",c,d),htmlAttributes:It("htmlAttributes",u,d),link:It(nt.LINK,x,d),meta:It(nt.META,y,d),noscript:It(nt.NOSCRIPT,h,d),script:It(nt.SCRIPT,b,d),style:It(nt.STYLE,m,d),title:It(nt.TITLE,{title:p,titleAttributes:g},d)}},Et=[],Tt=function(e,t){var s=this;void 0===t&&(t="undefined"!=typeof document),this.instances=[],this.value={setHelmet:function(e){s.context.helmet=e},helmetInstances:{get:function(){return s.canUseDOM?Et:s.instances},add:function(e){(s.canUseDOM?Et:s.instances).push(e)},remove:function(e){var t=(s.canUseDOM?Et:s.instances).indexOf(e);(s.canUseDOM?Et:s.instances).splice(t,1)}}},this.context=e,this.canUseDOM=t,t||(e.helmet=St({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))},_t=r.createContext({}),At=qe.shape({setHelmet:qe.func,helmetInstances:qe.shape({get:qe.func,add:qe.func,remove:qe.func})}),Pt="undefined"!=typeof document,Ot=function(e){function t(s){var r;return(r=e.call(this,s)||this).helmetData=new Tt(r.props.context,t.canUseDOM),r}return tt(t,e),t.prototype.render=function(){return r.createElement(_t.Provider,{value:this.helmetData.value},this.props.children)},t}(e.Component);Ot.canUseDOM=Pt,Ot.propTypes={context:qe.shape({helmet:qe.shape()}),children:qe.node.isRequired},Ot.defaultProps={context:{}},Ot.displayName="HelmetProvider";var Dt=function(e,t){var s,r=document.head||document.querySelector(nt.HEAD),n=r.querySelectorAll(e+"[data-rh]"),i=[].slice.call(n),a=[];return t&&t.length&&t.forEach(function(t){var r=document.createElement(e);for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&("innerHTML"===n?r.innerHTML=t.innerHTML:"cssText"===n?r.styleSheet?r.styleSheet.cssText=t.cssText:r.appendChild(document.createTextNode(t.cssText)):r.setAttribute(n,void 0===t[n]?"":t[n]));r.setAttribute("data-rh","true"),i.some(function(e,t){return s=t,r.isEqualNode(e)})?i.splice(s,1):a.push(r)}),i.forEach(function(e){return e.parentNode.removeChild(e)}),a.forEach(function(e){return r.appendChild(e)}),{oldTags:i,newTags:a}},Rt=function(e,t){var s=document.getElementsByTagName(e)[0];if(s){for(var r=s.getAttribute("data-rh"),n=r?r.split(","):[],i=[].concat(n),a=Object.keys(t),o=0;o<a.length;o+=1){var l=a[o],c=t[l]||"";s.getAttribute(l)!==c&&s.setAttribute(l,c),-1===n.indexOf(l)&&n.push(l);var d=i.indexOf(l);-1!==d&&i.splice(d,1)}for(var u=i.length-1;u>=0;u-=1)s.removeAttribute(i[u]);n.length===i.length?s.removeAttribute("data-rh"):s.getAttribute("data-rh")!==a.join(",")&&s.setAttribute("data-rh",a.join(","))}},Lt=function(e,t){var s,r,n=e.baseTag,i=e.htmlAttributes,a=e.linkTags,o=e.metaTags,l=e.noscriptTags,c=e.onChangeClientState,d=e.scriptTags,u=e.styleTags,h=e.title,m=e.titleAttributes;Rt(nt.BODY,e.bodyAttributes),Rt(nt.HTML,i),r=m,void 0!==(s=h)&&document.title!==s&&(document.title=yt(s)),Rt(nt.TITLE,r);var f={baseTag:Dt(nt.BASE,n),linkTags:Dt(nt.LINK,a),metaTags:Dt(nt.META,o),noscriptTags:Dt(nt.NOSCRIPT,l),scriptTags:Dt(nt.SCRIPT,d),styleTags:Dt(nt.STYLE,u)},p={},g={};Object.keys(f).forEach(function(e){var t=f[e],s=t.newTags,r=t.oldTags;s.length&&(p[e]=s),r.length&&(g[e]=f[e].oldTags)}),t&&t(),c(e,p,g)},Mt=null,Ft=function(e){function t(){for(var t,s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];return(t=e.call.apply(e,[this].concat(r))||this).rendered=!1,t}tt(t,e);var s=t.prototype;return s.shouldComponentUpdate=function(e){return!Ze(e,this.props)},s.componentDidUpdate=function(){this.emitChange()},s.componentWillUnmount=function(){this.props.context.helmetInstances.remove(this),this.emitChange()},s.emitChange=function(){var e,t,s=this.props.context,r=s.setHelmet,n=null,i=(e=s.helmetInstances.get().map(function(e){var t=et({},e.props);return delete t.context,t}),{baseTag:pt(["href"],e),bodyAttributes:ft("bodyAttributes",e),defer:ut(e,"defer"),encode:ut(e,"encodeSpecialCharacters"),htmlAttributes:ft("htmlAttributes",e),linkTags:gt(nt.LINK,["rel","href"],e),metaTags:gt(nt.META,["name","charset","http-equiv","property","itemprop"],e),noscriptTags:gt(nt.NOSCRIPT,["innerHTML"],e),onChangeClientState:mt(e),scriptTags:gt(nt.SCRIPT,["src","innerHTML"],e),styleTags:gt(nt.STYLE,["cssText"],e),title:ht(e),titleAttributes:ft("titleAttributes",e),prioritizeSeoTags:xt(e,"prioritizeSeoTags")});Ot.canUseDOM?(t=i,Mt&&cancelAnimationFrame(Mt),t.defer?Mt=requestAnimationFrame(function(){Lt(t,function(){Mt=null})}):(Lt(t),Mt=null)):St&&(n=St(i)),r(n)},s.init=function(){this.rendered||(this.rendered=!0,this.props.context.helmetInstances.add(this),this.emitChange())},s.render=function(){return this.init(),null},t}(e.Component);Ft.propTypes={context:At.isRequired},Ft.displayName="HelmetDispatcher";var Ut=["children"],Bt=["children"],Ht=function(e){function t(){return e.apply(this,arguments)||this}tt(t,e);var s=t.prototype;return s.shouldComponentUpdate=function(e){return!Qe(vt(this.props,"helmetData"),vt(e,"helmetData"))},s.mapNestedChildrenToProps=function(e,t){if(!t)return null;switch(e.type){case nt.SCRIPT:case nt.NOSCRIPT:return{innerHTML:t};case nt.STYLE:return{cssText:t};default:throw new Error("<"+e.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")}},s.flattenArrayTypeChildren=function(e){var t,s=e.child,r=e.arrayTypeChildren;return et({},r,((t={})[s.type]=[].concat(r[s.type]||[],[et({},e.newChildProps,this.mapNestedChildrenToProps(s,e.nestedChildren))]),t))},s.mapObjectTypeChildren=function(e){var t,s,r=e.child,n=e.newProps,i=e.newChildProps,a=e.nestedChildren;switch(r.type){case nt.TITLE:return et({},n,((t={})[r.type]=a,t.titleAttributes=et({},i),t));case nt.BODY:return et({},n,{bodyAttributes:et({},i)});case nt.HTML:return et({},n,{htmlAttributes:et({},i)});default:return et({},n,((s={})[r.type]=et({},i),s))}},s.mapArrayTypeChildrenToProps=function(e,t){var s=et({},t);return Object.keys(e).forEach(function(t){var r;s=et({},s,((r={})[t]=e[t],r))}),s},s.warnOnInvalidChildren=function(e,t){return Xe(lt.some(function(t){return e.type===t}),"function"==typeof e.type?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":"Only elements types "+lt.join(", ")+" are allowed. Helmet does not support rendering <"+e.type+"> elements. Refer to our API for more information."),Xe(!t||"string"==typeof t||Array.isArray(t)&&!t.some(function(e){return"string"!=typeof e}),"Helmet expects a string as a child of <"+e.type+">. Did you forget to wrap your children in braces? ( <"+e.type+">{``}</"+e.type+"> ) Refer to our API for more information."),!0},s.mapChildrenToProps=function(e,t){var s=this,n={};return r.Children.forEach(e,function(e){if(e&&e.props){var r=e.props,i=r.children,a=rt(r,Ut),o=Object.keys(a).reduce(function(e,t){return e[dt[t]||t]=a[t],e},{}),l=e.type;switch("symbol"==typeof l?l=l.toString():s.warnOnInvalidChildren(e,i),l){case nt.FRAGMENT:t=s.mapChildrenToProps(i,t);break;case nt.LINK:case nt.META:case nt.NOSCRIPT:case nt.SCRIPT:case nt.STYLE:n=s.flattenArrayTypeChildren({child:e,arrayTypeChildren:n,newChildProps:o,nestedChildren:i});break;default:t=s.mapObjectTypeChildren({child:e,newProps:t,newChildProps:o,nestedChildren:i})}}}),this.mapArrayTypeChildrenToProps(n,t)},s.render=function(){var e=this.props,t=e.children,s=rt(e,Bt),n=et({},s),i=s.helmetData;return t&&(n=this.mapChildrenToProps(t,n)),!i||i instanceof Tt||(i=new Tt(i.context,i.instances)),i?r.createElement(Ft,et({},n,{context:i.value,helmetData:void 0})):r.createElement(_t.Consumer,null,function(e){return r.createElement(Ft,et({},n,{context:e}))})},t}(e.Component);Ht.propTypes={base:qe.object,bodyAttributes:qe.object,children:qe.oneOfType([qe.arrayOf(qe.node),qe.node]),defaultTitle:qe.string,defer:qe.bool,encodeSpecialCharacters:qe.bool,htmlAttributes:qe.object,link:qe.arrayOf(qe.object),meta:qe.arrayOf(qe.object),noscript:qe.arrayOf(qe.object),onChangeClientState:qe.func,script:qe.arrayOf(qe.object),style:qe.arrayOf(qe.object),title:qe.string,titleAttributes:qe.object,titleTemplate:qe.string,prioritizeSeoTags:qe.bool,helmetData:qe.object},Ht.defaultProps={defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1},Ht.displayName="Helmet";var Vt={};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zt=function(e){const t=[];let s=0;for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);n<128?t[s++]=n:n<2048?(t[s++]=n>>6|192,t[s++]=63&n|128):55296==(64512&n)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(n=65536+((1023&n)<<10)+(1023&e.charCodeAt(++r)),t[s++]=n>>18|240,t[s++]=n>>12&63|128,t[s++]=n>>6&63|128,t[s++]=63&n|128):(t[s++]=n>>12|224,t[s++]=n>>6&63|128,t[s++]=63&n|128)}return t},$t={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const s=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let n=0;n<e.length;n+=3){const t=e[n],i=n+1<e.length,a=i?e[n+1]:0,o=n+2<e.length,l=o?e[n+2]:0,c=t>>2,d=(3&t)<<4|a>>4;let u=(15&a)<<2|l>>6,h=63&l;o||(h=64,i||(u=64)),r.push(s[c],s[d],s[u],s[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(zt(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let s=0,r=0;for(;s<e.length;){const n=e[s++];if(n<128)t[r++]=String.fromCharCode(n);else if(n>191&&n<224){const i=e[s++];t[r++]=String.fromCharCode((31&n)<<6|63&i)}else if(n>239&&n<365){const i=((7&n)<<18|(63&e[s++])<<12|(63&e[s++])<<6|63&e[s++])-65536;t[r++]=String.fromCharCode(55296+(i>>10)),t[r++]=String.fromCharCode(56320+(1023&i))}else{const i=e[s++],a=e[s++];t[r++]=String.fromCharCode((15&n)<<12|(63&i)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const s=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let n=0;n<e.length;){const t=s[e.charAt(n++)],i=n<e.length?s[e.charAt(n)]:0;++n;const a=n<e.length?s[e.charAt(n)]:64;++n;const o=n<e.length?s[e.charAt(n)]:64;if(++n,null==t||null==i||null==a||null==o)throw new qt;const l=t<<2|i>>4;if(r.push(l),64!==a){const e=i<<4&240|a>>2;if(r.push(e),64!==o){const e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class qt extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Wt=function(e){return function(e){const t=zt(e);return $t.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Kt=function(e){try{return $t.decodeString(e,!0)}catch(t){}return null};
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Gt=()=>
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Jt=()=>{try{return Gt()||(()=>{if("undefined"==typeof process)return;const e=Vt.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(s){return}const t=e&&Kt(e[1]);return t&&JSON.parse(t)})()}catch(e){return}},Yt=()=>{var e;return null===(e=Jt())||void 0===e?void 0:e.config},Qt=e=>{var t;return null===(t=Jt())||void 0===t?void 0:t[`_${e}`]};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Xt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,s))}}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}class es extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name="FirebaseError",Object.setPrototypeOf(this,es.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ts.prototype.create)}}class ts{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},r=`${this.service}/${e}`,n=this.errors[e],i=n?function(e,t){return e.replace(ss,(e,s)=>{const r=t[s];return null!=r?String(r):`<${s}?>`})}(n,s):"Error",a=`${this.serviceName}: ${i} (${r}).`;return new es(r,a,s)}}const ss=/\{\$([^}]+)}/g;function rs(e,t){if(e===t)return!0;const s=Object.keys(e),r=Object.keys(t);for(const n of s){if(!r.includes(n))return!1;const s=e[n],i=t[n];if(ns(s)&&ns(i)){if(!rs(s,i))return!1}else if(s!==i)return!1}for(const n of r)if(!s.includes(n))return!1;return!0}function ns(e){return null!==e&&"object"==typeof e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function is(e){const t=[];for(const[s,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(s)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(s)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function as(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[s,r]=e.split("=");t[decodeURIComponent(s)]=decodeURIComponent(r)}}),t}function os(e){const t=e.indexOf("?");if(!t)return"";const s=e.indexOf("#",t);return e.substring(t,s>0?s:void 0)}class ls{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let r;if(void 0===e&&void 0===t&&void 0===s)throw new Error("Missing Observer.");r=function(e,t){if("object"!=typeof e||null===e)return!1;for(const s of t)if(s in e&&"function"==typeof e[s])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:s},void 0===r.next&&(r.next=cs),void 0===r.error&&(r.error=cs),void 0===r.complete&&(r.complete=cs);const n=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),n}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(s){"undefined"!=typeof console&&console.error}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cs(){}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ds(e){return e&&e._delegate?e._delegate:e}class us{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs="[DEFAULT]";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Xt;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&e.resolve(s)}catch(s){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(s)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:s})}catch(n){if(r)return null;throw n}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e))try{this.getOrInitializeService({instanceIdentifier:hs})}catch(t){}for(const[e,s]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});s.resolve(e)}catch(t){}}}}clearInstance(e=hs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(e=hs){return this.instances.has(e)}getOptions(e=hs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[n,i]of this.instancesDeferred.entries()){s===this.normalizeInstanceIdentifier(n)&&i.resolve(r)}return r}onInit(e,t){var s;const r=this.normalizeInstanceIdentifier(t),n=null!==(s=this.onInitCallbacks.get(r))&&void 0!==s?s:new Set;n.add(e),this.onInitCallbacks.set(r,n);const i=this.instances.get(r);return i&&e(i,r),()=>{n.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const n of s)try{n(e,t)}catch(r){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,r===hs?void 0:r),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch(n){}var r;return s||null}normalizeInstanceIdentifier(e=hs){return this.component?this.component.multipleInstances?e:hs:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class fs{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new ms(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ps,gs;(gs=ps||(ps={}))[gs.DEBUG=0]="DEBUG",gs[gs.VERBOSE=1]="VERBOSE",gs[gs.INFO=2]="INFO",gs[gs.WARN=3]="WARN",gs[gs.ERROR=4]="ERROR",gs[gs.SILENT=5]="SILENT";const xs={debug:ps.DEBUG,verbose:ps.VERBOSE,info:ps.INFO,warn:ps.WARN,error:ps.ERROR,silent:ps.SILENT},ys=ps.INFO,bs={[ps.DEBUG]:"log",[ps.VERBOSE]:"log",[ps.INFO]:"info",[ps.WARN]:"warn",[ps.ERROR]:"error"},vs=(e,t,...s)=>{if(t<e.logLevel)return;(new Date).toISOString();if(!bs[t])throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class js{constructor(e){this.name=e,this._logLevel=ys,this._logHandler=vs,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ps))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?xs[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ps.DEBUG,...e),this._logHandler(this,ps.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ps.VERBOSE,...e),this._logHandler(this,ps.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ps.INFO,...e),this._logHandler(this,ps.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ps.WARN,...e),this._logHandler(this,ps.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ps.ERROR,...e),this._logHandler(this,ps.ERROR,...e)}}let Ns,ws;const ks=new WeakMap,Cs=new WeakMap,Is=new WeakMap,Ss=new WeakMap,Es=new WeakMap;let Ts={get(e,t,s){if(e instanceof IDBTransaction){if("done"===t)return Cs.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Is.get(e);if("store"===t)return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return Ps(e[t])},set:(e,t,s)=>(e[t]=s,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function _s(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(ws||(ws=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(Os(this),t),Ps(ks.get(this))}:function(...t){return Ps(e.apply(Os(this),t))}:function(t,...s){const r=e.call(Os(this),t,...s);return Is.set(r,t.sort?t.sort():[t]),Ps(r)}}function As(e){return"function"==typeof e?_s(e):(e instanceof IDBTransaction&&function(e){if(Cs.has(e))return;const t=new Promise((t,s)=>{const r=()=>{e.removeEventListener("complete",n),e.removeEventListener("error",i),e.removeEventListener("abort",i)},n=()=>{t(),r()},i=()=>{s(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",n),e.addEventListener("error",i),e.addEventListener("abort",i)});Cs.set(e,t)}(e),t=e,(Ns||(Ns=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,Ts):e);var t}function Ps(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,s)=>{const r=()=>{e.removeEventListener("success",n),e.removeEventListener("error",i)},n=()=>{t(Ps(e.result)),r()},i=()=>{s(e.error),r()};e.addEventListener("success",n),e.addEventListener("error",i)});return t.then(t=>{t instanceof IDBCursor&&ks.set(t,e)}).catch(()=>{}),Es.set(t,e),t}(e);if(Ss.has(e))return Ss.get(e);const t=As(e);return t!==e&&(Ss.set(e,t),Es.set(t,e)),t}const Os=e=>Es.get(e);const Ds=["get","getKey","getAll","getAllKeys","count"],Rs=["put","add","delete","clear"],Ls=new Map;function Ms(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(Ls.get(t))return Ls.get(t);const s=t.replace(/FromIndex$/,""),r=t!==s,n=Rs.includes(s);if(!(s in(r?IDBIndex:IDBObjectStore).prototype)||!n&&!Ds.includes(s))return;const i=async function(e,...t){const i=this.transaction(e,n?"readwrite":"readonly");let a=i.store;return r&&(a=a.index(t.shift())),(await Promise.all([a[s](...t),n&&i.done]))[0]};return Ls.set(t,i),i}Ts=(e=>({...e,get:(t,s,r)=>Ms(t,s)||e.get(t,s,r),has:(t,s)=>!!Ms(t,s)||e.has(t,s)}))(Ts);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Fs{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null}).filter(e=>e).join(" ")}}const Us="@firebase/app",Bs="0.10.13",Hs=new js("@firebase/app"),Vs="@firebase/app-compat",zs="@firebase/analytics-compat",$s="@firebase/analytics",qs="@firebase/app-check-compat",Ws="@firebase/app-check",Ks="@firebase/auth",Gs="@firebase/auth-compat",Js="@firebase/database",Ys="@firebase/data-connect",Qs="@firebase/database-compat",Xs="@firebase/functions",Zs="@firebase/functions-compat",er="@firebase/installations",tr="@firebase/installations-compat",sr="@firebase/messaging",rr="@firebase/messaging-compat",nr="@firebase/performance",ir="@firebase/performance-compat",ar="@firebase/remote-config",or="@firebase/remote-config-compat",lr="@firebase/storage",cr="@firebase/storage-compat",dr="@firebase/firestore",ur="@firebase/vertexai-preview",hr="@firebase/firestore-compat",mr="firebase",fr="[DEFAULT]",pr={[Us]:"fire-core",[Vs]:"fire-core-compat",[$s]:"fire-analytics",[zs]:"fire-analytics-compat",[Ws]:"fire-app-check",[qs]:"fire-app-check-compat",[Ks]:"fire-auth",[Gs]:"fire-auth-compat",[Js]:"fire-rtdb",[Ys]:"fire-data-connect",[Qs]:"fire-rtdb-compat",[Xs]:"fire-fn",[Zs]:"fire-fn-compat",[er]:"fire-iid",[tr]:"fire-iid-compat",[sr]:"fire-fcm",[rr]:"fire-fcm-compat",[nr]:"fire-perf",[ir]:"fire-perf-compat",[ar]:"fire-rc",[or]:"fire-rc-compat",[lr]:"fire-gcs",[cr]:"fire-gcs-compat",[dr]:"fire-fst",[hr]:"fire-fst-compat",[ur]:"fire-vertex","fire-js":"fire-js",[mr]:"fire-js-all"},gr=new Map,xr=new Map,yr=new Map;function br(e,t){try{e.container.addComponent(t)}catch(s){Hs.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,s)}}function vr(e){const t=e.name;if(yr.has(t))return Hs.debug(`There were multiple attempts to register component ${t}.`),!1;yr.set(t,e);for(const s of gr.values())br(s,e);for(const s of xr.values())br(s,e);return!0}function jr(e,t){const s=e.container.getProvider("heartbeat").getImmediate({optional:!0});return s&&s.triggerHeartbeat(),e.container.getProvider(t)}function Nr(e){return void 0!==e.settings}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wr=new ts("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class kr{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new us("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wr.create("app-deleted",{appName:this._name})}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cr="10.14.1";function Ir(e,t={}){let s=e;if("object"!=typeof t){t={name:t}}const r=Object.assign({name:fr,automaticDataCollectionEnabled:!1},t),n=r.name;if("string"!=typeof n||!n)throw wr.create("bad-app-name",{appName:String(n)});if(s||(s=Yt()),!s)throw wr.create("no-options");const i=gr.get(n);if(i){if(rs(s,i.options)&&rs(r,i.config))return i;throw wr.create("duplicate-app",{appName:n})}const a=new fs(n);for(const l of yr.values())a.addComponent(l);const o=new kr(s,r,a);return gr.set(n,o),o}function Sr(e,t,s){var r;let n=null!==(r=pr[e])&&void 0!==r?r:e;s&&(n+=`-${s}`);const i=n.match(/\s|\//),a=t.match(/\s|\//);if(i||a){const e=[`Unable to register library "${n}" with version "${t}":`];return i&&e.push(`library name "${n}" contains illegal characters (whitespace or "/")`),i&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void Hs.warn(e.join(" "))}vr(new us(`${n}-version`,()=>({library:n,version:t}),"VERSION"))}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Er="firebase-heartbeat-store";let Tr=null;function _r(){return Tr||(Tr=function(e,t,{blocked:s,upgrade:r,blocking:n,terminated:i}={}){const a=indexedDB.open(e,t),o=Ps(a);return r&&a.addEventListener("upgradeneeded",e=>{r(Ps(a.result),e.oldVersion,e.newVersion,Ps(a.transaction),e)}),s&&a.addEventListener("blocked",e=>s(e.oldVersion,e.newVersion,e)),o.then(e=>{i&&e.addEventListener("close",()=>i()),n&&e.addEventListener("versionchange",e=>n(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Er)}catch(s){}}}).catch(e=>{throw wr.create("idb-open",{originalErrorMessage:e.message})})),Tr}async function Ar(e,t){try{const s=(await _r()).transaction(Er,"readwrite"),r=s.objectStore(Er);await r.put(t,Pr(e)),await s.done}catch(s){if(s instanceof es)Hs.warn(s.message);else{const e=wr.create("idb-set",{originalErrorMessage:null==s?void 0:s.message});Hs.warn(e.message)}}}function Pr(e){return`${e.name}!${e.options.appId}`}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Rr(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Dr();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;return this._heartbeatsCache.heartbeats.push({date:r,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),this._storage.overwrite(this._heartbeatsCache)}catch(s){Hs.warn(s)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Dr(),{heartbeatsToSend:s,unsentEntries:r}=function(e,t=1024){const s=[];let r=e.slice();for(const n of e){const e=s.find(e=>e.agent===n.agent);if(e){if(e.dates.push(n.date),Lr(s)>t){e.dates.pop();break}}else if(s.push({agent:n.agent,dates:[n.date]}),Lr(s)>t){s.pop();break}r=r.slice(1)}return{heartbeatsToSend:s,unsentEntries:r}}(this._heartbeatsCache.heartbeats),n=Wt(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),n}catch(t){return Hs.warn(t),""}}}function Dr(){return(new Date).toISOString().substring(0,10)}class Rr{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!function(){try{return"object"==typeof indexedDB}catch(e){return!1}}()&&new Promise((e,t)=>{try{let s=!0;const r="validate-browser-context-for-indexeddb-analytics-module",n=self.indexedDB.open(r);n.onsuccess=()=>{n.result.close(),s||self.indexedDB.deleteDatabase(r),e(!0)},n.onupgradeneeded=()=>{s=!1},n.onerror=()=>{var e;t((null===(e=n.error)||void 0===e?void 0:e.message)||"")}}catch(s){t(s)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await _r()).transaction(Er),s=await t.objectStore(Er).get(Pr(e));return await t.done,s}catch(t){if(t instanceof es)Hs.warn(t.message);else{const e=wr.create("idb-get",{originalErrorMessage:null==t?void 0:t.message});Hs.warn(e.message)}}}(this.app);return(null==e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return Ar(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return Ar(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}}}function Lr(e){return Wt(JSON.stringify({version:2,heartbeats:e})).length}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mr;Mr="",vr(new us("platform-logger",e=>new Fs(e),"PRIVATE")),vr(new us("heartbeat",e=>new Or(e),"PRIVATE")),Sr(Us,Bs,Mr),Sr(Us,Bs,"esm2017"),Sr("fire-js","");function Fr(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(s[r[n]]=e[r[n]])}return s}function Ur(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Sr("firebase","10.14.1","app"),"function"==typeof SuppressedError&&SuppressedError;const Br=Ur,Hr=new ts("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Vr=new js("@firebase/auth");function zr(e,...t){Vr.logLevel<=ps.ERROR&&Vr.error(`Auth (${Cr}): ${e}`,...t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $r(e,...t){throw Gr(e,...t)}function qr(e,...t){return Gr(e,...t)}function Wr(e,t,s){const r=Object.assign(Object.assign({},Br()),{[t]:s});return new ts("auth","Firebase",r).create(t,{appName:e.name})}function Kr(e){return Wr(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Gr(e,...t){if("string"!=typeof e){const s=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(s,...r)}return Hr.create(e,...t)}function Jr(e,t,...s){if(!e)throw Gr(t,...s)}function Yr(e){const t="INTERNAL ASSERTION FAILED: "+e;throw zr(t),new Error(t)}function Qr(e,t){e||Yr(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Zr(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(){return"undefined"==typeof navigator||!navigator||!("onLine"in navigator)||"boolean"!=typeof navigator.onLine||"http:"!==Zr()&&"https:"!==Zr()&&!function(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}()&&!("connection"in navigator)||navigator.onLine}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class tn{constructor(e,t){this.shortDelay=e,this.longDelay=t,Qr(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zt())||"object"==typeof navigator&&"ReactNative"===navigator.product}get(){return en()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(e,t){Qr(e.emulator,"Emulator should always be set here");const{url:s}=e.emulator;return t?`${s}${t.startsWith("/")?t.slice(1):t}`:s}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:"undefined"!=typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!=typeof fetch?fetch:void Yr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:"undefined"!=typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!=typeof Headers?Headers:void Yr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:"undefined"!=typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!=typeof Response?Response:void Yr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},an=new tn(3e4,6e4);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function ln(e,t,s,r,n={}){return cn(e,n,async()=>{let n={},i={};r&&("GET"===t?i=r:n={body:JSON.stringify(r)});const a=is(Object.assign({key:e.config.apiKey},i)).slice(1),o=await e._getAdditionalHeaders();o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:o},n);return"undefined"!=typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),rn.fetch()(un(e,e.config.apiHost,s,a),l)})}async function cn(e,t,s){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},nn),t);try{const t=new mn(e),n=await Promise.race([s(),t.promise]);t.clearNetworkTimeout();const i=await n.json();if("needConfirmation"in i)throw fn(e,"account-exists-with-different-credential",i);if(n.ok&&!("errorMessage"in i))return i;{const t=n.ok?i.errorMessage:i.error.message,[s,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===s)throw fn(e,"credential-already-in-use",i);if("EMAIL_EXISTS"===s)throw fn(e,"email-already-in-use",i);if("USER_DISABLED"===s)throw fn(e,"user-disabled",i);const o=r[s]||s.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw Wr(e,o,a);$r(e,o)}}catch(n){if(n instanceof es)throw n;$r(e,"network-request-failed",{message:String(n)})}}async function dn(e,t,s,r,n={}){const i=await ln(e,t,s,r,n);return"mfaPendingCredential"in i&&$r(e,"multi-factor-auth-required",{_serverResponse:i}),i}function un(e,t,s,r){const n=`${t}${s}?${r}`;return e.config.emulator?sn(e.config,n):`${e.config.apiScheme}://${n}`}function hn(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class mn{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(qr(this.auth,"network-request-failed")),an.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function fn(e,t,s){const r={appName:e.name};s.email&&(r.email=s.email),s.phoneNumber&&(r.phoneNumber=s.phoneNumber);const n=qr(e,t,r);return n.customData._tokenResponse=s,n}function pn(e){return void 0!==e&&void 0!==e.enterprise}class gn{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return hn(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function xn(e,t){return ln(e,"POST","/v1/accounts:lookup",t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function bn(e){return 1e3*Number(e)}function vn(e){const[t,s,r]=e.split(".");if(void 0===t||void 0===s||void 0===r)return zr("JWT malformed, contained fewer than 3 sections"),null;try{const e=Kt(s);return e?JSON.parse(e):(zr("Failed to decode base64 JWT payload"),null)}catch(n){return zr("Caught error parsing JWT payload as JSON",null==n?void 0:n.toString()),null}}function jn(e){const t=vn(e);return Jr(t,"internal-error"),Jr(void 0!==t.exp,"internal-error"),Jr(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nn(e,t,s=!1){if(s)return t;try{return await t}catch(r){throw r instanceof es&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}class wn{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===(null==e?void 0:e.code)&&this.schedule(!0))}this.schedule()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=yn(this.lastLoginAt),this.creationTime=yn(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cn(e){var t;const s=e.auth,r=await e.getIdToken(),n=await Nn(e,xn(s,{idToken:r}));Jr(null==n?void 0:n.users.length,s,"internal-error");const i=n.users[0];e._notifyReloadListener(i);const a=(null===(t=i.providerUserInfo)||void 0===t?void 0:t.length)?In(i.providerUserInfo):[],o=(l=e.providerData,c=a,[...l.filter(e=>!c.some(t=>t.providerId===e.providerId)),...c]);var l,c;const d=e.isAnonymous,u=!(e.email&&i.passwordHash||(null==o?void 0:o.length)),h=!!d&&u,m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new kn(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(e,m)}function In(e){return e.map(e=>{var{providerId:t}=e,s=Fr(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Sn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Jr(e.idToken,"internal-error"),Jr(void 0!==e.idToken,"internal-error"),Jr(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):jn(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Jr(0!==e.length,"internal-error");const t=jn(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return t||!this.accessToken||this.isExpired?(Jr(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:r,expiresIn:n}=await async function(e,t){const s=await cn(e,{},async()=>{const s=is({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:n}=e.config,i=un(e,r,"/v1/token",`key=${n}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",rn.fetch()(i,{method:"POST",headers:a,body:s})});return{accessToken:s.access_token,expiresIn:s.expires_in,refreshToken:s.refresh_token}}(e,t);this.updateTokensAndExpiration(s,r,Number(n))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*s}static fromJSON(e,t){const{refreshToken:s,accessToken:r,expirationTime:n}=t,i=new Sn;return s&&(Jr("string"==typeof s,"internal-error",{appName:e}),i.refreshToken=s),r&&(Jr("string"==typeof r,"internal-error",{appName:e}),i.accessToken=r),n&&(Jr("number"==typeof n,"internal-error",{appName:e}),i.expirationTime=n),i}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Sn,this.toJSON())}_performRefresh(){return Yr("not implemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(e,t){Jr("string"==typeof e||void 0===e,"internal-error",{appName:t})}class Tn{constructor(e){var{uid:t,auth:s,stsTokenManager:r}=e,n=Fr(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new wn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=n.displayName||null,this.email=n.email||null,this.emailVerified=n.emailVerified||!1,this.phoneNumber=n.phoneNumber||null,this.photoURL=n.photoURL||null,this.isAnonymous=n.isAnonymous||!1,this.tenantId=n.tenantId||null,this.providerData=n.providerData?[...n.providerData]:[],this.metadata=new kn(n.createdAt||void 0,n.lastLoginAt||void 0)}async getIdToken(e){const t=await Nn(this,this.stsTokenManager.getToken(this.auth,e));return Jr(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e,t=!1){const s=ds(e),r=await s.getIdToken(t),n=vn(r);Jr(n&&n.exp&&n.auth_time&&n.iat,s.auth,"internal-error");const i="object"==typeof n.firebase?n.firebase:void 0,a=null==i?void 0:i.sign_in_provider;return{claims:n,token:r,authTime:yn(bn(n.auth_time)),issuedAtTime:yn(bn(n.iat)),expirationTime:yn(bn(n.exp)),signInProvider:a||null,signInSecondFactor:(null==i?void 0:i.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=ds(e);await Cn(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Jr(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Tn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Jr(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Cn(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Nr(this.auth.app))return Promise.reject(Kr(this.auth));const e=await this.getIdToken();return await Nn(this,
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function(e,t){return ln(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,r,n,i,a,o,l,c;const d=null!==(s=t.displayName)&&void 0!==s?s:void 0,u=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(n=t.phoneNumber)&&void 0!==n?n:void 0,m=null!==(i=t.photoURL)&&void 0!==i?i:void 0,f=null!==(a=t.tenantId)&&void 0!==a?a:void 0,p=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,x=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:b,isAnonymous:v,providerData:j,stsTokenManager:N}=t;Jr(y&&N,e,"internal-error");const w=Sn.fromJSON(this.name,N);Jr("string"==typeof y,e,"internal-error"),En(d,e.name),En(u,e.name),Jr("boolean"==typeof b,e,"internal-error"),Jr("boolean"==typeof v,e,"internal-error"),En(h,e.name),En(m,e.name),En(f,e.name),En(p,e.name),En(g,e.name),En(x,e.name);const k=new Tn({uid:y,auth:e,email:u,emailVerified:b,displayName:d,isAnonymous:v,photoURL:m,phoneNumber:h,tenantId:f,stsTokenManager:w,createdAt:g,lastLoginAt:x});return j&&Array.isArray(j)&&(k.providerData=j.map(e=>Object.assign({},e))),p&&(k._redirectEventId=p),k}static async _fromIdTokenResponse(e,t,s=!1){const r=new Sn;r.updateFromServerResponse(t);const n=new Tn({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:s});return await Cn(n),n}static async _fromGetAccountInfoResponse(e,t,s){const r=t.users[0];Jr(void 0!==r.localId,"internal-error");const n=void 0!==r.providerUserInfo?In(r.providerUserInfo):[],i=!(r.email&&r.passwordHash||(null==n?void 0:n.length)),a=new Sn;a.updateFromIdToken(s);const o=new Tn({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:i}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:n,metadata:new kn(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash||(null==n?void 0:n.length))};return Object.assign(o,l),o}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _n=new Map;function An(e){Qr(e instanceof Function,"Expected a class definition");let t=_n.get(e);return t?(Qr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,_n.set(e,t),t)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Pn.type="NONE";const On=Pn;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dn(e,t,s){return`firebase:${e}:${t}:${s}`}class Rn{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:r,name:n}=this.auth;this.fullUserKey=Dn(this.userKey,r.apiKey,n),this.fullPersistenceKey=Dn("persistence",r.apiKey,n),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Tn._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Rn(An(On),e,s);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let n=r[0]||An(On);const i=Dn(s,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(i);if(t){const s=Tn._fromJSON(e,t);c!==n&&(a=s),n=c;break}}catch(l){}const o=r.filter(e=>e._shouldAllowMigration);return n._shouldAllowMigration&&o.length?(n=o[0],a&&await n._set(i,a.toJSON()),await Promise.all(t.map(async e=>{if(e!==n)try{await e._remove(i)}catch(l){}})),new Rn(n,e,s)):new Rn(n,e,s)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ln(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Bn(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Mn(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Vn(t))return"Blackberry";if(zn(t))return"Webos";if(Fn(t))return"Safari";if((t.includes("chrome/")||Un(t))&&!t.includes("edge/"))return"Chrome";if(Hn(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=e.match(t);if(2===(null==s?void 0:s.length))return s[1]}return"Other"}function Mn(e=Zt()){return/firefox\//i.test(e)}function Fn(e=Zt()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Un(e=Zt()){return/crios\//i.test(e)}function Bn(e=Zt()){return/iemobile/i.test(e)}function Hn(e=Zt()){return/android/i.test(e)}function Vn(e=Zt()){return/blackberry/i.test(e)}function zn(e=Zt()){return/webos/i.test(e)}function $n(e=Zt()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function qn(){return function(){const e=Zt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Wn(e=Zt()){return $n(e)||Hn(e)||zn(e)||Vn(e)||/windows phone/i.test(e)||Bn(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(e,t=[]){let s;switch(e){case"Browser":s=Ln(Zt());break;case"Worker":s=`${Ln(Zt())}-${e}`;break;default:s=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${s}/JsCore/${Cr}/${r}`}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=t=>new Promise((s,r)=>{try{s(e(t))}catch(n){r(n)}});s.onAbort=t,this.queue.push(s);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null==s?void 0:s.message})}}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){var t,s,r,n;const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=i.minPasswordLength)&&void 0!==t?t:6,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),void 0!==i.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),void 0!==i.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),void 0!==i.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),void 0!==i.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(s=e.allowedNonAlphanumericCharacters)||void 0===s?void 0:s.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(n=e.forceUpgradeOnSignin)&&void 0!==n&&n,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,r,n,i,a;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(s=o.meetsMaxPasswordLength)||void 0===s||s),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(n=o.containsUppercaseLetter)||void 0===n||n),o.isValid&&(o.isValid=null===(i=o.containsNumericCharacter)||void 0===i||i),o.isValid&&(o.isValid=null===(a=o.containsNonAlphanumericCharacter)||void 0===a||a),o}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let s;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)s=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,r,n){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=n))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e,t,s,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Xn(this),this.idTokenSubscription=new Xn(this),this.beforeStateQueue=new Gn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Hr,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=An(t)),this._initializationPromise=this.queue(async()=>{var s,r;if(!this._deleted&&(this.persistenceManager=await Rn.create(this,e),!this._deleted)){if(null===(s=this._popupRedirectResolver)||void 0===s?void 0:s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(n){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void(await this.currentUser.getIdToken())):void(await this._updateCurrentUser(e,!0)):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await xn(this,{idToken:e}),s=await Tn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Nr(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let r=s,n=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,i=null==r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);s&&s!==i||!(null==a?void 0:a.user)||(r=a.user,n=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(n)try{await this.beforeStateQueue.runMiddleware(r)}catch(i){r=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(i))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Jr(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(s){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Cn(e)}catch(t){if("auth/network-request-failed"!==(null==t?void 0:t.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Nr(this.app))return Promise.reject(Kr(this));const t=e?ds(e):null;return t&&Jr(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Jr(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Nr(this.app)?Promise.reject(Kr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Nr(this.app)?Promise.reject(Kr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(An(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e,t={}){return ln(e,"GET","/v2/passwordPolicy",on(e,t))}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this),t=new Jn(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ts("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return ln(e,"POST","/v2/accounts:revokeToken",on(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return null===e?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&An(e)||this._popupRedirectResolver;Jr(t,this,"argument-error"),this.redirectPersistenceManager=await Rn.create(this,[An(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(s=this.redirectUser)||void 0===s?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,r){if(this._deleted)return()=>{};const n="function"==typeof t?t:t.next.bind(t);let i=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Jr(a,this,"internal-error"),a.then(()=>{i||n(this.currentUser)}),"function"==typeof t){const n=e.addObserver(t,s,r);return()=>{i=!0,n()}}{const s=e.addObserver(t);return()=>{i=!0,s()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Jr(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Kn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null==t?void 0:t.error)&&function(e,...t){Vr.logLevel<=ps.WARN&&Vr.warn(`Auth (${Cr}): ${e}`,...t)}(`Error while retrieving App Check token: ${t.error}`),null==t?void 0:t.token}}function Qn(e){return ds(e)}class Xn{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const s=new ls(e,t);return s.subscribe.bind(s)}(e=>this.observer=e)}get next(){return Jr(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zn={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ei(e){return Zn.loadJS(e)}class ti{constructor(e){this.type="recaptcha-enterprise",this.auth=Qn(e)}async verify(e="verify",t=!1){async function s(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,s)=>{(async function(e,t){return ln(e,"GET","/v2/recaptchaConfig",on(e,t))})(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const s=new gn(r);return null==e.tenantId?e._agentRecaptchaConfig=s:e._tenantRecaptchaConfigs[e.tenantId]=s,t(s.siteKey)}s(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{s(e)})})}function r(t,s,r){const n=window.grecaptcha;pn(n)?n.enterprise.ready(()=>{n.enterprise.execute(t,{action:e}).then(e=>{s(e)}).catch(()=>{s("NO_RECAPTCHA")})}):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((e,n)=>{s(this.auth).then(s=>{if(!t&&pn(window.grecaptcha))r(s,e,n);else{if("undefined"==typeof window)return void n(new Error("RecaptchaVerifier is only supported in browser"));let t=Zn.recaptchaEnterpriseScript;0!==t.length&&(t+=s),ei(t).then(()=>{r(s,e,n)}).catch(e=>{n(e)})}}).catch(e=>{n(e)})})}}async function si(e,t,s,r=!1){const n=new ti(e);let i;try{i=await n.verify(s)}catch(o){i=await n.verify(s,!0)}const a=Object.assign({},t);return r?Object.assign(a,{captchaResp:i}):Object.assign(a,{captchaResponse:i}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function ri(e,t,s,r){var n;if(null===(n=e._getRecaptchaConfig())||void 0===n?void 0:n.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const n=await si(e,t,s,"getOobCode"===s);return r(e,n)}return r(e,t).catch(async n=>{if("auth/missing-recaptcha-token"===n.code){const n=await si(e,t,s,"getOobCode"===s);return r(e,n)}return Promise.reject(n)})}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(e,t,s){const r=Qn(e);Jr(r._canInitEmulator,r,"emulator-config-failed"),Jr(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const n=ii(t),{host:i,port:a}=function(e){const t=ii(e),s=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!s)return{host:"",port:null};const r=s[2].split("@").pop()||"",n=/^(\[[^\]]+\])(:|$)/.exec(r);if(n){const e=n[1];return{host:e,port:ai(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:ai(t)}}}(t),o=null===a?"":`:${a}`;r.config.emulator={url:`${n}//${i}${o}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:i,port:a,protocol:n.replace(":",""),options:Object.freeze({disableWarnings:!1})}),function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&console.info;"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */()}function ii(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function ai(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class oi{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Yr("not implemented")}_getIdTokenResponse(e){return Yr("not implemented")}_linkToIdToken(e,t){return Yr("not implemented")}_getReauthenticationResolver(e){return Yr("not implemented")}}async function li(e,t){return ln(e,"POST","/v1/accounts:signUp",t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ci(e,t){return dn(e,"POST","/v1/accounts:signInWithPassword",on(e,t))}async function di(e,t){return async function(e,t){return ln(e,"POST","/v1/accounts:sendOobCode",on(e,t))}(e,t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ui extends oi{constructor(e,t,s,r=null){super("password",s),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new ui(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new ui(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return ri(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",ci);case"emailLink":return async function(e,t){return dn(e,"POST","/v1/accounts:signInWithEmailLink",on(e,t))}(e,{email:this._email,oobCode:this._password});default:$r(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return ri(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",li);case"emailLink":return async function(e,t){return dn(e,"POST","/v1/accounts:signInWithEmailLink",on(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:$r(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hi(e,t){return dn(e,"POST","/v1/accounts:signInWithIdp",on(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi extends oi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new mi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):$r("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:s,signInMethod:r}=t,n=Fr(t,["providerId","signInMethod"]);if(!s||!r)return null;const i=new mi(s,r);return i.idToken=n.idToken||void 0,i.accessToken=n.accessToken||void 0,i.secret=n.secret,i.nonce=n.nonce,i.pendingToken=n.pendingToken||null,i}_getIdTokenResponse(e){return hi(e,this.buildRequest())}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,hi(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,hi(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=is(t)}return e}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e){var t,s,r,n,i,a;const o=as(os(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(s=o.oobCode)&&void 0!==s?s:null,d=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);Jr(l&&c&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=c,this.continueUrl=null!==(n=o.continueUrl)&&void 0!==n?n:null,this.languageCode=null!==(i=o.languageCode)&&void 0!==i?i:null,this.tenantId=null!==(a=o.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=as(os(e)).link,s=t?as(os(t)).deep_link_id:null,r=as(os(e)).deep_link_id;return(r?as(os(r)).link:null)||r||s||t||e}(e);try{return new fi(t)}catch(s){return null}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(){this.providerId=pi.PROVIDER_ID}static credential(e,t){return ui._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=fi.parseLink(t);return Jr(s,"argument-error"),ui._fromEmailAndCode(e,s.code,s.tenantId)}}pi.PROVIDER_ID="password",pi.EMAIL_PASSWORD_SIGN_IN_METHOD="password",pi.EMAIL_LINK_SIGN_IN_METHOD="emailLink";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class gi{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi extends gi{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi extends xi{constructor(){super("facebook.com")}static credential(e){return mi._fromParams({providerId:yi.PROVIDER_ID,signInMethod:yi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yi.credentialFromTaggedObject(e)}static credentialFromError(e){return yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return yi.credential(e.oauthAccessToken)}catch(t){return null}}}yi.FACEBOOK_SIGN_IN_METHOD="facebook.com",yi.PROVIDER_ID="facebook.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class bi extends xi{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return mi._fromParams({providerId:bi.PROVIDER_ID,signInMethod:bi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return bi.credentialFromTaggedObject(e)}static credentialFromError(e){return bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return bi.credential(t,s)}catch(r){return null}}}bi.GOOGLE_SIGN_IN_METHOD="google.com",bi.PROVIDER_ID="google.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class vi extends xi{constructor(){super("github.com")}static credential(e){return mi._fromParams({providerId:vi.PROVIDER_ID,signInMethod:vi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vi.credentialFromTaggedObject(e)}static credentialFromError(e){return vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return vi.credential(e.oauthAccessToken)}catch(t){return null}}}vi.GITHUB_SIGN_IN_METHOD="github.com",vi.PROVIDER_ID="github.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ji extends xi{constructor(){super("twitter.com")}static credential(e,t){return mi._fromParams({providerId:ji.PROVIDER_ID,signInMethod:ji.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ji.credentialFromTaggedObject(e)}static credentialFromError(e){return ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return ji.credential(t,s)}catch(r){return null}}}ji.TWITTER_SIGN_IN_METHOD="twitter.com",ji.PROVIDER_ID="twitter.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ni{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,r=!1){const n=await Tn._fromIdTokenResponse(e,s,r),i=wi(s);return new Ni({user:n,providerId:i,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const r=wi(s);return new Ni({user:e,providerId:r,_tokenResponse:s,operationType:t})}}function wi(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki extends es{constructor(e,t,s,r){var n;super(t.code,t.message),this.operationType=s,this.user=r,Object.setPrototypeOf(this,ki.prototype),this.customData={appName:e.name,tenantId:null!==(n=e.tenantId)&&void 0!==n?n:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,r){return new ki(e,t,s,r)}}function Ci(e,t,s,r){return("reauthenticate"===t?s._getReauthenticationResolver(e):s._getIdTokenResponse(e)).catch(s=>{if("auth/multi-factor-auth-required"===s.code)throw ki._fromErrorAndOperation(e,s,t,r);throw s})}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function Ii(e,t,s=!1){if(Nr(e.app))return Promise.reject(Kr(e));const r="signIn",n=await Ci(e,r,t),i=await Ni._fromIdTokenResponse(e,r,n);return s||await e._updateCurrentUser(i.user),i}function Si(e,t,s){return Nr(e.app)?Promise.reject(Kr(e)):async function(e,t){return Ii(Qn(e),t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(ds(e),pi.credential(t,s)).catch(async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&async function(e){const t=Qn(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}(e),t})}const Ei="__sak";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ei,"1"),this.storage.removeItem(Ei),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i extends Ti{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Wn(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),r=this.localCache[t];s!==r&&e(t,r,s)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys((e,t,s)=>{this.notifyListeners(e,s)});const s=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(s);(t||this.localCache[s]!==e)&&this.notifyListeners(s,e)},n=this.storage.getItem(s);qn()&&n!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const r of Array.from(s))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}_i.type="LOCAL";const Ai=_i;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi extends Ti{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Pi.type="SESSION";const Oi=Pi;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Di{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const s=new Di(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:r,data:n}=t.data,i=this.handlersMap[r];if(!(null==i?void 0:i.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:r});const a=Array.from(i).map(async e=>e(t.origin,n)),o=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(a);t.ports[0].postMessage({status:"done",eventId:s,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Ri(e="",t=10){let s="";for(let r=0;r<t;r++)s+=Math.floor(10*Math.random());return e+s}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Di.receivers=[];class Li{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const r="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let n,i;return new Promise((a,o)=>{const l=Ri("",20);r.port1.start();const c=setTimeout(()=>{o(new Error("unsupported_event"))},s);i={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),n=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(n),a(t.data.response);break;default:clearTimeout(c),clearTimeout(n),o(new Error("invalid_response"))}}},this.handlers.add(i),r.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{i&&this.removeMessageHandler(i)})}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mi(){return window}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Fi(){return void 0!==Mi().WorkerGlobalScope&&"function"==typeof Mi().importScripts}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Ui="firebaseLocalStorageDb",Bi="firebaseLocalStorage",Hi="fbase_key";class Vi{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function zi(e,t){return e.transaction([Bi],t?"readwrite":"readonly").objectStore(Bi)}function $i(){const e=indexedDB.open(Ui,1);return new Promise((t,s)=>{e.addEventListener("error",()=>{s(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(Bi,{keyPath:Hi})}catch(r){s(r)}}),e.addEventListener("success",async()=>{const s=e.result;s.objectStoreNames.contains(Bi)?t(s):(s.close(),await function(){const e=indexedDB.deleteDatabase(Ui);return new Vi(e).toPromise()}(),t(await $i()))})})}async function qi(e,t,s){const r=zi(e,!0).put({[Hi]:t,value:s});return new Vi(r).toPromise()}function Wi(e,t){const s=zi(e,!0).delete(t);return new Vi(s).toPromise()}class Ki{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await $i()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(s){if(t++>3)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Fi()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Di._getInstance(Fi()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Li(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&(null===(e=s[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=s[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){var t;if(this.sender&&this.activeServiceWorker&&((null===(t=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await $i();return await qi(e,Ei,"1"),await Wi(e,Ei),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>qi(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const s=zi(e,!1).get(t),r=await new Vi(s).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Wi(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=zi(e,!1).getAll();return new Vi(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],s=new Set;if(0!==e.length)for(const{fbase_key:r,value:n}of e)s.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(n)&&(this.notifyListeners(r,n),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!s.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const r of Array.from(s))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Ki.type="LOCAL";const Gi=Ki;
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Ji(e,t){return t?An(t):(Jr(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new tn(3e4,6e4);class Yi extends oi{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return hi(e,this._buildIdpRequest())}_linkToIdToken(e,t){return hi(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return hi(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Qi(e){return Ii(e.auth,new Yi(e),e.bypassAuthState)}function Xi(e){const{auth:t,user:s}=e;return Jr(s,t,"internal-error"),
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function(e,t,s=!1){const{auth:r}=e;if(Nr(r.app))return Promise.reject(Kr(r));const n="reauthenticate";try{const i=await Nn(e,Ci(r,n,t,e),s);Jr(i.idToken,r,"internal-error");const a=vn(i.idToken);Jr(a,r,"internal-error");const{sub:o}=a;return Jr(e.uid===o,r,"user-mismatch"),Ni._forOperation(e,n,i)}catch(i){throw"auth/user-not-found"===(null==i?void 0:i.code)&&$r(r,"user-mismatch"),i}}(s,new Yi(e),e.bypassAuthState)}async function Zi(e){const{auth:t,user:s}=e;return Jr(s,t,"internal-error"),async function(e,t,s=!1){const r=await Nn(e,t._linkToIdToken(e.auth,await e.getIdToken()),s);return Ni._forOperation(e,"link",r)}(s,new Yi(e),e.bypassAuthState)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e,t,s,r,n=!1){this.auth=e,this.resolver=s,this.user=r,this.bypassAuthState=n,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:r,tenantId:n,error:i,type:a}=e;if(i)return void this.reject(i);const o={auth:this.auth,requestUri:t,sessionId:s,tenantId:n||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Qi;case"linkViaPopup":case"linkViaRedirect":return Zi;case"reauthViaPopup":case"reauthViaRedirect":return Xi;default:$r(this.auth,"internal-error")}}resolve(e){Qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta=new tn(2e3,1e4);async function sa(e,t,s){if(Nr(e.app))return Promise.reject(qr(e,"operation-not-supported-in-this-environment"));const r=Qn(e);!function(e,t,s){if(!(t instanceof s))throw s.name!==t.constructor.name&&$r(e,"argument-error"),Wr(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}(e,t,gi);const n=Ji(r,s);return new ra(r,"signInViaPopup",t,n).executeNotNull()}class ra extends ea{constructor(e,t,s,r,n){super(e,t,r,n),this.provider=s,this.authWindow=null,this.pollId=null,ra.currentPopupAction&&ra.currentPopupAction.cancel(),ra.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Jr(e,this.auth,"internal-error"),e}async onExecution(){Qr(1===this.filter.length,"Popup operations only handle one event");const e=Ri();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(qr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(qr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ra.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;(null===(s=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===s?void 0:s.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(qr(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,ta.get())};e()}}ra.currentPopupAction=null;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const na="pendingRedirect",ia=new Map;class aa extends ea{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=ia.get(this.auth._key());if(!e){try{const t=await async function(e,t){const s=function(e){return Dn(na,e.config.apiKey,e.name)}(t),r=function(e){return An(e._redirectPersistence)}(e);if(!(await r._isAvailable()))return!1;const n="true"===await r._get(s);return await r._remove(s),n}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}ia.set(this.auth._key(),e)}return this.bypassAuthState||ia.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function oa(e,t){ia.set(e._key(),t)}async function la(e,t,s=!1){if(Nr(e.app))return Promise.reject(Kr(e));const r=Qn(e),n=Ji(r,t),i=new aa(r,n,s),a=await i.execute();return a&&!s&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ua(e);default:return!1}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!ua(e)){const r=(null===(s=e.error.code)||void 0===s?void 0:s.split("auth/")[1])||"internal-error";t.onError(qr(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(da(e))}saveEventToCache(e){this.cachedEventUids.add(da(e)),this.lastProcessedEventTime=Date.now()}}function da(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function ua({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null==t?void 0:t.code)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const ha=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ma=/^https?/;async function fa(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e,t={}){return ln(e,"GET","/v1/projects",t)}(e);for(const r of t)try{if(pa(r))return}catch(s){}$r(e,"unauthorized-domain")}function pa(e){const t=Xr(),{protocol:s,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const n=new URL(e);return""===n.hostname&&""===r?"chrome-extension:"===s&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===s&&n.hostname===r}if(!ma.test(s))return!1;if(ha.test(e))return r===e;const n=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+n+"|"+n+")$","i").test(r)}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga=new tn(3e4,6e4);function xa(){const e=Mi().___jsl;if(null==e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let s=0;s<e.CP.length;s++)e.CP[s]=null}function ya(e){return new Promise((t,s)=>{var r,n,i;function a(){xa(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{xa(),s(qr(e,"network-request-failed"))},timeout:ga.get()})}if(null===(n=null===(r=Mi().gapi)||void 0===r?void 0:r.iframes)||void 0===n?void 0:n.Iframe)t(gapi.iframes.getContext());else{if(!(null===(i=Mi().gapi)||void 0===i?void 0:i.load)){const t=`__${"iframefcb"}${Math.floor(1e6*Math.random())}`;return Mi()[t]=()=>{gapi.load?a():s(qr(e,"network-request-failed"))},ei(`${Zn.gapiScript}?onload=${t}`).catch(e=>s(e))}a()}}).catch(e=>{throw ba=null,e})}let ba=null;
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const va=new tn(5e3,15e3),ja={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Na=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wa(e){const t=e.config;Jr(t.authDomain,e,"auth-domain-config-required");const s=t.emulator?sn(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:Cr},n=Na.get(e.config.apiHost);n&&(r.eid=n);const i=e._getFrameworks();return i.length&&(r.fw=i.join(",")),`${s}?${is(r).slice(1)}`}async function ka(e){const t=await function(e){return ba=ba||ya(e),ba}(e),s=Mi().gapi;return Jr(s,e,"internal-error"),t.open({where:document.body,url:wa(e),messageHandlersFilter:s.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ja,dontclear:!0},t=>new Promise(async(s,r)=>{await t.restyle({setHideOnLeave:!1});const n=qr(e,"network-request-failed"),i=Mi().setTimeout(()=>{r(n)},va.get());function a(){Mi().clearTimeout(i),s(t)}t.ping(a).then(a,()=>{r(n)})}))}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ia{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function Sa(e,t,s,r=500,n=600){const i=Math.max((window.screen.availHeight-n)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},Ca),{width:r.toString(),height:n.toString(),top:i,left:a}),c=Zt().toLowerCase();s&&(o=Un(c)?"_blank":s),Mn(c)&&(t=t||"http://localhost",l.scrollbars="yes");const d=Object.entries(l).reduce((e,[t,s])=>`${e}${t}=${s},`,"");if(function(e=Zt()){var t;return $n(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(c)&&"_self"!==o)return function(e,t){const s=document.createElement("a");s.href=e,s.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),s.dispatchEvent(r)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t||"",o),new Ia(null);const u=window.open(t||"",o,d);Jr(u,e,"popup-blocked");try{u.focus()}catch(h){}return new Ia(u)}const Ea="__/auth/handler",Ta="emulator/auth/handler",_a=encodeURIComponent("fac");async function Aa(e,t,s,r,n,i){Jr(e.config.authDomain,e,"auth-domain-config-required"),Jr(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:s,redirectUrl:r,v:Cr,eventId:n};if(t instanceof gi){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries({}))a[e]=t}if(t instanceof xi){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const d of Object.keys(o))void 0===o[d]&&delete o[d];const l=await e._getAppCheckToken(),c=l?`#${_a}=${encodeURIComponent(l)}`:"";return`${function({config:e}){if(!e.emulator)return`https://${e.authDomain}/${Ea}`;return sn(e,Ta)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e)}?${is(o).slice(1)}${c}`}const Pa="webStorageSupport";const Oa=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Oi,this._completeRedirectFn=la,this._overrideRedirectResult=oa}async _openPopup(e,t,s,r){var n;Qr(null===(n=this.eventManagers[e._key()])||void 0===n?void 0:n.manager,"_initialize() not called before _openPopup()");return Sa(e,await Aa(e,t,s,Xr(),r),Ri())}async _openRedirect(e,t,s,r){await this._originValidation(e);return function(e){Mi().location.href=e}(await Aa(e,t,s,Xr(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:s}=this.eventManagers[t];return e?Promise.resolve(e):(Qr(s,"If manager is not set, promise should be"),s)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await ka(e),s=new ca(e);return t.register("authEvent",t=>{Jr(null==t?void 0:t.authEvent,e,"invalid-auth-event");return{status:s.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Pa,{type:Pa},s=>{var r;const n=null===(r=null==s?void 0:s[0])||void 0===r?void 0:r[Pa];void 0!==n&&t(!!n),$r(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=fa(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Wn()||Fn()||$n()}};var Da="@firebase/auth",Ra="1.7.9";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class La{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null==t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Jr(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Ma=Qt("authIdTokenMaxAge")||300;let Fa=null;var Ua;Zn={loadJS:e=>new Promise((t,s)=>{const r=document.createElement("script");var n,i;r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=qr("internal-error");t.customData=e,s(t)},r.type="text/javascript",r.charset="UTF-8",(null!==(i=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==i?i:document).appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},Ua="Browser",vr(new us("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),n=e.getProvider("app-check-internal"),{apiKey:i,authDomain:a}=s.options;Jr(i&&!i.includes(":"),"invalid-api-key",{appName:s.name});const o={apiKey:i,authDomain:a,clientPlatform:Ua,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Kn(Ua)},l=new Yn(s,r,n,o);return function(e,t){const s=(null==t?void 0:t.persistence)||[],r=(Array.isArray(s)?s:[s]).map(An);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),vr(new us("auth-internal",e=>{const t=Qn(e.getProvider("auth").getImmediate());return new La(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Sr(Da,Ra,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Ua)),Sr(Da,Ra,"esm2017");const Ba={apiKey:"AIzaSyChijXhZBr7ycWKEQSK1bCdLSoQioKEurk",authDomain:"cruiserapp-b8429.firebaseapp.com",projectId:"cruiserapp-b8429",storageBucket:"cruiserapp-b8429.firebasestorage.app",messagingSenderId:"443919130210",appId:"1:443919130210:web:b8a009ef9ca1ca4f433b3b"};let Ha,Va;try{Ha=Ir(Ba),Va=function(e=function(e=fr){const t=gr.get(e);if(!t&&e===fr&&Yt())return Ir();if(!t)throw wr.create("no-app",{appName:e});return t}()){const t=jr(e,"auth");if(t.isInitialized())return t.getImmediate();const s=function(e,t){const s=jr(e,"auth");if(s.isInitialized()){const e=s.getImmediate();if(rs(s.getOptions(),null!=t?t:{}))return e;$r(e,"already-initialized")}return s.initialize({options:t})}(e,{popupRedirectResolver:Oa,persistence:[Gi,Ai,Oi]}),r=Qt("authTokenSyncURL");if(r&&"boolean"==typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(n=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),s=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>Ma)return;const r=null==t?void 0:t.token;Fa!==r&&(Fa=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(e,t,s){ds(e).beforeAuthStateChanged(t,s)}(s,t,()=>t(s.currentUser)),function(e,t,s,r){ds(e).onIdTokenChanged(t,s,r)}(s,e=>t(e))}}var n;const i=(a="auth",null===(l=null===(o=Jt())||void 0===o?void 0:o.emulatorHosts)||void 0===l?void 0:l[a]);var a,o,l;return i&&ni(s,`http://${i}`),s}(Ha)}catch(dl){Va=null}const za=e.createContext(void 0),$a=({children:t})=>{const[s,r]=e.useState(null),[n,i]=e.useState(null),[a,o]=e.useState(!0);e.useEffect(()=>{const e={id:"temp-user-"+Date.now(),email:"test@example.com",firstName:"Test",lastName:"User",role:"student_pilot",status:"pending",isFullyVerified:!1,hasPPL:!1,creditedHours:0,totalFlightHours:0,firebaseUid:"temp-firebase-uid",createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()};r(e),o(!1)},[]);const l={user:s,firebaseUser:n,loading:a,signIn:async(e,t)=>{if(!Va)throw new Error("Firebase not initialized");try{await Si(Va,e,t)}catch(dl){throw new Error(dl.message)}},signInWithGoogle:async()=>{if(!Va)throw new Error("Firebase not initialized");try{const e=new bi;await sa(Va,e)}catch(dl){throw new Error(dl.message)}},signOut:async()=>{var e;if(localStorage.removeItem("access_token"),Va)try{await(e=Va,ds(e).signOut()),r(null)}catch(dl){throw new Error(dl.message)}else r(null)},resetPassword:async e=>{if(!Va)throw new Error("Firebase not initialized");try{await async function(e,t){const s=Qn(e),r={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};await ri(s,r,"getOobCode",di)}(Va,e)}catch(dl){throw new Error(dl.message)}},refreshUser:async()=>{if(n){const e=await(async e=>{try{const t=await e.getIdToken(),s=await fetch("https://api.cruiseraviation.com/api/users/me",{headers:{Authorization:`Bearer ${t}`}});return s.ok?await s.json():null}catch(dl){return null}})(n);r(e)}}};return Y.jsx(za.Provider,{value:l,children:t})},qa=()=>{const t=e.useContext(za);if(void 0===t)throw new Error("useAuth must be used within an AuthProvider");return t};function Wa(e){var t,s,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var n=e.length;for(t=0;t<n;t++)e[t]&&(s=Wa(e[t]))&&(r&&(r+=" "),r+=s)}else for(s in e)e[s]&&(r&&(r+=" "),r+=s);return r}const Ka=e=>{const t=Qa(e),{conflictingClassGroups:s,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:e=>{const s=e.split("-");return""===s[0]&&1!==s.length&&s.shift(),Ga(s,t)||Ya(e)},getConflictingClassGroupIds:(e,t)=>{const n=s[e]||[];return t&&r[e]?[...n,...r[e]]:n}}},Ga=(e,t)=>{if(0===e.length)return t.classGroupId;const s=e[0],r=t.nextPart.get(s),n=r?Ga(e.slice(1),r):void 0;if(n)return n;if(0===t.validators.length)return;const i=e.join("-");return t.validators.find(({validator:e})=>e(i))?.classGroupId},Ja=/^\[(.+)\]$/,Ya=e=>{if(Ja.test(e)){const t=Ja.exec(e)[1],s=t?.substring(0,t.indexOf(":"));if(s)return"arbitrary.."+s}},Qa=e=>{const{theme:t,prefix:s}=e,r={nextPart:new Map,validators:[]};return to(Object.entries(e.classGroups),s).forEach(([e,s])=>{Xa(s,r,e,t)}),r},Xa=(e,t,s,r)=>{e.forEach(e=>{if("string"==typeof e){return void((""===e?t:Za(t,e)).classGroupId=s)}if("function"==typeof e)return eo(e)?void Xa(e(r),t,s,r):void t.validators.push({validator:e,classGroupId:s});Object.entries(e).forEach(([e,n])=>{Xa(n,Za(t,e),s,r)})})},Za=(e,t)=>{let s=e;return t.split("-").forEach(e=>{s.nextPart.has(e)||s.nextPart.set(e,{nextPart:new Map,validators:[]}),s=s.nextPart.get(e)}),s},eo=e=>e.isThemeGetter,to=(e,t)=>t?e.map(([e,s])=>[e,s.map(e=>"string"==typeof e?t+e:"object"==typeof e?Object.fromEntries(Object.entries(e).map(([e,s])=>[t+e,s])):e)]):e,so=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,s=new Map,r=new Map;const n=(n,i)=>{s.set(n,i),t++,t>e&&(t=0,r=s,s=new Map)};return{get(e){let t=s.get(e);return void 0!==t?t:void 0!==(t=r.get(e))?(n(e,t),t):void 0},set(e,t){s.has(e)?s.set(e,t):n(e,t)}}},ro=e=>{const{separator:t,experimentalParseClassName:s}=e,r=1===t.length,n=t[0],i=t.length,a=e=>{const s=[];let a,o=0,l=0;for(let u=0;u<e.length;u++){let c=e[u];if(0===o){if(c===n&&(r||e.slice(u,u+i)===t)){s.push(e.slice(l,u)),l=u+i;continue}if("/"===c){a=u;continue}}"["===c?o++:"]"===c&&o--}const c=0===s.length?e:e.substring(l),d=c.startsWith("!");return{modifiers:s,hasImportantModifier:d,baseClassName:d?c.substring(1):c,maybePostfixModifierPosition:a&&a>l?a-l:void 0}};return s?e=>s({className:e,parseClassName:a}):a},no=e=>{if(e.length<=1)return e;const t=[];let s=[];return e.forEach(e=>{"["===e[0]?(t.push(...s.sort(),e),s=[]):s.push(e)}),t.push(...s.sort()),t},io=/\s+/;function ao(){let e,t,s=0,r="";for(;s<arguments.length;)(e=arguments[s++])&&(t=oo(e))&&(r&&(r+=" "),r+=t);return r}const oo=e=>{if("string"==typeof e)return e;let t,s="";for(let r=0;r<e.length;r++)e[r]&&(t=oo(e[r]))&&(s&&(s+=" "),s+=t);return s};function lo(e,...t){let s,r,n,i=function(o){const l=t.reduce((e,t)=>t(e),e());return s=(e=>({cache:so(e.cacheSize),parseClassName:ro(e),...Ka(e)}))(l),r=s.cache.get,n=s.cache.set,i=a,a(o)};function a(e){const t=r(e);if(t)return t;const i=((e,t)=>{const{parseClassName:s,getClassGroupId:r,getConflictingClassGroupIds:n}=t,i=[],a=e.trim().split(io);let o="";for(let l=a.length-1;l>=0;l-=1){const e=a[l],{modifiers:t,hasImportantModifier:c,baseClassName:d,maybePostfixModifierPosition:u}=s(e);let h=Boolean(u),m=r(h?d.substring(0,u):d);if(!m){if(!h){o=e+(o.length>0?" "+o:o);continue}if(m=r(d),!m){o=e+(o.length>0?" "+o:o);continue}h=!1}const f=no(t).join(":"),p=c?f+"!":f,g=p+m;if(i.includes(g))continue;i.push(g);const x=n(m,h);for(let s=0;s<x.length;++s){const e=x[s];i.push(p+e)}o=e+(o.length>0?" "+o:o)}return o})(e,s);return n(e,i),i}return function(){return i(ao.apply(null,arguments))}}const co=e=>{const t=t=>t[e]||[];return t.isThemeGetter=!0,t},uo=/^\[(?:([a-z-]+):)?(.+)\]$/i,ho=/^\d+\/\d+$/,mo=new Set(["px","full","screen"]),fo=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,po=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,go=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,xo=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,yo=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,bo=e=>jo(e)||mo.has(e)||ho.test(e),vo=e=>Do(e,"length",Ro),jo=e=>Boolean(e)&&!Number.isNaN(Number(e)),No=e=>Do(e,"number",jo),wo=e=>Boolean(e)&&Number.isInteger(Number(e)),ko=e=>e.endsWith("%")&&jo(e.slice(0,-1)),Co=e=>uo.test(e),Io=e=>fo.test(e),So=new Set(["length","size","percentage"]),Eo=e=>Do(e,So,Lo),To=e=>Do(e,"position",Lo),_o=new Set(["image","url"]),Ao=e=>Do(e,_o,Fo),Po=e=>Do(e,"",Mo),Oo=()=>!0,Do=(e,t,s)=>{const r=uo.exec(e);return!!r&&(r[1]?"string"==typeof t?r[1]===t:t.has(r[1]):s(r[2]))},Ro=e=>po.test(e)&&!go.test(e),Lo=()=>!1,Mo=e=>xo.test(e),Fo=e=>yo.test(e),Uo=lo(()=>{const e=co("colors"),t=co("spacing"),s=co("blur"),r=co("brightness"),n=co("borderColor"),i=co("borderRadius"),a=co("borderSpacing"),o=co("borderWidth"),l=co("contrast"),c=co("grayscale"),d=co("hueRotate"),u=co("invert"),h=co("gap"),m=co("gradientColorStops"),f=co("gradientColorStopPositions"),p=co("inset"),g=co("margin"),x=co("opacity"),y=co("padding"),b=co("saturate"),v=co("scale"),j=co("sepia"),N=co("skew"),w=co("space"),k=co("translate"),C=()=>["auto",Co,t],I=()=>[Co,t],S=()=>["",bo,vo],E=()=>["auto",jo,Co],T=()=>["","0",Co],_=()=>[jo,Co];return{cacheSize:500,separator:":",theme:{colors:[Oo],spacing:[bo,vo],blur:["none","",Io,Co],brightness:_(),borderColor:[e],borderRadius:["none","","full",Io,Co],borderSpacing:I(),borderWidth:S(),contrast:_(),grayscale:T(),hueRotate:_(),invert:T(),gap:I(),gradientColorStops:[e],gradientColorStopPositions:[ko,vo],inset:C(),margin:C(),opacity:_(),padding:I(),saturate:_(),scale:_(),sepia:T(),skew:_(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",Co]}],container:["container"],columns:[{columns:[Io]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",Co]}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",wo,Co]}],basis:[{basis:C()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Co]}],grow:[{grow:T()}],shrink:[{shrink:T()}],order:[{order:["first","last","none",wo,Co]}],"grid-cols":[{"grid-cols":[Oo]}],"col-start-end":[{col:["auto",{span:["full",wo,Co]},Co]}],"col-start":[{"col-start":E()}],"col-end":[{"col-end":E()}],"grid-rows":[{"grid-rows":[Oo]}],"row-start-end":[{row:["auto",{span:[wo,Co]},Co]}],"row-start":[{"row-start":E()}],"row-end":[{"row-end":E()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Co]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Co]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal","start","end","center","between","around","evenly","stretch"]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[w]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[w]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Co,t]}],"min-w":[{"min-w":[Co,t,"min","max","fit"]}],"max-w":[{"max-w":[Co,t,"none","full","min","max","fit","prose",{screen:[Io]},Io]}],h:[{h:[Co,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Co,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Co,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Co,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Io,vo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",No]}],"font-family":[{font:[Oo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Co]}],"line-clamp":[{"line-clamp":["none",jo,No]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",bo,Co]}],"list-image":[{"list-image":["none",Co]}],"list-style-type":[{list:["none","disc","decimal",Co]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","none","wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",bo,vo]}],"underline-offset":[{"underline-offset":["auto",bo,Co]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Co]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Co]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",To]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Eo]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Ao]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[f]}],"gradient-via-pos":[{via:[f]}],"gradient-to-pos":[{to:[f]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:["solid","dashed","dotted","double","none","hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:["solid","dashed","dotted","double","none"]}],"border-color":[{border:[n]}],"border-color-x":[{"border-x":[n]}],"border-color-y":[{"border-y":[n]}],"border-color-s":[{"border-s":[n]}],"border-color-e":[{"border-e":[n]}],"border-color-t":[{"border-t":[n]}],"border-color-r":[{"border-r":[n]}],"border-color-b":[{"border-b":[n]}],"border-color-l":[{"border-l":[n]}],"divide-color":[{divide:[n]}],"outline-style":[{outline:["","solid","dashed","dotted","double","none"]}],"outline-offset":[{"outline-offset":[bo,Co]}],"outline-w":[{outline:[bo,vo]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:S()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[bo,vo]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Io,Po]}],"shadow-color":[{shadow:[Oo]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Io,Co]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[u]}],saturate:[{saturate:[b]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[u]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Co]}],duration:[{duration:_()}],ease:[{ease:["linear","in","out","in-out",Co]}],delay:[{delay:_()}],animate:[{animate:["none","spin","ping","pulse","bounce",Co]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[v]}],"scale-x":[{"scale-x":[v]}],"scale-y":[{"scale-y":[v]}],rotate:[{rotate:[wo,Co]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Co]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Co]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Co]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[bo,vo,No]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}});function Bo(...e){return Uo(function(){for(var e,t,s=0,r="",n=arguments.length;s<n;s++)(e=arguments[s])&&(t=Wa(e))&&(r&&(r+=" "),r+=t);return r}(e))}const Ho=({size:e="md",className:t})=>Y.jsx("div",{className:Bo("spinner",{sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8",xl:"w-12 h-12"}[e],t),role:"status","aria-label":"Loading",children:Y.jsx("span",{className:"sr-only",children:"Loading..."})}),Vo=()=>Y.jsxs(Y.Fragment,{children:[Y.jsxs(Ht,{children:[Y.jsx("title",{children:"Cruiser Aviation Platform - Modern Flight School Management"}),Y.jsx("meta",{name:"description",content:"Transform your flight school operations with our comprehensive aviation management platform. Streamline onboarding, flight logging, and student management."})]}),Y.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-aviation-sky to-aviation-flight",children:[Y.jsx("nav",{className:"relative z-10 px-6 py-4",children:Y.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[Y.jsxs("div",{className:"flex items-center space-x-2",children:[Y.jsx(u,{className:"w-8 h-8 text-white"}),Y.jsx("span",{className:"text-xl font-bold text-white",children:"Cruiser Aviation"})]}),Y.jsxs("div",{className:"hidden md:flex items-center space-x-6",children:[Y.jsx("a",{href:"#features",className:"text-white hover:text-blue-100 transition-colors",children:"Features"}),Y.jsx("a",{href:"#pricing",className:"text-white hover:text-blue-100 transition-colors",children:"Pricing"}),Y.jsx("a",{href:"#contact",className:"text-white hover:text-blue-100 transition-colors",children:"Contact"}),Y.jsx(i,{to:"/login",className:"bg-white text-blue-600 px-4 py-2 rounded-lg font-medium hover:bg-blue-50 transition-colors",children:"Sign In"})]})]})}),Y.jsx("section",{className:"relative px-6 py-20",children:Y.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[Y.jsxs("h1",{className:"text-5xl md:text-7xl font-bold text-white mb-6",children:["Take Flight with",Y.jsx("span",{className:"block text-blue-100",children:"Modern Aviation"})]}),Y.jsx("p",{className:"text-xl md:text-2xl text-blue-100 mb-8 max-w-3xl mx-auto",children:"Streamline your flight school operations with our comprehensive platform. From student onboarding to flight logging, we've got you covered."}),Y.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[Y.jsxs(i,{to:"/login",className:"bg-white text-blue-600 px-8 py-4 rounded-lg font-semibold text-lg hover:bg-blue-50 transition-colors inline-flex items-center justify-center",children:["Get Started",Y.jsx(h,{className:"ml-2 w-5 h-5"})]}),Y.jsxs("button",{className:"border-2 border-white text-white px-8 py-4 rounded-lg font-semibold text-lg hover:bg-white hover:text-blue-600 transition-colors inline-flex items-center justify-center",children:[Y.jsx(m,{className:"mr-2 w-5 h-5"}),"Watch Demo"]})]})]})}),Y.jsx("section",{id:"features",className:"py-20 bg-white",children:Y.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[Y.jsxs("div",{className:"text-center mb-16",children:[Y.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Everything You Need to Soar"}),Y.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Our platform provides all the tools you need to manage your aviation business efficiently."})]}),Y.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[Y.jsxs("div",{className:"card p-6 text-center",children:[Y.jsx("div",{className:"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-4",children:Y.jsx(f,{className:"w-8 h-8 text-primary-600"})}),Y.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Smart Onboarding"}),Y.jsx("p",{className:"text-gray-600",children:"AI-powered document processing and verification for seamless student registration."})]}),Y.jsxs("div",{className:"card p-6 text-center",children:[Y.jsx("div",{className:"w-16 h-16 bg-success-100 rounded-full flex items-center justify-center mx-auto mb-4",children:Y.jsx(p,{className:"w-8 h-8 text-success-600"})}),Y.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Flight Logging"}),Y.jsx("p",{className:"text-gray-600",children:"Mobile-first flight hour tracking with GPS integration and photo documentation."})]}),Y.jsxs("div",{className:"card p-6 text-center",children:[Y.jsx("div",{className:"w-16 h-16 bg-warning-100 rounded-full flex items-center justify-center mx-auto mb-4",children:Y.jsx(g,{className:"w-8 h-8 text-warning-600"})}),Y.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Document Management"}),Y.jsx("p",{className:"text-gray-600",children:"Secure storage and automatic expiry tracking for licenses and medical certificates."})]}),Y.jsxs("div",{className:"card p-6 text-center",children:[Y.jsx("div",{className:"w-16 h-16 bg-danger-100 rounded-full flex items-center justify-center mx-auto mb-4",children:Y.jsx(x,{className:"w-8 h-8 text-danger-600"})}),Y.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Multi-Base Support"}),Y.jsx("p",{className:"text-gray-600",children:"Manage multiple flight school locations with centralized administration."})]}),Y.jsxs("div",{className:"card p-6 text-center",children:[Y.jsx("div",{className:"w-16 h-16 bg-secondary-100 rounded-full flex items-center justify-center mx-auto mb-4",children:Y.jsx(u,{className:"w-8 h-8 text-secondary-600"})}),Y.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Aircraft Management"}),Y.jsx("p",{className:"text-gray-600",children:"Track aircraft availability, maintenance, and rental scheduling."})]}),Y.jsxs("div",{className:"card p-6 text-center",children:[Y.jsx("div",{className:"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-4",children:Y.jsx(y,{className:"w-8 h-8 text-primary-600"})}),Y.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Automated Invoicing"}),Y.jsx("p",{className:"text-gray-600",children:"SmartBill integration for automated invoice generation and payment tracking."})]})]})]})}),Y.jsx("section",{className:"py-20 bg-gray-900",children:Y.jsxs("div",{className:"max-w-4xl mx-auto text-center px-6",children:[Y.jsx("h2",{className:"text-4xl font-bold text-white mb-4",children:"Ready to Transform Your Flight School?"}),Y.jsx("p",{className:"text-xl text-gray-300 mb-8",children:"Join hundreds of aviation professionals who trust Cruiser Aviation Platform."}),Y.jsxs(i,{to:"/login",className:"bg-primary-600 text-white px-8 py-4 rounded-lg font-semibold text-lg hover:bg-primary-700 transition-colors inline-flex items-center",children:["Start Your Free Trial",Y.jsx(h,{className:"ml-2 w-5 h-5"})]})]})}),Y.jsx("footer",{className:"bg-gray-800 text-white py-12",children:Y.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[Y.jsxs("div",{className:"grid md:grid-cols-4 gap-8",children:[Y.jsxs("div",{children:[Y.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[Y.jsx(u,{className:"w-6 h-6"}),Y.jsx("span",{className:"text-lg font-bold",children:"Cruiser Aviation"})]}),Y.jsx("p",{className:"text-gray-400",children:"Modern aviation management platform for flight schools and aircraft rental businesses."})]}),Y.jsxs("div",{children:[Y.jsx("h4",{className:"font-semibold mb-4",children:"Product"}),Y.jsxs("ul",{className:"space-y-2 text-gray-400",children:[Y.jsx("li",{children:Y.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Features"})}),Y.jsx("li",{children:Y.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Pricing"})}),Y.jsx("li",{children:Y.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"API"})})]})]}),Y.jsxs("div",{children:[Y.jsx("h4",{className:"font-semibold mb-4",children:"Company"}),Y.jsxs("ul",{className:"space-y-2 text-gray-400",children:[Y.jsx("li",{children:Y.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"About"})}),Y.jsx("li",{children:Y.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Contact"})}),Y.jsx("li",{children:Y.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Support"})})]})]}),Y.jsxs("div",{children:[Y.jsx("h4",{className:"font-semibold mb-4",children:"Legal"}),Y.jsxs("ul",{className:"space-y-2 text-gray-400",children:[Y.jsx("li",{children:Y.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Privacy"})}),Y.jsx("li",{children:Y.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Terms"})}),Y.jsx("li",{children:Y.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Security"})})]})]})]}),Y.jsx("div",{className:"border-t border-gray-700 mt-8 pt-8 text-center text-gray-400",children:Y.jsx("p",{children:"© 2024 Cruiser Aviation. All rights reserved."})})]})})]})]}),zo=()=>{const[t,s]=e.useState(""),[r,n]=e.useState(!1),[i,l]=e.useState(!1),[c]=a(),d=o(),{signIn:u}=qa();e.useEffect(()=>{const e=c.get("token");e&&h(e)},[c]);const h=async e=>{l(!0);try{const t=await fetch(`/api/auth/verify?token=${e}`,{method:"GET"}),s=await t.json();t.ok?(localStorage.setItem("access_token",s.access_token),b.success("Login successful!"),d("/dashboard")):(b.error(s.message||"Invalid magic link"),d("/login"))}catch(dl){b.error("Network error during verification"),d("/login")}finally{l(!1)}};return i?Y.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:Y.jsxs("div",{className:"text-center",children:[Y.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),Y.jsx("p",{className:"mt-4 text-gray-600",children:"Verifying your magic link..."})]})}):Y.jsxs(Y.Fragment,{children:[Y.jsx(Ht,{children:Y.jsx("title",{children:"Login - Cruiser Aviation Platform"})}),Y.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:Y.jsxs("div",{className:"max-w-md w-full space-y-8",children:[Y.jsxs("div",{children:[Y.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to your account"}),Y.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Welcome back to Cruiser Aviation"})]}),Y.jsxs("form",{className:"mt-8 space-y-6",onSubmit:async e=>{e.preventDefault(),n(!0);try{const e=await fetch("/api/auth/magic-link",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t})}),s=await e.json();e.ok?(b.success("Magic link sent! Check your email."),s.token&&b.success(`Dev token: ${s.token}`,{duration:1e4})):b.error(s.message||"Failed to send magic link")}catch(dl){dl instanceof TypeError&&dl.message.includes("fetch")?b.error("Backend server is not available. Please try again later."):b.error("Network error. Please try again.")}finally{n(!1)}},children:[Y.jsxs("div",{children:[Y.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),Y.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-md relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Email address",value:t,onChange:e=>s(e.target.value)})]}),Y.jsx("div",{children:Y.jsx("button",{type:"submit",disabled:r,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:r?"Sending...":"Send Magic Link"})})]}),Y.jsxs("div",{className:"mt-6",children:[Y.jsxs("div",{className:"relative",children:[Y.jsx("div",{className:"absolute inset-0 flex items-center",children:Y.jsx("div",{className:"w-full border-t border-gray-300"})}),Y.jsx("div",{className:"relative flex justify-center text-sm",children:Y.jsx("span",{className:"px-2 bg-gray-50 text-gray-500",children:"Or continue with"})})]}),Y.jsx("div",{className:"mt-6",children:Y.jsxs("button",{onClick:async()=>{n(!0);try{await new Promise(e=>setTimeout(e,1e3)),d("/dashboard")}catch(dl){}finally{n(!1)}},disabled:r,className:"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:[Y.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[Y.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),Y.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),Y.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),Y.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),Y.jsx("span",{className:"ml-2",children:"Sign in with Google"})]})})]}),Y.jsx("div",{className:"text-center",children:Y.jsx("a",{href:"/",className:"font-medium text-blue-600 hover:text-blue-500",children:"Back to home"})})]})})]})},$o={Dashboard:I,Flights:u,FlightLog:A,Profile:D,Services:E,Invoices:P,Payments:O,Bases:x,Settings:_,Logout:w,Users:f,Roles:S,Fleet:u,Reports:T},qo=({children:t,activeSection:s="dashboard",onSectionChange:r,userType:n="user",title:i="Cruiser Aviation Platform"})=>{const[a,o]=e.useState(!1),[l,c]=e.useState(!1),d="admin"===n?[{id:"dashboard",label:"Dashboard",icon:$o.Dashboard},{id:"users",label:"Users",icon:$o.Users},{id:"roles",label:"Roles",icon:$o.Roles},{id:"bases",label:"Bases",icon:$o.Bases},{id:"fleet",label:"Fleet",icon:$o.Fleet},{id:"services",label:"Services",icon:$o.Services},{id:"flights",label:"Flights",icon:$o.Flights},{id:"reports",label:"Reports",icon:$o.Reports},{id:"settings",label:"Settings",icon:$o.Settings}]:[{id:"dashboard",label:"Dashboard",icon:$o.Dashboard},{id:"flights",label:"My Flights",icon:$o.Flights},{id:"flightlog",label:"Flight Log",icon:$o.FlightLog},{id:"services",label:"Services",icon:$o.Services},{id:"invoices",label:"Invoices",icon:$o.Invoices},{id:"payments",label:"Payments",icon:$o.Payments},{id:"bases",label:"Bases",icon:$o.Bases},{id:"profile",label:"Profile",icon:$o.Profile},{id:"settings",label:"Settings",icon:$o.Settings}],u="admin"===n?{name:"Admin User",role:"Super Admin",initial:"A"}:{name:"User",role:"Pilot",initial:"U"};return Y.jsxs(Y.Fragment,{children:[Y.jsxs(Ht,{children:[Y.jsx("title",{children:i}),Y.jsx("meta",{name:"description",content:"Modern flight school and aircraft rental management platform"})]}),Y.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[l&&Y.jsx("div",{className:"fixed inset-0 z-40 bg-black bg-opacity-50 lg:hidden",onClick:()=>c(!1)}),Y.jsxs("div",{className:`\n          fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-lg transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:sticky lg:top-0 lg:inset-0 lg:flex-shrink-0 lg:h-screen\n          ${l?"translate-x-0":"-translate-x-full"}\n          ${a?"lg:w-16":"lg:w-64"}\n        `,children:[Y.jsxs("div",{className:"flex items-center justify-between h-16 px-4 border-b border-gray-200",children:[!a&&Y.jsxs("h1",{className:"text-xl font-bold text-gray-900",children:["✈️ ","admin"===n?"Cruiser Admin":"Cruiser Aviation"]}),Y.jsx("button",{onClick:()=>o(!a),className:"hidden lg:flex items-center justify-center w-8 h-8 text-gray-500 hover:text-gray-700",children:a?Y.jsx(v,{size:20}):Y.jsx(j,{size:20})}),Y.jsx("button",{onClick:()=>c(!1),className:"lg:hidden",children:Y.jsx(N,{size:20})})]}),Y.jsxs("nav",{className:"mt-6 px-3",children:[Y.jsx("div",{className:"space-y-1",children:d.map(e=>{const t=e.icon;return Y.jsxs("button",{onClick:()=>{var t;t=e.id,r&&r(t),c(!1)},className:`\n                      w-full flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors\n                      ${s===e.id?"bg-blue-100 text-blue-700 border-r-2 border-blue-700":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}\n                    `,children:[Y.jsx(t,{size:20,className:"flex-shrink-0"}),!a&&Y.jsx("span",{className:"ml-3",children:e.label})]},e.id)})}),Y.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200",children:Y.jsxs("button",{className:"w-full flex items-center px-3 py-2 text-sm font-medium text-gray-600 hover:bg-gray-100 hover:text-gray-900 rounded-md transition-colors",children:[Y.jsx($o.Logout,{size:20,className:"flex-shrink-0"}),!a&&Y.jsx("span",{className:"ml-3",children:"Logout"})]})})]})]}),Y.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[Y.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:Y.jsxs("div",{className:"flex items-center justify-between h-16 px-4 sm:px-6 lg:px-8",children:[Y.jsx("button",{onClick:()=>c(!0),className:"lg:hidden p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100",children:Y.jsx(k,{size:20})}),Y.jsx("div",{className:"flex-1 lg:flex-none",children:Y.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:d.find(e=>e.id===s)?.label||"Dashboard"})}),Y.jsxs("div",{className:"flex items-center space-x-4",children:[Y.jsxs("button",{className:"p-2 text-gray-400 hover:text-gray-500 hover:bg-gray-100 rounded-md relative",children:[Y.jsx(C,{size:20}),Y.jsx("span",{className:"absolute top-1 right-1 block h-2 w-2 rounded-full bg-red-400"})]}),Y.jsxs("div",{className:"flex items-center space-x-3",children:[Y.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center",children:Y.jsx("span",{className:"text-white text-sm font-medium",children:u.initial})}),Y.jsxs("div",{className:"hidden md:block",children:[Y.jsx("p",{className:"text-sm font-medium text-gray-900",children:u.name}),Y.jsx("p",{className:"text-xs text-gray-500",children:u.role})]})]})]})]})}),Y.jsx("main",{className:"p-6",children:t})]})]})]})},Wo=()=>{const[t,s]=e.useState(!1),[r,n]=e.useState(!1),[i,a]=e.useState(!1),[o,l]=e.useState(!1),[c,d]=e.useState([]),[u,h]=e.useState(null),[m,f]=e.useState(!1),[p,g]=e.useState(0),[x,y]=e.useState(!1),[b,v]=e.useState(""),[j,N]=e.useState(!0),w=[{id:1,email:"john.doe@example.com",firstName:"John",lastName:"Doe",phoneNumber:"+1 (555) 123-4567",role:"student_pilot",status:"active",createdAt:"2024-01-15T10:30:00Z",imageUrl:null},{id:2,email:"jane.smith@example.com",firstName:"Jane",lastName:"Smith",phoneNumber:"+1 (555) 987-6543",role:"instructor",status:"active",createdAt:"2024-01-10T14:20:00Z",imageUrl:null},{id:3,email:"mike.wilson@example.com",firstName:"Mike",lastName:"Wilson",phoneNumber:"+1 (555) 456-7890",role:"pilot",status:"pending",createdAt:"2024-01-20T09:15:00Z",imageUrl:null}],[k,C]=e.useState({email:"",firstName:"",lastName:"",phoneNumber:"",role:"student_pilot",status:"pending",address:"",city:"",region:"",country:"",postalCode:"",nationality:"",dateOfBirth:"",nationalId:"",sex:"",imageUrl:"",hasPPL:!1,pplNumber:"",pplIssueDate:"",pplExpiryDate:"",medicalCertificateNumber:"",medicalExamDate:"",medicalIssueDate:"",medicalExpiryDate:"",totalFlightHours:0,creditedHours:0}),I=async()=>{N(!0);try{const e=await fetch("/api/admin/users");if(e.ok){const t=await e.json();d(t)}else d(w)}catch(e){d(w)}finally{N(!1)}};e.useEffect(()=>{I()},[]);const S=(e,t)=>{C(s=>({...s,[e]:t}))},E=async e=>{try{const t=new FormData;t.append("image",e);const s=await fetch("/api/admin/users/upload-image",{method:"POST",body:t});if(s.ok){const e=await s.json();S("imageUrl",e.url),alert("Image uploaded successfully!")}else alert("Failed to upload image. Please try again.")}catch(dl){alert("Error uploading image. Please try again.")}},T=e=>{switch(e){case"super_admin":return"bg-red-100 text-red-800";case"admin":return"bg-purple-100 text-purple-800";case"instructor":return"bg-blue-100 text-blue-800";case"pilot":return"bg-green-100 text-green-800";case"student_pilot":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},_=e=>{switch(e){case"active":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"suspended":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return Y.jsxs("div",{className:"h-full flex flex-col",children:[Y.jsxs("div",{className:"bg-white border-b border-gray-200 shadow-sm sticky top-0 z-20",children:[Y.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[Y.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"User Management"}),Y.jsx("button",{onClick:()=>s(!0),className:"px-4 py-2 bg-black text-white rounded-md text-sm hover:bg-gray-800 transition-colors",children:"Add User"})]}),Y.jsx("div",{className:"px-6 py-3 bg-gray-50",children:Y.jsxs("div",{className:"grid grid-cols-6 gap-4 text-xs font-medium text-gray-500 uppercase tracking-wider",children:[Y.jsx("div",{children:"User"}),Y.jsx("div",{children:"Email"}),Y.jsx("div",{children:"Role"}),Y.jsx("div",{children:"Status"}),Y.jsx("div",{children:"Created"}),Y.jsx("div",{children:"Actions"})]})})]}),Y.jsxs("div",{className:"flex-1 flex flex-col",children:[j&&Y.jsx("div",{className:"flex-1 flex items-center justify-center",children:Y.jsxs("div",{className:"text-center",children:[Y.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),Y.jsx("p",{className:"mt-4 text-gray-600",children:"Loading users..."})]})}),!j&&Y.jsx("div",{className:"flex-1 overflow-auto",children:Y.jsx("div",{className:"bg-white",children:Y.jsx("div",{className:"divide-y divide-gray-200",children:0===c.length?Y.jsx("div",{className:"px-6 py-8 text-center",children:Y.jsx("p",{className:"text-gray-500",children:"No users found"})}):c.map(e=>Y.jsx("div",{className:"px-6 py-4 hover:bg-gray-50",children:Y.jsxs("div",{className:"grid grid-cols-6 gap-4 items-center",children:[Y.jsxs("div",{className:"flex items-center",children:[Y.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center flex-shrink-0",children:e.imageUrl?Y.jsxs(Y.Fragment,{children:[Y.jsx("img",{src:e.imageUrl,alt:`${e.firstName} ${e.lastName}`,className:"w-10 h-10 rounded-full object-cover"}),Y.jsxs("span",{className:"text-gray-500 text-sm hidden",children:[e.firstName?.[0],e.lastName?.[0]]})]}):Y.jsxs("span",{className:"text-gray-500 text-sm",children:[e.firstName?.[0],e.lastName?.[0]]})}),Y.jsxs("div",{className:"ml-4",children:[Y.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[e.firstName," ",e.lastName]}),Y.jsx("div",{className:"text-sm text-gray-500",children:e.phoneNumber||"No phone"})]})]}),Y.jsx("div",{className:"text-sm text-gray-900",children:e.email}),Y.jsx("div",{children:Y.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${T(e.role)}`,children:e.role?.replace("_"," ").toUpperCase()})}),Y.jsx("div",{children:Y.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${_(e.status)}`,children:e.status?.toUpperCase()})}),Y.jsx("div",{className:"text-sm text-gray-500",children:e.createdAt?new Date(e.createdAt).toLocaleDateString():"N/A"}),Y.jsxs("div",{className:"flex space-x-2",children:[Y.jsx("button",{onClick:()=>(e=>{h(e),n(!0)})(e),className:"text-blue-600 hover:text-blue-900 px-2 py-1 rounded border border-blue-200 hover:bg-blue-50",children:"View"}),Y.jsx("button",{onClick:()=>(e=>{h(e),C({email:e.email||"",firstName:e.firstName||"",lastName:e.lastName||"",phoneNumber:e.phoneNumber||"",role:e.role||"student_pilot",status:e.status||"pending",address:e.address||"",city:e.city||"",region:e.region||"",country:e.country||"",postalCode:e.postalCode||"",nationality:e.nationality||"",dateOfBirth:e.dateOfBirth?new Date(e.dateOfBirth).toISOString().split("T")[0]:"",nationalId:e.nationalId||"",sex:e.sex||"",imageUrl:e.imageUrl||"",hasPPL:e.hasPPL||!1,pplNumber:e.pplNumber||"",pplIssueDate:e.pplIssueDate?new Date(e.pplIssueDate).toISOString().split("T")[0]:"",pplExpiryDate:e.pplExpiryDate?new Date(e.pplExpiryDate).toISOString().split("T")[0]:"",medicalCertificateNumber:e.medicalCertificateNumber||"",medicalExamDate:e.medicalExamDate?new Date(e.medicalExamDate).toISOString().split("T")[0]:"",medicalIssueDate:e.medicalIssueDate?new Date(e.medicalIssueDate).toISOString().split("T")[0]:"",medicalExpiryDate:e.medicalExpiryDate?new Date(e.medicalExpiryDate).toISOString().split("T")[0]:"",totalFlightHours:e.totalFlightHours||0,creditedHours:e.creditedHours||0}),a(!0)})(e),className:"text-gray-600 hover:text-gray-900 px-2 py-1 rounded border border-gray-200 hover:bg-gray-50",children:"Edit"}),Y.jsx("button",{onClick:()=>(async e=>{if(confirm(`Are you sure you want to delete "${e.firstName} ${e.lastName}"? This action cannot be undone.`))try{(await fetch(`/api/admin/users/${e.id}`,{method:"DELETE"})).ok?(alert("User deleted successfully!"),I()):alert("Failed to delete user. Please try again.")}catch(dl){alert("Error deleting user. Please try again.")}})(e),className:"text-red-600 hover:text-red-900 px-2 py-1 rounded border border-red-200 hover:bg-red-50",children:Y.jsx(R,{className:"w-4 h-4"})})]})]})},e.id))})})})]}),t&&Y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:Y.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full mx-4 flex flex-col max-h-[90vh]",children:[Y.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-white rounded-t-lg",children:[Y.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Add New User"}),Y.jsxs("div",{className:"flex space-x-2",children:[Y.jsx("button",{onClick:()=>s(!1),className:"px-4 py-2 text-sm border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"}),Y.jsx("button",{onClick:async()=>{l(!0);try{const e=await fetch("/api/admin/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...k,dateOfBirth:k.dateOfBirth?new Date(k.dateOfBirth).toISOString():null,pplIssueDate:k.pplIssueDate?new Date(k.pplIssueDate).toISOString():null,pplExpiryDate:k.pplExpiryDate?new Date(k.pplExpiryDate).toISOString():null,medicalExamDate:k.medicalExamDate?new Date(k.medicalExamDate).toISOString():null,medicalIssueDate:k.medicalIssueDate?new Date(k.medicalIssueDate).toISOString():null,medicalExpiryDate:k.medicalExpiryDate?new Date(k.medicalExpiryDate).toISOString():null,totalFlightHours:parseInt(k.totalFlightHours.toString()),creditedHours:parseInt(k.creditedHours.toString())})});if(e.ok){await e.json();s(!1),C({email:"",firstName:"",lastName:"",phoneNumber:"",role:"student_pilot",status:"pending",address:"",city:"",region:"",country:"",postalCode:"",nationality:"",dateOfBirth:"",nationalId:"",sex:"",imageUrl:"",hasPPL:!1,pplNumber:"",pplIssueDate:"",pplExpiryDate:"",medicalCertificateNumber:"",medicalExamDate:"",medicalIssueDate:"",medicalExpiryDate:"",totalFlightHours:0,creditedHours:0}),alert("User created successfully!"),I()}else{await e.json();alert("Failed to create user. Please try again.")}}catch(dl){alert("Error creating user. Please try again.")}finally{l(!1)}},disabled:o,className:"px-4 py-2 text-sm bg-black text-white rounded-md hover:bg-gray-800 disabled:opacity-50",children:o?"Creating...":"Create User"})]})]}),Y.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:Y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[Y.jsxs("div",{className:"space-y-4",children:[Y.jsx("h4",{className:"font-medium text-gray-900",children:"Basic Information"}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),Y.jsx("input",{type:"email",value:k.email,onChange:e=>S("email",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"user@example.com"})]}),Y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name"}),Y.jsx("input",{type:"text",value:k.firstName,onChange:e=>S("firstName",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"John"})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name"}),Y.jsx("input",{type:"text",value:k.lastName,onChange:e=>S("lastName",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Doe"})]})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),Y.jsx("input",{type:"tel",value:k.phoneNumber,onChange:e=>S("phoneNumber",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"+1 (555) 123-4567"})]}),Y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),Y.jsxs("select",{value:k.role,onChange:e=>S("role",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[Y.jsx("option",{value:"student_pilot",children:"Student Pilot"}),Y.jsx("option",{value:"pilot",children:"Pilot"}),Y.jsx("option",{value:"instructor",children:"Instructor"}),Y.jsx("option",{value:"admin",children:"Admin"}),Y.jsx("option",{value:"super_admin",children:"Super Admin"})]})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),Y.jsxs("select",{value:k.status,onChange:e=>S("status",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[Y.jsx("option",{value:"pending",children:"Pending"}),Y.jsx("option",{value:"active",children:"Active"}),Y.jsx("option",{value:"suspended",children:"Suspended"})]})]})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Profile Image"}),Y.jsxs("div",{className:"space-y-2",children:[Y.jsx("input",{type:"file",accept:"image/*",onChange:e=>{const t=e.target.files?.[0];t&&E(t)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),k.imageUrl&&Y.jsx("div",{className:"w-32 h-32 bg-gray-100 rounded-md overflow-hidden",children:Y.jsx("img",{src:k.imageUrl,alt:"Profile preview",className:"w-full h-full object-cover"})})]})]})]}),Y.jsxs("div",{className:"space-y-4",children:[Y.jsx("h4",{className:"font-medium text-gray-900",children:"Additional Information"}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),Y.jsx("input",{type:"text",value:k.address,onChange:e=>S("address",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"123 Main St"})]}),Y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),Y.jsx("input",{type:"text",value:k.city,onChange:e=>S("city",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"New York"})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country"}),Y.jsx("input",{type:"text",value:k.country,onChange:e=>S("country",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"USA"})]})]}),Y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date of Birth"}),Y.jsx("input",{type:"date",value:k.dateOfBirth,onChange:e=>S("dateOfBirth",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nationality"}),Y.jsx("input",{type:"text",value:k.nationality,onChange:e=>S("nationality",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"American"})]})]}),Y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Flight Hours"}),Y.jsx("input",{type:"number",value:k.totalFlightHours,onChange:e=>S("totalFlightHours",parseInt(e.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0"})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Credited Hours"}),Y.jsx("input",{type:"number",value:k.creditedHours,onChange:e=>S("creditedHours",parseInt(e.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0"})]})]})]})]})})]})}),r&&u&&Y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:Y.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 flex flex-col max-h-[90vh]",children:[Y.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-white rounded-t-lg",children:[Y.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"View User"}),Y.jsx("button",{onClick:()=>n(!1),className:"px-4 py-2 text-sm border border-gray-300 rounded-md hover:bg-gray-50",children:"Close"})]}),Y.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:Y.jsxs("div",{className:"space-y-6",children:[Y.jsxs("div",{className:"flex items-center space-x-4",children:[Y.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center",children:u.imageUrl?Y.jsx("img",{src:u.imageUrl,alt:`${u.firstName} ${u.lastName}`,className:"w-16 h-16 rounded-full object-cover"}):Y.jsxs("span",{className:"text-gray-500 text-xl",children:[u.firstName?.[0],u.lastName?.[0]]})}),Y.jsxs("div",{children:[Y.jsxs("h4",{className:"text-xl font-semibold text-gray-900",children:[u.firstName," ",u.lastName]}),Y.jsx("p",{className:"text-gray-500",children:u.email}),Y.jsxs("div",{className:"flex space-x-2 mt-2",children:[Y.jsx("span",{className:`inline-block px-2 py-1 text-xs font-medium rounded-full ${T(u.role)}`,children:u.role?.replace("_"," ").toUpperCase()}),Y.jsx("span",{className:`inline-block px-2 py-1 text-xs font-medium rounded-full ${_(u.status)}`,children:u.status?.toUpperCase()})]})]})]}),Y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[Y.jsxs("div",{className:"space-y-4",children:[Y.jsx("h5",{className:"font-medium text-gray-900",children:"Contact Information"}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),Y.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 px-3 py-2 rounded",children:u.phoneNumber||"N/A"})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),Y.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 px-3 py-2 rounded",children:u.address||"N/A"})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),Y.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 px-3 py-2 rounded",children:u.city||"N/A"})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country"}),Y.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 px-3 py-2 rounded",children:u.country||"N/A"})]})]}),Y.jsxs("div",{className:"space-y-4",children:[Y.jsx("h5",{className:"font-medium text-gray-900",children:"Flight Information"}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Flight Hours"}),Y.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 px-3 py-2 rounded",children:u.totalFlightHours||0})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Credited Hours"}),Y.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 px-3 py-2 rounded",children:u.creditedHours||0})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date of Birth"}),Y.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 px-3 py-2 rounded",children:u.dateOfBirth?new Date(u.dateOfBirth).toLocaleDateString():"N/A"})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nationality"}),Y.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 px-3 py-2 rounded",children:u.nationality||"N/A"})]})]})]}),u.imageUrl&&Y.jsxs("div",{children:[Y.jsx("h5",{className:"font-medium text-gray-900 mb-3",children:"Profile Image"}),Y.jsx("div",{className:"w-full max-w-md bg-gray-100 rounded-lg overflow-hidden",children:Y.jsx("img",{src:u.imageUrl,alt:`${u.firstName} ${u.lastName}`,className:"w-full h-64 object-cover"})})]})]})})]})}),i&&u&&Y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:Y.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full mx-4 flex flex-col max-h-[90vh]",children:[Y.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-white rounded-t-lg",children:[Y.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Edit User"}),Y.jsxs("div",{className:"flex space-x-2",children:[Y.jsx("button",{onClick:()=>a(!1),className:"px-4 py-2 text-sm border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"}),Y.jsx("button",{onClick:async()=>{if(u){f(!0);try{(await fetch(`/api/admin/users/${u.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...k,dateOfBirth:k.dateOfBirth?new Date(k.dateOfBirth).toISOString():null,pplIssueDate:k.pplIssueDate?new Date(k.pplIssueDate).toISOString():null,pplExpiryDate:k.pplExpiryDate?new Date(k.pplExpiryDate).toISOString():null,medicalExamDate:k.medicalExamDate?new Date(k.medicalExamDate).toISOString():null,medicalIssueDate:k.medicalIssueDate?new Date(k.medicalIssueDate).toISOString():null,medicalExpiryDate:k.medicalExpiryDate?new Date(k.medicalExpiryDate).toISOString():null,totalFlightHours:parseInt(k.totalFlightHours.toString()),creditedHours:parseInt(k.creditedHours.toString())})})).ok?(a(!1),h(null),C({email:"",firstName:"",lastName:"",phoneNumber:"",role:"student_pilot",status:"pending",address:"",city:"",region:"",country:"",postalCode:"",nationality:"",dateOfBirth:"",nationalId:"",sex:"",imageUrl:"",hasPPL:!1,pplNumber:"",pplIssueDate:"",pplExpiryDate:"",medicalCertificateNumber:"",medicalExamDate:"",medicalIssueDate:"",medicalExpiryDate:"",totalFlightHours:0,creditedHours:0}),alert("User updated successfully!"),g(e=>e+1),I()):alert("Failed to update user. Please try again.")}catch(dl){alert("Error updating user. Please try again.")}finally{f(!1)}}},disabled:m,className:"px-4 py-2 text-sm bg-black text-white rounded-md hover:bg-gray-800 disabled:opacity-50",children:m?"Updating...":"Update User"})]})]}),Y.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:Y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[Y.jsxs("div",{className:"space-y-4",children:[Y.jsx("h4",{className:"font-medium text-gray-900",children:"Basic Information"}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),Y.jsx("input",{type:"email",value:k.email,onChange:e=>S("email",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"user@example.com"})]}),Y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name"}),Y.jsx("input",{type:"text",value:k.firstName,onChange:e=>S("firstName",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"John"})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name"}),Y.jsx("input",{type:"text",value:k.lastName,onChange:e=>S("lastName",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Doe"})]})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),Y.jsx("input",{type:"tel",value:k.phoneNumber,onChange:e=>S("phoneNumber",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"+1 (555) 123-4567"})]}),Y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),Y.jsxs("select",{value:k.role,onChange:e=>S("role",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[Y.jsx("option",{value:"student_pilot",children:"Student Pilot"}),Y.jsx("option",{value:"pilot",children:"Pilot"}),Y.jsx("option",{value:"instructor",children:"Instructor"}),Y.jsx("option",{value:"admin",children:"Admin"}),Y.jsx("option",{value:"super_admin",children:"Super Admin"})]})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),Y.jsxs("select",{value:k.status,onChange:e=>S("status",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[Y.jsx("option",{value:"pending",children:"Pending"}),Y.jsx("option",{value:"active",children:"Active"}),Y.jsx("option",{value:"suspended",children:"Suspended"})]})]})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Profile Image"}),Y.jsxs("div",{className:"space-y-2",children:[Y.jsx("input",{type:"file",accept:"image/*",onChange:e=>{const t=e.target.files?.[0];t&&E(t)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),k.imageUrl&&Y.jsx("div",{className:"w-32 h-32 bg-gray-100 rounded-md overflow-hidden",children:Y.jsx("img",{src:k.imageUrl,alt:"Profile preview",className:"w-full h-full object-cover"})})]})]})]}),Y.jsxs("div",{className:"space-y-4",children:[Y.jsx("h4",{className:"font-medium text-gray-900",children:"Additional Information"}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),Y.jsx("input",{type:"text",value:k.address,onChange:e=>S("address",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"123 Main St"})]}),Y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),Y.jsx("input",{type:"text",value:k.city,onChange:e=>S("city",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"New York"})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country"}),Y.jsx("input",{type:"text",value:k.country,onChange:e=>S("country",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"USA"})]})]}),Y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date of Birth"}),Y.jsx("input",{type:"date",value:k.dateOfBirth,onChange:e=>S("dateOfBirth",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nationality"}),Y.jsx("input",{type:"text",value:k.nationality,onChange:e=>S("nationality",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"American"})]})]}),Y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Flight Hours"}),Y.jsx("input",{type:"number",value:k.totalFlightHours,onChange:e=>S("totalFlightHours",parseInt(e.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0"})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Credited Hours"}),Y.jsx("input",{type:"number",value:k.creditedHours,onChange:e=>S("creditedHours",parseInt(e.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0"})]})]})]})]})})]})})]})},Ko=({userRole:t="user"})=>{const s="admin"===t||"super_admin"===t||"base_manager"===t,[r,n]=e.useState(!1),[i,a]=e.useState(!1),[o,l]=e.useState(!1),[c,d]=e.useState(!1),[u,h]=e.useState([]),[m,f]=e.useState(null),[p,g]=e.useState(!1),[y,b]=e.useState(""),[v,j]=e.useState({name:"",description:"",address:"",city:"",region:"",country:"",postalCode:"",latitude:"",longitude:"",icaoCode:"",iataCode:"",runwayLength:"",runwaySurface:"",elevation:"",frequency:"",operatingHours:"",phone:"",email:"",website:"",imageUrl:"",isActive:!0}),N="https://api.cruiseraviation.com",w=async()=>{try{const e=await fetch("/api/admin/bases");if(e.ok){const t=await e.json();h(t)}else h([])}catch(e){h([])}};e.useEffect(()=>{w()},[]);const k=(e,t)=>{j(s=>({...s,[e]:t}))},C=async e=>{g(!0),b("");const t=new FormData;t.append("image",e);try{const e=await fetch("/api/admin/bases/upload-image",{method:"POST",body:t}),s=await e.json();s.url?j(e=>({...e,imageUrl:s.url})):b(s.error||"Upload failed")}catch(s){b("Upload failed")}finally{g(!1)}};return Y.jsxs("div",{className:"h-full flex flex-col",children:[Y.jsx("div",{className:"bg-white border-b border-gray-200 shadow-sm sticky top-0 z-20",children:Y.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[Y.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:s?"Base Management":"Available Bases"}),s&&Y.jsx("button",{onClick:()=>n(!0),className:"px-4 py-2 bg-black text-white rounded-md text-sm hover:bg-gray-800",children:"Add Base"})]})}),Y.jsx("div",{className:"flex-1 overflow-auto py-6 px-0",children:Y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(e=>Y.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[Y.jsxs("div",{className:"relative w-full",style:{aspectRatio:"16/9"},children:[e.imageUrl?Y.jsx("img",{src:`${N}${e.imageUrl}`,alt:e.name,className:"w-full h-full object-cover"}):Y.jsx("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center",children:Y.jsx(x,{className:"w-12 h-12 text-gray-400"})}),Y.jsx("div",{className:"absolute top-3 right-3",children:Y.jsx("span",{className:"inline-block px-2 py-1 text-xs font-medium rounded-full "+(e.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.isActive?"ACTIVE":"INACTIVE"})})]}),Y.jsxs("div",{className:"p-4",children:[Y.jsx("h3",{className:"font-semibold text-gray-900 text-lg mb-1",children:e.name}),Y.jsxs("p",{className:"text-sm text-gray-500 mb-2",children:[e.city,", ",e.country]}),e.icaoCode&&Y.jsxs("p",{className:"text-xs text-gray-400 mb-4",children:["ICAO: ",e.icaoCode]}),Y.jsx("div",{className:"border-t border-gray-200 pt-3",children:Y.jsxs("div",{className:"flex space-x-3 text-sm",children:[Y.jsx("button",{onClick:()=>(e=>{f(e),a(!0)})(e),className:"text-blue-600 hover:text-blue-800 font-medium",children:"View Details"}),s&&Y.jsxs(Y.Fragment,{children:[Y.jsx("button",{onClick:()=>(e=>{f(e),j({name:e.name||"",description:e.description||"",address:e.address||"",city:e.city||"",region:e.region||"",country:e.country||"",postalCode:e.postalCode||"",latitude:e.latitude?e.latitude.toString():"",longitude:e.longitude?e.longitude.toString():"",icaoCode:e.icaoCode||"",iataCode:e.iataCode||"",runwayLength:e.runwayLength||"",runwaySurface:e.runwaySurface||"",elevation:e.elevation||"",frequency:e.frequency||"",operatingHours:e.operatingHours||"",phone:e.phone||"",email:e.email||"",website:e.website||"",imageUrl:e.imageUrl||"",isActive:e.isActive}),l(!0)})(e),className:"text-gray-600 hover:text-gray-800 font-medium",children:"Edit"}),Y.jsx("button",{onClick:()=>(async e=>{if(confirm(`Are you sure you want to delete "${e.name}"? This action cannot be undone.`))try{(await fetch(`/api/admin/bases/${e.id}`,{method:"DELETE"})).ok?(alert("Base deleted successfully!"),w()):alert("Failed to delete base. Please try again.")}catch(dl){alert("Error deleting base. Please try again.")}})(e),className:"text-red-600 hover:text-red-800 font-medium",children:"Delete"})]})]})})]})]},e.id))})}),r&&Y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:Y.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full mx-4 flex flex-col max-h-[90vh]",children:[Y.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-white rounded-t-lg",children:[Y.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Add New Base"}),Y.jsxs("div",{className:"flex space-x-2",children:[Y.jsx("button",{onClick:()=>n(!1),className:"px-4 py-2 text-sm border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"}),Y.jsx("button",{onClick:async()=>{d(!0);try{const e=await fetch("/api/admin/bases",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...v,latitude:v.latitude?parseFloat(v.latitude):null,longitude:v.longitude?parseFloat(v.longitude):null})});if(e.ok){await e.json();n(!1),j({name:"",description:"",address:"",city:"",region:"",country:"",postalCode:"",latitude:"",longitude:"",icaoCode:"",iataCode:"",runwayLength:"",runwaySurface:"",elevation:"",frequency:"",operatingHours:"",phone:"",email:"",website:"",imageUrl:"",isActive:!0}),alert("Base created successfully!"),w()}else{await e.json();alert("Failed to create base. Please try again.")}}catch(dl){alert("Error creating base. Please try again.")}finally{d(!1)}},disabled:c,className:"px-4 py-2 text-sm bg-black text-white rounded-md hover:bg-gray-800 disabled:opacity-50",children:c?"Creating...":"Create Base"})]})]}),Y.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:Y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[Y.jsxs("div",{className:"space-y-4",children:[Y.jsx("h4",{className:"font-medium text-gray-900",children:"Basic Information"}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Base Name"}),Y.jsx("input",{type:"text",value:v.name,onChange:e=>k("name",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Main Base"})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),Y.jsx("textarea",{value:v.description,onChange:e=>k("description",e.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Description of the base..."})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),Y.jsx("input",{type:"text",value:v.address,onChange:e=>k("address",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"123 Airport Road"})]}),Y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),Y.jsx("input",{type:"text",value:v.city,onChange:e=>k("city",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"New York"})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country"}),Y.jsx("input",{type:"text",value:v.country,onChange:e=>k("country",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"USA"})]})]}),Y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ICAO Code"}),Y.jsx("input",{type:"text",value:v.icaoCode,onChange:e=>k("icaoCode",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"KJFK"})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"IATA Code"}),Y.jsx("input",{type:"text",value:v.iataCode,onChange:e=>k("iataCode",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"JFK"})]})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Base Image"}),Y.jsxs("div",{className:"space-y-2",children:[Y.jsx("input",{type:"file",accept:"image/*",onChange:e=>{const t=e.target.files?.[0];t&&C(t)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),v.imageUrl&&Y.jsx("div",{className:"w-32 h-32 bg-gray-100 rounded-md overflow-hidden",children:Y.jsx("img",{src:`${N}${v.imageUrl}`,alt:"Base preview",className:"w-full h-full object-cover"})})]})]})]}),Y.jsxs("div",{className:"space-y-4",children:[Y.jsx("h4",{className:"font-medium text-gray-900",children:"Additional Information"}),Y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Latitude"}),Y.jsx("input",{type:"number",step:"any",value:v.latitude,onChange:e=>k("latitude",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"40.7128"})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Longitude"}),Y.jsx("input",{type:"number",step:"any",value:v.longitude,onChange:e=>k("longitude",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"-74.0060"})]})]}),Y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Runway Length (ft)"}),Y.jsx("input",{type:"text",value:v.runwayLength,onChange:e=>k("runwayLength",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"8000"})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Runway Surface"}),Y.jsx("input",{type:"text",value:v.runwaySurface,onChange:e=>k("runwaySurface",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Asphalt"})]})]}),Y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Elevation (ft)"}),Y.jsx("input",{type:"text",value:v.elevation,onChange:e=>k("elevation",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"13"})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Frequency (MHz)"}),Y.jsx("input",{type:"text",value:v.frequency,onChange:e=>k("frequency",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"118.1"})]})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Operating Hours"}),Y.jsx("input",{type:"text",value:v.operatingHours,onChange:e=>k("operatingHours",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"24/7"})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),Y.jsx("input",{type:"tel",value:v.phone,onChange:e=>k("phone",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"+1 (555) 123-4567"})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),Y.jsx("input",{type:"email",value:v.email,onChange:e=>k("email",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"info@base.com"})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Website"}),Y.jsx("input",{type:"url",value:v.website,onChange:e=>k("website",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"https://base.com"})]}),Y.jsx("div",{children:Y.jsxs("label",{className:"flex items-center",children:[Y.jsx("input",{type:"checkbox",checked:v.isActive,onChange:e=>k("isActive",e.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),Y.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Active Base"})]})})]})]})})]})}),i&&m&&Y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:Y.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 flex flex-col max-h-[90vh]",children:[Y.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-white rounded-t-lg",children:[Y.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"View Base"}),Y.jsx("button",{onClick:()=>a(!1),className:"px-4 py-2 text-sm border border-gray-300 rounded-md hover:bg-gray-50",children:"Close"})]}),Y.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:Y.jsxs("div",{className:"space-y-6",children:[Y.jsxs("div",{className:"flex items-center space-x-4",children:[Y.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center",children:m.imageUrl?Y.jsx("img",{src:`${N}${m.imageUrl}`,alt:m.name,className:"w-16 h-16 rounded-full object-cover"}):Y.jsx(x,{className:"w-8 h-8 text-gray-500"})}),Y.jsxs("div",{children:[Y.jsx("h4",{className:"text-xl font-semibold text-gray-900",children:m.name}),Y.jsxs("p",{className:"text-gray-500",children:[m.city,", ",m.country]}),Y.jsxs("div",{className:"flex space-x-2 mt-2",children:[Y.jsx("span",{className:"inline-block px-2 py-1 text-xs font-medium rounded-full "+(m.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:m.isActive?"ACTIVE":"INACTIVE"}),m.icaoCode&&Y.jsxs("span",{className:"inline-block px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800",children:["ICAO: ",m.icaoCode]})]})]})]}),Y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[Y.jsxs("div",{className:"space-y-4",children:[Y.jsx("h5",{className:"font-medium text-gray-900",children:"Location Information"}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),Y.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 px-3 py-2 rounded",children:m.address||"N/A"})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),Y.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 px-3 py-2 rounded",children:m.city||"N/A"})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country"}),Y.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 px-3 py-2 rounded",children:m.country||"N/A"})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Coordinates"}),Y.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 px-3 py-2 rounded",children:m.latitude&&m.longitude?`${m.latitude}, ${m.longitude}`:"N/A"})]})]}),Y.jsxs("div",{className:"space-y-4",children:[Y.jsx("h5",{className:"font-medium text-gray-900",children:"Airport Information"}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Runway Length"}),Y.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 px-3 py-2 rounded",children:m.runwayLength||"N/A"})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Runway Surface"}),Y.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 px-3 py-2 rounded",children:m.runwaySurface||"N/A"})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Elevation"}),Y.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 px-3 py-2 rounded",children:m.elevation||"N/A"})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Frequency"}),Y.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 px-3 py-2 rounded",children:m.frequency||"N/A"})]})]})]}),m.imageUrl&&Y.jsxs("div",{children:[Y.jsx("h5",{className:"font-medium text-gray-900 mb-3",children:"Base Image"}),Y.jsx("div",{className:"w-full max-w-md bg-gray-100 rounded-lg overflow-hidden",children:Y.jsx("img",{src:`${N}${m.imageUrl}`,alt:m.name,className:"w-full h-64 object-cover"})})]})]})})]})}),o&&m&&Y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:Y.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full mx-4 flex flex-col max-h-[90vh]",children:[Y.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-white rounded-t-lg",children:[Y.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Edit Base"}),Y.jsxs("div",{className:"flex space-x-2",children:[Y.jsx("button",{onClick:()=>l(!1),className:"px-4 py-2 text-sm border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"}),Y.jsx("button",{onClick:async()=>{if(m){d(!0);try{(await fetch(`/api/admin/bases/${m.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...v,latitude:v.latitude?parseFloat(v.latitude):null,longitude:v.longitude?parseFloat(v.longitude):null})})).ok?(l(!1),f(null),j({name:"",description:"",address:"",city:"",region:"",country:"",postalCode:"",latitude:"",longitude:"",icaoCode:"",iataCode:"",runwayLength:"",runwaySurface:"",elevation:"",frequency:"",operatingHours:"",phone:"",email:"",website:"",imageUrl:"",isActive:!0}),alert("Base updated successfully!"),w()):alert("Failed to update base. Please try again.")}catch(dl){alert("Error updating base. Please try again.")}finally{d(!1)}}},disabled:c,className:"px-4 py-2 text-sm bg-black text-white rounded-md hover:bg-gray-800 disabled:opacity-50",children:c?"Updating...":"Update Base"})]})]}),Y.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:Y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[Y.jsxs("div",{className:"space-y-4",children:[Y.jsx("h4",{className:"font-medium text-gray-900",children:"Basic Information"}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Base Name"}),Y.jsx("input",{type:"text",value:v.name,onChange:e=>k("name",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Main Base"})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),Y.jsx("textarea",{value:v.description,onChange:e=>k("description",e.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Description of the base..."})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),Y.jsx("input",{type:"text",value:v.address,onChange:e=>k("address",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"123 Airport Road"})]}),Y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),Y.jsx("input",{type:"text",value:v.city,onChange:e=>k("city",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"New York"})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country"}),Y.jsx("input",{type:"text",value:v.country,onChange:e=>k("country",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"USA"})]})]}),Y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ICAO Code"}),Y.jsx("input",{type:"text",value:v.icaoCode,onChange:e=>k("icaoCode",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"KJFK"})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"IATA Code"}),Y.jsx("input",{type:"text",value:v.iataCode,onChange:e=>k("iataCode",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"JFK"})]})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Base Image"}),Y.jsxs("div",{className:"space-y-2",children:[Y.jsx("input",{type:"file",accept:"image/*",onChange:e=>{const t=e.target.files?.[0];t&&C(t)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),v.imageUrl&&Y.jsx("div",{className:"w-32 h-32 bg-gray-100 rounded-md overflow-hidden",children:Y.jsx("img",{src:`${N}${v.imageUrl}`,alt:"Base preview",className:"w-full h-full object-cover"})})]})]})]}),Y.jsxs("div",{className:"space-y-4",children:[Y.jsx("h4",{className:"font-medium text-gray-900",children:"Additional Information"}),Y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Latitude"}),Y.jsx("input",{type:"number",step:"any",value:v.latitude,onChange:e=>k("latitude",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"40.7128"})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Longitude"}),Y.jsx("input",{type:"number",step:"any",value:v.longitude,onChange:e=>k("longitude",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"-74.0060"})]})]}),Y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Runway Length (ft)"}),Y.jsx("input",{type:"text",value:v.runwayLength,onChange:e=>k("runwayLength",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"8000"})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Runway Surface"}),Y.jsx("input",{type:"text",value:v.runwaySurface,onChange:e=>k("runwaySurface",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Asphalt"})]})]}),Y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Elevation (ft)"}),Y.jsx("input",{type:"text",value:v.elevation,onChange:e=>k("elevation",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"13"})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Frequency (MHz)"}),Y.jsx("input",{type:"text",value:v.frequency,onChange:e=>k("frequency",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"118.1"})]})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Operating Hours"}),Y.jsx("input",{type:"text",value:v.operatingHours,onChange:e=>k("operatingHours",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"24/7"})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),Y.jsx("input",{type:"tel",value:v.phone,onChange:e=>k("phone",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"+1 (555) 123-4567"})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),Y.jsx("input",{type:"email",value:v.email,onChange:e=>k("email",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"info@base.com"})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Website"}),Y.jsx("input",{type:"url",value:v.website,onChange:e=>k("website",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"https://base.com"})]}),Y.jsx("div",{children:Y.jsxs("label",{className:"flex items-center",children:[Y.jsx("input",{type:"checkbox",checked:v.isActive,onChange:e=>k("isActive",e.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),Y.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Active Base"})]})})]})]})})]})})]})},Go=()=>{const[t,s]=e.useState([]),[r,n]=e.useState([]),[i,a]=e.useState(!0),[o,l]=e.useState(null),[c,d]=e.useState(!1),[h,m]=e.useState(!1),[f,p]=e.useState(!1),[g,x]=e.useState(null),[y,b]=e.useState(!1),[v,j]=e.useState({callSign:"",type:"",manufacturer:"",model:"",seats:4,maxRange:0,cruiseSpeed:0,fuelCapacity:0,yearManufactured:(new Date).getFullYear(),description:"",isActive:!0,baseId:"",imageUrl:"",totalFlightHours:0}),N="https://api.cruiseraviation.com";e.useEffect(()=>{(async()=>{try{a(!0),l(null);const e=await fetch(`${N}/api/admin/aircraft`);if(e.ok){const t=await e.json();s(t)}else l("Failed to load aircraft data. Please try again later.");const t=await fetch(`${N}/api/admin/bases`);if(t.ok){const e=await t.json();n(e)}}catch(e){l("Error connecting to server. Please check your connection.")}finally{a(!1)}})()},[N]);const w=(e,t)=>{j(s=>({...s,[e]:t}))},k=e=>{const t=r.find(t=>t.id===e);return t?t.icaoCode:"N/A"},C=async e=>{try{if(!e.type.startsWith("image/"))return void alert("Please select a valid image file.");if(e.size>5242880)return void alert("Image file size must be less than 5MB.");const t=new FormData;t.append("file",e);const s=await fetch("/api/admin/aircraft/upload-image",{method:"POST",body:t});if(s.ok){const e=await s.json();w("imageUrl",e.url),alert("Aircraft image uploaded successfully!")}else{await s.text();alert(`Failed to upload aircraft image: ${s.status} ${s.statusText}`)}}catch(t){alert("Error uploading aircraft image. Please check your connection and try again.")}};return Y.jsxs("div",{className:"h-full flex flex-col",children:[Y.jsx("div",{className:"bg-white border-b border-gray-200 shadow-sm sticky top-0 z-20",children:Y.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[Y.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Fleet Management"}),Y.jsx("button",{onClick:()=>{j({callSign:"",type:"",manufacturer:"",model:"",seats:4,maxRange:0,cruiseSpeed:0,fuelCapacity:0,yearManufactured:(new Date).getFullYear(),description:"",isActive:!0,baseId:"",imageUrl:"",totalFlightHours:0}),d(!0)},className:"px-4 py-2 bg-black text-white rounded-md text-sm hover:bg-gray-800",children:"Add Aircraft"})]})}),Y.jsxs("div",{className:"flex-1 overflow-auto py-6 px-0",children:[i&&Y.jsx("div",{className:"flex items-center justify-center h-64",children:Y.jsxs("div",{className:"text-center",children:[Y.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900 mx-auto mb-4"}),Y.jsx("p",{className:"text-gray-600",children:"Loading aircraft data..."})]})}),o&&!i&&Y.jsx("div",{className:"flex items-center justify-center h-64",children:Y.jsxs("div",{className:"text-center",children:[Y.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error Loading Aircraft"}),Y.jsx("p",{className:"text-gray-600 mb-4",children:o}),Y.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-black text-white rounded-md text-sm hover:bg-gray-800",children:"Retry"})]})}),!i&&!o&&Y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(e=>Y.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[Y.jsxs("div",{className:"relative w-full",style:{aspectRatio:"16/9"},children:[e.imageUrl?Y.jsx("img",{src:`${N}${e.imageUrl}`,alt:e.callSign,className:"w-full h-full object-cover"}):Y.jsx("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center",children:Y.jsx(u,{className:"w-12 h-12 text-gray-400"})}),Y.jsx("div",{className:"absolute top-3 right-3",children:Y.jsx("span",{className:"inline-block px-2 py-1 text-xs font-medium rounded-full "+(e.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.isActive?"ACTIVE":"INACTIVE"})})]}),Y.jsxs("div",{className:"p-4",children:[Y.jsx("div",{className:"mb-3",children:Y.jsxs("div",{className:"mb-1",children:[Y.jsx("h3",{className:"font-bold text-gray-900 text-lg",children:e.callSign}),Y.jsxs("div",{className:"flex items-center justify-between",children:[Y.jsx("span",{className:"text-sm text-gray-500 font-medium",children:e.model}),Y.jsx("span",{className:"text-sm text-gray-600",children:e.manufacturer})]})]})}),Y.jsxs("div",{className:"grid grid-cols-4 gap-2 mb-4",children:[Y.jsxs("div",{className:"bg-gray-50 rounded-lg p-2",children:[Y.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Seats"}),Y.jsx("div",{className:"text-sm font-semibold text-gray-900",children:e.seats})]}),Y.jsxs("div",{className:"bg-gray-50 rounded-lg p-2",children:[Y.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Year"}),Y.jsx("div",{className:"text-sm font-semibold text-gray-900",children:e.yearManufactured})]}),Y.jsxs("div",{className:"bg-gray-50 rounded-lg p-2",children:[Y.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Speed"}),Y.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:[e.cruiseSpeed," kts"]})]}),Y.jsxs("div",{className:"bg-gray-50 rounded-lg p-2",children:[Y.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Range"}),Y.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:[e.maxRange," nm"]})]})]}),Y.jsxs("div",{className:"grid grid-cols-4 gap-2 mb-4",children:[Y.jsxs("div",{className:"bg-gray-50 rounded-lg p-2",children:[Y.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Type"}),Y.jsx("div",{className:"text-sm font-semibold text-gray-900",children:e.type})]}),Y.jsxs("div",{className:"bg-gray-50 rounded-lg p-2",children:[Y.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Base"}),Y.jsx("div",{className:"text-sm font-semibold text-gray-900",children:k(e.baseId)})]}),Y.jsxs("div",{className:"bg-gray-50 rounded-lg p-2",children:[Y.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Hours"}),Y.jsx("div",{className:"text-sm font-semibold text-gray-900",children:e.totalFlightHours?.toLocaleString()||"0"})]}),Y.jsxs("div",{className:"bg-gray-50 rounded-lg p-2",children:[Y.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Fuel"}),Y.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:[e.fuelCapacity," L"]})]})]}),Y.jsx("div",{className:"border-t border-gray-200 pt-3",children:Y.jsxs("div",{className:"flex space-x-3 text-sm",children:[Y.jsx("button",{onClick:()=>(e=>{x(e),p(!0)})(e),className:"text-blue-600 hover:text-blue-800 font-medium",children:"View"}),Y.jsx("button",{onClick:()=>(e=>{x(e),j({callSign:e.callSign||"",type:e.type||"",manufacturer:e.manufacturer||"",model:e.model||"",seats:e.seats||4,maxRange:e.maxRange||0,cruiseSpeed:e.cruiseSpeed||0,fuelCapacity:e.fuelCapacity||0,yearManufactured:e.yearManufactured||(new Date).getFullYear(),description:e.description||"",isActive:e.isActive,baseId:e.baseId||1,imageUrl:e.imageUrl||"",totalFlightHours:e.totalFlightHours||0}),m(!0)})(e),className:"text-gray-600 hover:text-gray-800 font-medium",children:"Edit"}),Y.jsx("button",{onClick:()=>(async e=>{if(confirm(`Are you sure you want to delete "${e.callSign}"? This action cannot be undone.`))try{const t=await fetch(`${N}/api/admin/aircraft/${e.id}`,{method:"DELETE"});t.ok?(s(t=>t.filter(t=>t.id!==e.id)),alert("Aircraft deleted successfully!")):(await t.text(),alert("Error deleting aircraft. Please try again."))}catch(t){alert("Error deleting aircraft. Please try again.")}})(e),className:"text-red-600 hover:text-red-800 font-medium",children:"Delete"})]})})]})]},e.id))})]}),c&&Y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:Y.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full mx-4 flex flex-col max-h-[90vh]",children:[Y.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-white rounded-t-lg",children:[Y.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Add New Aircraft"}),Y.jsxs("div",{className:"flex space-x-2",children:[Y.jsx("button",{onClick:()=>d(!1),className:"px-4 py-2 text-sm border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"}),Y.jsx("button",{onClick:async()=>{b(!0);try{const e=await fetch(`${N}/api/admin/aircraft`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(v)});if(e.ok){const t=await e.json();s(e=>[...e,t]),d(!1),j({callSign:"",type:"",manufacturer:"",model:"",seats:4,maxRange:0,cruiseSpeed:0,fuelCapacity:0,yearManufactured:(new Date).getFullYear(),description:"",isActive:!0,baseId:"",imageUrl:"",totalFlightHours:0}),alert("Aircraft created successfully!")}else{await e.text();alert("Error creating aircraft. Please try again.")}}catch(e){alert("Error creating aircraft. Please try again.")}finally{b(!1)}},disabled:y,className:"px-4 py-2 text-sm bg-black text-white rounded-md hover:bg-gray-800 disabled:opacity-50",children:y?"Creating...":"Create Aircraft"})]})]}),Y.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:Y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[Y.jsxs("div",{className:"space-y-4",children:[Y.jsx("h4",{className:"font-medium text-gray-900",children:"Basic Information"}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Call Sign"}),Y.jsx("input",{type:"text",value:v.callSign,onChange:e=>w("callSign",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),Y.jsx("input",{type:"text",value:v.type,onChange:e=>w("type",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),Y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Manufacturer"}),Y.jsx("input",{type:"text",value:v.manufacturer,onChange:e=>w("manufacturer",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Model"}),Y.jsx("input",{type:"text",value:v.model,onChange:e=>w("model",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Base"}),Y.jsxs("select",{value:v.baseId||"",onChange:e=>w("baseId",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[Y.jsx("option",{value:"",children:"Select a base"}),r.map(e=>Y.jsxs("option",{value:e.id,children:[e.name," (",e.icaoCode,")"]},e.id))]})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Aircraft Image"}),Y.jsxs("div",{className:"space-y-2",children:[Y.jsx("input",{type:"file",accept:"image/*",onChange:e=>{const t=e.target.files?.[0];t&&C(t)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),v.imageUrl&&Y.jsx("div",{className:"w-32 h-32 bg-gray-100 rounded-md overflow-hidden",children:Y.jsx("img",{src:`${N}${v.imageUrl}`,alt:"Aircraft preview",className:"w-full h-full object-cover"})})]})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),Y.jsx("textarea",{value:v.description,onChange:e=>w("description",e.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),Y.jsxs("div",{className:"space-y-4",children:[Y.jsx("h4",{className:"font-medium text-gray-900",children:"Specifications"}),Y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Seats"}),Y.jsx("input",{type:"number",value:v.seats,onChange:e=>w("seats",parseInt(e.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Year Manufactured"}),Y.jsx("input",{type:"number",value:v.yearManufactured,onChange:e=>w("yearManufactured",parseInt(e.target.value)||(new Date).getFullYear()),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Flight Hours"}),Y.jsx("input",{type:"number",value:v.totalFlightHours,onChange:e=>w("totalFlightHours",parseInt(e.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),Y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Range (nm)"}),Y.jsx("input",{type:"number",value:v.maxRange,onChange:e=>w("maxRange",parseInt(e.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cruise Speed (kts)"}),Y.jsx("input",{type:"number",value:v.cruiseSpeed,onChange:e=>w("cruiseSpeed",parseInt(e.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fuel Capacity (L)"}),Y.jsx("input",{type:"number",value:v.fuelCapacity,onChange:e=>w("fuelCapacity",parseInt(e.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),Y.jsx("div",{children:Y.jsxs("label",{className:"flex items-center",children:[Y.jsx("input",{type:"checkbox",checked:v.isActive,onChange:e=>w("isActive",e.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),Y.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Active Aircraft"})]})})]})]})})]})}),f&&g&&Y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:Y.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 flex flex-col max-h-[90vh]",children:[Y.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-white rounded-t-lg",children:[Y.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"View Aircraft"}),Y.jsx("button",{onClick:()=>p(!1),className:"px-4 py-2 text-sm border border-gray-300 rounded-md hover:bg-gray-50",children:"Close"})]}),Y.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:Y.jsxs("div",{className:"space-y-6",children:[Y.jsxs("div",{className:"flex items-center space-x-4",children:[Y.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center",children:g.imageUrl?Y.jsx("img",{src:`${N}${g.imageUrl}`,alt:g.callSign,className:"w-16 h-16 rounded-full object-cover"}):Y.jsx(u,{className:"w-8 h-8 text-gray-500"})}),Y.jsxs("div",{children:[Y.jsx("h4",{className:"text-xl font-semibold text-gray-900",children:g.callSign}),Y.jsxs("p",{className:"text-gray-500",children:[g.manufacturer," ",g.model]}),Y.jsxs("div",{className:"flex space-x-2 mt-2",children:[Y.jsx("span",{className:"inline-block px-2 py-1 text-xs font-medium rounded-full "+(g.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:g.isActive?"ACTIVE":"INACTIVE"}),Y.jsx("span",{className:"inline-block px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800",children:g.type})]})]})]}),Y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[Y.jsxs("div",{className:"space-y-4",children:[Y.jsx("h5",{className:"font-medium text-gray-900",children:"Aircraft Information"}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Manufacturer"}),Y.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 px-3 py-2 rounded",children:g.manufacturer||"N/A"})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Model"}),Y.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 px-3 py-2 rounded",children:g.model||"N/A"})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Year Manufactured"}),Y.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 px-3 py-2 rounded",children:g.yearManufactured||"N/A"})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Base"}),Y.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 px-3 py-2 rounded",children:(e=>{const t=r.find(t=>t.id===e);return t?`${t.name} (${t.icaoCode})`:"Unknown Base"})(g.baseId)})]})]}),Y.jsxs("div",{className:"space-y-4",children:[Y.jsx("h5",{className:"font-medium text-gray-900",children:"Specifications"}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Seats"}),Y.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 px-3 py-2 rounded",children:g.seats||"N/A"})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Range"}),Y.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 px-3 py-2 rounded",children:g.maxRange?`${g.maxRange} nm`:"N/A"})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cruise Speed"}),Y.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 px-3 py-2 rounded",children:g.cruiseSpeed?`${g.cruiseSpeed} kts`:"N/A"})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fuel Capacity"}),Y.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 px-3 py-2 rounded",children:g.fuelCapacity?`${g.fuelCapacity} L`:"N/A"})]})]})]}),g.description&&Y.jsxs("div",{children:[Y.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:"Description"}),Y.jsx("p",{className:"text-sm text-gray-700 bg-gray-50 px-3 py-2 rounded",children:g.description})]}),g.imageUrl&&Y.jsxs("div",{children:[Y.jsx("h5",{className:"font-medium text-gray-900 mb-3",children:"Aircraft Image"}),Y.jsx("div",{className:"w-full max-w-md bg-gray-100 rounded-lg overflow-hidden",children:Y.jsx("img",{src:`${N}${g.imageUrl}`,alt:g.callSign,className:"w-full h-64 object-cover"})})]})]})})]})}),h&&g&&Y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:Y.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full mx-4 flex flex-col max-h-[90vh]",children:[Y.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-white rounded-t-lg",children:[Y.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Edit Aircraft"}),Y.jsxs("div",{className:"flex space-x-2",children:[Y.jsx("button",{onClick:()=>m(!1),className:"px-4 py-2 text-sm border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"}),Y.jsx("button",{onClick:async()=>{if(g){b(!0);try{const e=await fetch(`${N}/api/admin/aircraft/${g.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(v)});if(e.ok){const t=await e.json();s(e=>e.map(e=>e.id===g.id?t:e)),m(!1),x(null),j({callSign:"",type:"",manufacturer:"",model:"",seats:4,maxRange:0,cruiseSpeed:0,fuelCapacity:0,yearManufactured:(new Date).getFullYear(),description:"",isActive:!0,baseId:"",imageUrl:"",totalFlightHours:0}),alert("Aircraft updated successfully!")}else{await e.text();alert("Error updating aircraft. Please try again.")}}catch(e){alert("Error updating aircraft. Please try again.")}finally{b(!1)}}},disabled:y,className:"px-4 py-2 text-sm bg-black text-white rounded-md hover:bg-gray-800 disabled:opacity-50",children:y?"Updating...":"Update Aircraft"})]})]}),Y.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:Y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[Y.jsxs("div",{className:"space-y-4",children:[Y.jsx("h4",{className:"font-medium text-gray-900",children:"Basic Information"}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Call Sign"}),Y.jsx("input",{type:"text",value:v.callSign,onChange:e=>w("callSign",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),Y.jsx("input",{type:"text",value:v.type,onChange:e=>w("type",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),Y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Manufacturer"}),Y.jsx("input",{type:"text",value:v.manufacturer,onChange:e=>w("manufacturer",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Model"}),Y.jsx("input",{type:"text",value:v.model,onChange:e=>w("model",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Base"}),Y.jsxs("select",{value:v.baseId||"",onChange:e=>w("baseId",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[Y.jsx("option",{value:"",children:"Select a base"}),r.map(e=>Y.jsxs("option",{value:e.id,children:[e.name," (",e.icaoCode,")"]},e.id))]})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Aircraft Image"}),Y.jsxs("div",{className:"space-y-2",children:[Y.jsx("input",{type:"file",accept:"image/*",onChange:e=>{const t=e.target.files?.[0];t&&C(t)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),v.imageUrl&&Y.jsx("div",{className:"w-32 h-32 bg-gray-100 rounded-md overflow-hidden",children:Y.jsx("img",{src:`${N}${v.imageUrl}`,alt:"Aircraft preview",className:"w-full h-full object-cover"})})]})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),Y.jsx("textarea",{value:v.description,onChange:e=>w("description",e.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),Y.jsxs("div",{className:"space-y-4",children:[Y.jsx("h4",{className:"font-medium text-gray-900",children:"Specifications"}),Y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Seats"}),Y.jsx("input",{type:"number",value:v.seats,onChange:e=>w("seats",parseInt(e.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Year Manufactured"}),Y.jsx("input",{type:"number",value:v.yearManufactured,onChange:e=>w("yearManufactured",parseInt(e.target.value)||(new Date).getFullYear()),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Flight Hours"}),Y.jsx("input",{type:"number",value:v.totalFlightHours,onChange:e=>w("totalFlightHours",parseInt(e.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),Y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Range (nm)"}),Y.jsx("input",{type:"number",value:v.maxRange,onChange:e=>w("maxRange",parseInt(e.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cruise Speed (kts)"}),Y.jsx("input",{type:"number",value:v.cruiseSpeed,onChange:e=>w("cruiseSpeed",parseInt(e.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fuel Capacity (L)"}),Y.jsx("input",{type:"number",value:v.fuelCapacity,onChange:e=>w("fuelCapacity",parseInt(e.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),Y.jsx("div",{children:Y.jsxs("label",{className:"flex items-center",children:[Y.jsx("input",{type:"checkbox",checked:v.isActive,onChange:e=>w("isActive",e.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),Y.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Active Aircraft"})]})})]})]})})]})})]})},Jo=()=>{const[t,s]=e.useState(!1),[r,n]=e.useState(!1),[i,a]=e.useState(null),[o,l]=e.useState(!1),[c,d]=e.useState("super_admin"),[u,h]=e.useState({name:"",displayName:"",description:"",permissions:[],color:"bg-gray-100 text-gray-800"}),[m,f]=e.useState([{id:1,name:"super_admin",displayName:"Super Administrator",description:"Full system access with all permissions",permissions:["users:read","users:write","users:delete","bases:read","bases:write","bases:delete","fleet:read","fleet:write","fleet:delete","roles:read","roles:write","roles:delete"],color:"bg-red-100 text-red-800",userCount:2},{id:2,name:"admin",displayName:"Administrator",description:"Administrative access with most permissions",permissions:["users:read","users:write","bases:read","bases:write","fleet:read","fleet:write"],color:"bg-purple-100 text-purple-800",userCount:5},{id:3,name:"instructor",displayName:"Flight Instructor",description:"Flight instructor with training permissions",permissions:["users:read","fleet:read","flights:read","flights:write"],color:"bg-blue-100 text-blue-800",userCount:12},{id:4,name:"pilot",displayName:"Pilot",description:"Licensed pilot with flight permissions",permissions:["fleet:read","flights:read","flights:write"],color:"bg-green-100 text-green-800",userCount:25},{id:5,name:"student_pilot",displayName:"Student Pilot",description:"Student pilot with limited permissions",permissions:["flights:read"],color:"bg-yellow-100 text-yellow-800",userCount:45}]),p=[{key:"users:read",label:"View Users"},{key:"users:write",label:"Edit Users"},{key:"users:delete",label:"Delete Users"},{key:"bases:read",label:"View Bases"},{key:"bases:write",label:"Edit Bases"},{key:"bases:delete",label:"Delete Bases"},{key:"fleet:read",label:"View Fleet"},{key:"fleet:write",label:"Edit Fleet"},{key:"fleet:delete",label:"Delete Fleet"},{key:"flights:read",label:"View Flights"},{key:"flights:write",label:"Edit Flights"},{key:"flights:delete",label:"Delete Flights"},{key:"roles:read",label:"View Roles"},{key:"roles:write",label:"Edit Roles"},{key:"roles:delete",label:"Delete Roles"}],g=[{value:"bg-red-100 text-red-800",label:"Red"},{value:"bg-purple-100 text-purple-800",label:"Purple"},{value:"bg-blue-100 text-blue-800",label:"Blue"},{value:"bg-green-100 text-green-800",label:"Green"},{value:"bg-yellow-100 text-yellow-800",label:"Yellow"},{value:"bg-gray-100 text-gray-800",label:"Gray"}],x=(e,t)=>{h(s=>({...s,[e]:t}))},y=e=>{h(t=>({...t,permissions:t.permissions.includes(e)?t.permissions.filter(t=>t!==e):[...t.permissions,e]}))},b="super_admin"===c;return Y.jsxs("div",{className:"h-full flex flex-col",children:[Y.jsxs("div",{className:"bg-white border-b border-gray-200 shadow-sm sticky top-0 z-20",children:[Y.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[Y.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Role Management"}),b&&Y.jsx("button",{onClick:()=>s(!0),className:"px-4 py-2 bg-black text-white rounded-md text-sm hover:bg-gray-800",children:"Add Role"})]}),Y.jsx("div",{className:"px-6 py-3 bg-gray-50",children:Y.jsxs("div",{className:"grid grid-cols-5 gap-4 text-xs font-medium text-gray-500 uppercase tracking-wider",children:[Y.jsx("div",{children:"Role"}),Y.jsx("div",{children:"Description"}),Y.jsx("div",{children:"Users"}),Y.jsx("div",{children:"Permissions"}),Y.jsx("div",{children:"Actions"})]})})]}),Y.jsx("div",{className:"flex-1 flex flex-col",children:Y.jsx("div",{className:"flex-1 overflow-auto",children:Y.jsx("div",{className:"bg-white",children:Y.jsx("div",{className:"divide-y divide-gray-200",children:m.map(e=>Y.jsx("div",{className:"px-6 py-4 hover:bg-gray-50",children:Y.jsxs("div",{className:"grid grid-cols-5 gap-4 items-center",children:[Y.jsxs("div",{className:"flex items-center",children:[Y.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center flex-shrink-0",children:Y.jsx(S,{className:"w-5 h-5 text-gray-500"})}),Y.jsxs("div",{className:"ml-4",children:[Y.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.displayName}),Y.jsx("div",{className:"text-sm text-gray-500",children:e.name}),Y.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${e.color}`,children:e.displayName.toUpperCase()})]})]}),Y.jsx("div",{className:"text-sm text-gray-900 max-w-xs truncate",children:e.description}),Y.jsxs("div",{className:"text-sm text-gray-900",children:[e.userCount," users"]}),Y.jsx("div",{className:"text-sm text-gray-900",children:Y.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.permissions.slice(0,3).map((e,t)=>Y.jsx("span",{className:"inline-flex px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded",children:e.split(":")[1]},t)),e.permissions.length>3&&Y.jsxs("span",{className:"inline-flex px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded",children:["+",e.permissions.length-3," more"]})]})}),Y.jsxs("div",{className:"flex space-x-2",children:[Y.jsx("button",{onClick:()=>(e=>{a(e),h({name:e.name,displayName:e.displayName,description:e.description,permissions:e.permissions||[],color:e.color}),n(!0)})(e),disabled:!b,className:"text-gray-600 hover:text-gray-900 px-2 py-1 rounded border border-gray-200 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Edit"}),Y.jsx("button",{onClick:()=>(async e=>{if(confirm(`Are you sure you want to delete the "${e.displayName}" role? This action cannot be undone.`))try{f(t=>t.filter(t=>t.id!==e.id)),alert("Role deleted successfully!")}catch(dl){alert("Error deleting role. Please try again.")}})(e),disabled:!b,className:"text-red-600 hover:text-red-900 px-2 py-1 rounded border border-red-200 hover:bg-red-50 disabled:opacity-50 disabled:cursor-not-allowed",children:Y.jsx(R,{className:"w-4 h-4"})})]})]})},e.id))})})})}),t&&Y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:Y.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 flex flex-col max-h-[90vh]",children:[Y.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-white rounded-t-lg",children:[Y.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Add New Role"}),Y.jsxs("div",{className:"flex space-x-2",children:[Y.jsx("button",{onClick:()=>s(!1),className:"px-4 py-2 text-sm border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"}),Y.jsx("button",{onClick:async()=>{l(!0);try{const e={id:m.length+1,...u,userCount:0};f(t=>[...t,e]),s(!1),h({name:"",displayName:"",description:"",permissions:[],color:"bg-gray-100 text-gray-800"}),alert("Role created successfully!")}catch(dl){alert("Error creating role. Please try again.")}finally{l(!1)}},disabled:o,className:"px-4 py-2 text-sm bg-black text-white rounded-md hover:bg-gray-800 disabled:opacity-50",children:o?"Creating...":"Create Role"})]})]}),Y.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:Y.jsxs("div",{className:"space-y-6",children:[Y.jsxs("div",{className:"space-y-4",children:[Y.jsx("h4",{className:"font-medium text-gray-900",children:"Basic Information"}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role Name"}),Y.jsx("input",{type:"text",value:u.name,onChange:e=>x("name",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"super_admin"})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Display Name"}),Y.jsx("input",{type:"text",value:u.displayName,onChange:e=>x("displayName",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Super Administrator"})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),Y.jsx("textarea",{value:u.description,onChange:e=>x("description",e.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Description of the role..."})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Color"}),Y.jsx("select",{value:u.color,onChange:e=>x("color",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:g.map(e=>Y.jsx("option",{value:e.value,children:e.label},e.value))})]})]}),Y.jsxs("div",{className:"space-y-4",children:[Y.jsx("h4",{className:"font-medium text-gray-900",children:"Permissions"}),Y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:p.map(e=>Y.jsxs("label",{className:"flex items-center",children:[Y.jsx("input",{type:"checkbox",checked:u.permissions.includes(e.key),onChange:()=>y(e.key),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),Y.jsx("span",{className:"ml-2 text-sm text-gray-700",children:e.label})]},e.key))})]})]})})]})}),r&&i&&Y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:Y.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 flex flex-col max-h-[90vh]",children:[Y.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-white rounded-t-lg",children:[Y.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Edit Role"}),Y.jsxs("div",{className:"flex space-x-2",children:[Y.jsx("button",{onClick:()=>n(!1),className:"px-4 py-2 text-sm border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"}),Y.jsx("button",{onClick:async()=>{if(i){l(!0);try{f(e=>e.map(e=>e.id===i.id?{...e,...u}:e)),n(!1),a(null),h({name:"",displayName:"",description:"",permissions:[],color:"bg-gray-100 text-gray-800"}),alert("Role updated successfully!")}catch(dl){alert("Error updating role. Please try again.")}finally{l(!1)}}},disabled:o,className:"px-4 py-2 text-sm bg-black text-white rounded-md hover:bg-gray-800 disabled:opacity-50",children:o?"Updating...":"Update Role"})]})]}),Y.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:Y.jsxs("div",{className:"space-y-6",children:[Y.jsxs("div",{className:"space-y-4",children:[Y.jsx("h4",{className:"font-medium text-gray-900",children:"Basic Information"}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role Name"}),Y.jsx("input",{type:"text",value:u.name,onChange:e=>x("name",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"super_admin"})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Display Name"}),Y.jsx("input",{type:"text",value:u.displayName,onChange:e=>x("displayName",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Super Administrator"})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),Y.jsx("textarea",{value:u.description,onChange:e=>x("description",e.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Description of the role..."})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Color"}),Y.jsx("select",{value:u.color,onChange:e=>x("color",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:g.map(e=>Y.jsx("option",{value:e.value,children:e.label},e.value))})]})]}),Y.jsxs("div",{className:"space-y-4",children:[Y.jsx("h4",{className:"font-medium text-gray-900",children:"Permissions"}),Y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:p.map(e=>Y.jsxs("label",{className:"flex items-center",children:[Y.jsx("input",{type:"checkbox",checked:u.permissions.includes(e.key),onChange:()=>y(e.key),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),Y.jsx("span",{className:"ml-2 text-sm text-gray-700",children:e.label})]},e.key))})]})]})})]})})]})},Yo="https://api.cruiseraviation.com",Qo=({userRole:t="user"})=>{const s="admin"===t||"super_admin"===t||"base_manager"===t,[r,n]=e.useState(!1),[i,a]=e.useState(!1),[o,l]=e.useState(!1),[c,d]=e.useState(!1),[h,m]=e.useState(null),[f,p]=e.useState({name:"",description:"",type:"flight_school",basePrice:0,duration:"",defaultPaymentPlan:"full_price",isActive:!0,imageUrl:""}),[g,x]=e.useState([]),[y,b]=e.useState(!0),[v,j]=e.useState(null),N=async()=>{try{b(!0);const e=await fetch(`${Yo}/api/admin/services`);if(!e.ok)throw new Error("Failed to fetch services");const t=await e.json();x(t)}catch(e){j(e instanceof Error?e.message:"Unknown error")}finally{b(!1)}};e.useEffect(()=>{N()},[]);const w=[{value:"flight_school",label:"Flight School"},{value:"aircraft_rental",label:"Aircraft Rental"},{value:"instruction",label:"Instruction"},{value:"exam_preparation",label:"Exam Preparation"},{value:"theoretical_course",label:"Theoretical Course"}],k=[{value:"full_price",label:"Full Price"},{value:"two_installments",label:"Two Installments"},{value:"full_payment",label:"Full Payment"}],C=(e,t)=>{p(s=>({...s,[e]:t}))},I=async()=>{d(!0);try{const e=await fetch(`${Yo}/api/admin/services`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)});if(!e.ok)throw new Error("Failed to create service");const t=await e.json();x(e=>[...e,t]),n(!1),p({name:"",description:"",type:"flight_school",basePrice:0,duration:"",defaultPaymentPlan:"full_price",isActive:!0,imageUrl:""}),alert("Service created successfully!")}catch(e){alert("Error creating service. Please try again.")}finally{d(!1)}},S=async()=>{if(h){d(!0);try{const e=await fetch(`${Yo}/api/admin/services/${h.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)});if(!e.ok)throw new Error("Failed to update service");const t=await e.json();x(e=>e.map(e=>e.id===h.id?t:e)),l(!1),m(null),p({name:"",description:"",type:"flight_school",basePrice:0,duration:"",defaultPaymentPlan:"full_price",isActive:!0,imageUrl:""}),alert("Service updated successfully!")}catch(e){alert("Error updating service. Please try again.")}finally{d(!1)}}},E=async e=>{try{if(!e.type.startsWith("image/"))return void alert("Please select a valid image file.");if(e.size>5242880)return void alert("Image file size must be less than 5MB.");const t=new FormData;t.append("file",e);const s=await fetch(`${Yo}/api/admin/services/upload-image`,{method:"POST",body:t});if(s.ok){const e=await s.json();C("imageUrl",e.url),alert("Service image uploaded successfully!")}else{await s.text();alert(`Failed to upload service image: ${s.status} ${s.statusText}`)}}catch(t){alert("Error uploading service image. Please check your connection and try again.")}},T=e=>{switch(e){case"flight_school":return"bg-blue-100 text-blue-800";case"aircraft_rental":return"bg-green-100 text-green-800";case"instruction":return"bg-yellow-100 text-yellow-800";case"exam_preparation":return"bg-purple-100 text-purple-800";case"theoretical_course":return"bg-indigo-100 text-indigo-800";default:return"bg-gray-100 text-gray-800"}},_=e=>w.find(t=>t.value===e)?.label||e;try{return Y.jsxs("div",{className:"h-full flex flex-col",children:[Y.jsx("div",{className:"bg-white border-b border-gray-200 shadow-sm sticky top-0 z-20",children:Y.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[Y.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:s?"Service Management":"Available Services"}),s&&Y.jsx("button",{onClick:()=>n(!0),className:"px-4 py-2 bg-black text-white rounded-md text-sm hover:bg-gray-800",children:"Add Service"})]})}),Y.jsxs("div",{className:"flex-1 overflow-auto py-6 px-0",children:[y&&Y.jsx("div",{className:"flex items-center justify-center py-12",children:Y.jsxs("div",{className:"text-center",children:[Y.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900 mx-auto mb-4"}),Y.jsx("p",{className:"text-gray-600",children:"Loading services..."})]})}),v&&!y&&Y.jsx("div",{className:"flex items-center justify-center py-12",children:Y.jsxs("div",{className:"text-center",children:[Y.jsxs("p",{className:"text-red-600 mb-4",children:["Error: ",v]}),Y.jsx("button",{onClick:N,className:"px-4 py-2 bg-black text-white rounded-md hover:bg-gray-800",children:"Retry"})]})}),!y&&!v&&Y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map(e=>Y.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden flex flex-col min-h-[400px]",children:[Y.jsxs("div",{className:"relative w-full",style:{aspectRatio:"16/9"},children:[e.imageUrl?Y.jsx("img",{src:`${Yo}${e.imageUrl}`,alt:e.name,className:"w-full h-full object-cover"}):Y.jsx("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center",children:Y.jsx(u,{className:"w-12 h-12 text-gray-400"})}),Y.jsx("div",{className:"absolute top-3 right-3",children:Y.jsx("span",{className:"inline-block px-2 py-1 text-xs font-medium rounded-full "+(e.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.isActive?"ACTIVE":"INACTIVE"})})]}),Y.jsxs("div",{className:"p-4 flex flex-col flex-1",children:[Y.jsxs("div",{className:"flex-1",children:[Y.jsx("h3",{className:"font-semibold text-gray-900 text-lg mb-1",children:e.name}),Y.jsx("p",{className:"text-sm text-gray-500 mb-1",children:_(e.type)}),Y.jsxs("p",{className:"text-lg font-bold text-gray-900 mb-3",children:["€",e.basePrice]}),Y.jsx("div",{className:"mb-3",children:Y.jsx("span",{className:`inline-block px-2 py-1 text-xs font-medium rounded-full ${T(e.type)}`,children:_(e.type).toUpperCase()})}),Y.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:e.description})]}),Y.jsx("div",{className:"border-t border-gray-200 pt-3 mt-4",children:Y.jsxs("div",{className:"flex space-x-3 text-sm",children:[Y.jsx("button",{onClick:()=>(e=>{m(e),a(!0)})(e),className:"text-blue-600 hover:text-blue-800 font-medium",children:"View Details"}),s&&Y.jsxs(Y.Fragment,{children:[Y.jsx("button",{onClick:()=>(e=>{m(e),p({name:e.name||"",description:e.description||"",type:e.type||"flight_school",basePrice:e.basePrice||0,duration:e.duration||"",defaultPaymentPlan:e.defaultPaymentPlan||"full_price",isActive:e.isActive,imageUrl:e.imageUrl||""}),l(!0)})(e),className:"text-gray-600 hover:text-gray-800 font-medium",children:"Edit"}),Y.jsx("button",{onClick:()=>(async e=>{if(confirm(`Are you sure you want to delete "${e.name}"? This action cannot be undone.`))try{if(!(await fetch(`${Yo}/api/admin/services/${e.id}`,{method:"DELETE"})).ok)throw new Error("Failed to delete service");x(t=>t.filter(t=>t.id!==e.id)),alert("Service deleted successfully!")}catch(t){alert("Error deleting service. Please try again.")}})(e),className:"text-red-600 hover:text-red-800 font-medium",children:"Delete"})]})]})})]})]},e.id))})]}),r&&Y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:Y.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 flex flex-col max-h-[90vh]",children:[Y.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-white rounded-t-lg",children:[Y.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Add New Service"}),Y.jsxs("div",{className:"flex space-x-2",children:[Y.jsx("button",{onClick:()=>n(!1),className:"px-4 py-2 text-sm border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"}),Y.jsx("button",{onClick:I,disabled:c,className:"px-4 py-2 text-sm bg-black text-white rounded-md hover:bg-gray-800 disabled:opacity-50",children:c?"Creating...":"Create Service"})]})]}),Y.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:Y.jsx("div",{className:"space-y-6",children:Y.jsxs("div",{className:"space-y-4",children:[Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Service Name"}),Y.jsx("input",{type:"text",value:f.name,onChange:e=>C("name",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Private Pilot License Training"})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),Y.jsx("textarea",{value:f.description,onChange:e=>C("description",e.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Description of the service..."})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Service Image"}),Y.jsxs("div",{className:"space-y-2",children:[Y.jsx("input",{type:"file",accept:"image/*",onChange:e=>{const t=e.target.files?.[0];t&&E(t)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),f.imageUrl&&Y.jsx("div",{className:"w-32 h-32 bg-gray-100 rounded-md overflow-hidden",children:Y.jsx("img",{src:`${Yo}${f.imageUrl}`,alt:"Service preview",className:"w-full h-full object-cover"})})]})]}),Y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Service Type"}),Y.jsx("select",{value:f.type,onChange:e=>C("type",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:w.map(e=>Y.jsx("option",{value:e.value,children:e.label},e.value))})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Plan"}),Y.jsx("select",{value:f.defaultPaymentPlan,onChange:e=>C("defaultPaymentPlan",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:k.map(e=>Y.jsx("option",{value:e.value,children:e.label},e.value))})]})]}),Y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price (€)"}),Y.jsx("input",{type:"number",value:f.basePrice,onChange:e=>C("basePrice",parseFloat(e.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"8500"})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Duration"}),Y.jsx("input",{type:"text",value:f.duration,onChange:e=>C("duration",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"40-60 hours"})]})]}),Y.jsx("div",{children:Y.jsxs("label",{className:"flex items-center",children:[Y.jsx("input",{type:"checkbox",checked:f.isActive,onChange:e=>C("isActive",e.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),Y.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Active Service"})]})})]})})})]})}),i&&h&&Y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:Y.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 flex flex-col max-h-[90vh]",children:[Y.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-white rounded-t-lg",children:[Y.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"View Service"}),Y.jsx("button",{onClick:()=>a(!1),className:"px-4 py-2 text-sm border border-gray-300 rounded-md hover:bg-gray-50",children:"Close"})]}),Y.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:Y.jsxs("div",{className:"space-y-6",children:[Y.jsxs("div",{className:"flex items-center space-x-4",children:[Y.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center overflow-hidden",children:h.imageUrl?Y.jsx("img",{src:`${Yo}${h.imageUrl}`,alt:h.name,className:"w-16 h-16 object-cover"}):Y.jsx(u,{className:"w-8 h-8 text-gray-500"})}),Y.jsxs("div",{children:[Y.jsx("h4",{className:"text-xl font-semibold text-gray-900",children:h.name}),Y.jsx("p",{className:"text-gray-500",children:_(h.type)}),Y.jsxs("div",{className:"flex space-x-2 mt-2",children:[Y.jsx("span",{className:`inline-block px-2 py-1 text-xs font-medium rounded-full ${T(h.type)}`,children:_(h.type).toUpperCase()}),Y.jsx("span",{className:"inline-block px-2 py-1 text-xs font-medium rounded-full "+(h.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:h.isActive?"ACTIVE":"INACTIVE"})]})]})]}),Y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[Y.jsxs("div",{className:"space-y-4",children:[Y.jsx("h5",{className:"font-medium text-gray-900",children:"Service Information"}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price"}),Y.jsxs("p",{className:"text-sm text-gray-900 bg-gray-50 px-3 py-2 rounded",children:["€",h.basePrice]})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Duration"}),Y.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 px-3 py-2 rounded",children:h.duration||"N/A"})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Plan"}),Y.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 px-3 py-2 rounded",children:h.defaultPaymentPlan||"N/A"})]})]}),Y.jsxs("div",{className:"space-y-4",children:[Y.jsx("h5",{className:"font-medium text-gray-900",children:"Description"}),Y.jsx("p",{className:"text-sm text-gray-700 bg-gray-50 px-3 py-2 rounded",children:h.description||"No description available"})]})]}),h.imageUrl&&Y.jsxs("div",{children:[Y.jsx("h5",{className:"font-medium text-gray-900 mb-3",children:"Service Image"}),Y.jsx("div",{className:"w-full max-w-md bg-gray-100 rounded-lg overflow-hidden",children:Y.jsx("img",{src:`${Yo}${h.imageUrl}`,alt:h.name,className:"w-full h-64 object-cover"})})]})]})})]})}),o&&h&&Y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:Y.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 flex flex-col max-h-[90vh]",children:[Y.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-white rounded-t-lg",children:[Y.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Edit Service"}),Y.jsxs("div",{className:"flex space-x-2",children:[Y.jsx("button",{onClick:()=>l(!1),className:"px-4 py-2 text-sm border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"}),Y.jsx("button",{onClick:S,disabled:c,className:"px-4 py-2 text-sm bg-black text-white rounded-md hover:bg-gray-800 disabled:opacity-50",children:c?"Updating...":"Update Service"})]})]}),Y.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:Y.jsx("div",{className:"space-y-6",children:Y.jsxs("div",{className:"space-y-4",children:[Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Service Name"}),Y.jsx("input",{type:"text",value:f.name,onChange:e=>C("name",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Private Pilot License Training"})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),Y.jsx("textarea",{value:f.description,onChange:e=>C("description",e.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Description of the service..."})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Service Image"}),Y.jsxs("div",{className:"space-y-2",children:[Y.jsx("input",{type:"file",accept:"image/*",onChange:e=>{const t=e.target.files?.[0];t&&E(t)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),f.imageUrl&&Y.jsx("div",{className:"w-32 h-32 bg-gray-100 rounded-md overflow-hidden",children:Y.jsx("img",{src:`${Yo}${f.imageUrl}`,alt:"Service preview",className:"w-full h-full object-cover"})})]})]}),Y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Service Type"}),Y.jsx("select",{value:f.type,onChange:e=>C("type",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:w.map(e=>Y.jsx("option",{value:e.value,children:e.label},e.value))})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Plan"}),Y.jsx("select",{value:f.defaultPaymentPlan,onChange:e=>C("defaultPaymentPlan",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:k.map(e=>Y.jsx("option",{value:e.value,children:e.label},e.value))})]})]}),Y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price (€)"}),Y.jsx("input",{type:"number",value:f.basePrice,onChange:e=>C("basePrice",parseFloat(e.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"8500"})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Duration"}),Y.jsx("input",{type:"text",value:f.duration,onChange:e=>C("duration",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"40-60 hours"})]})]}),Y.jsx("div",{children:Y.jsxs("label",{className:"flex items-center",children:[Y.jsx("input",{type:"checkbox",checked:f.isActive,onChange:e=>C("isActive",e.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),Y.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Active Service"})]})})]})})})]})})]})}catch(A){return Y.jsxs("div",{className:"h-full flex flex-col",children:[Y.jsx("div",{className:"bg-white border-b border-gray-200 shadow-sm sticky top-0 z-20",children:Y.jsx("div",{className:"flex items-center justify-between px-6 py-4",children:Y.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Service Management"})})}),Y.jsx("div",{className:"flex-1 flex items-center justify-center",children:Y.jsxs("div",{className:"text-center",children:[Y.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error Loading Services"}),Y.jsx("p",{className:"text-gray-600",children:"There was an error loading the service management section."})]})})]})}},Xo=()=>Y.jsxs(Y.Fragment,{children:[Y.jsx(Ht,{children:Y.jsx("title",{children:"Flight Log - Cruiser Aviation Platform"})}),Y.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[Y.jsxs("div",{className:"py-6",children:[Y.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Flight Log"}),Y.jsx("p",{className:"mt-2 text-gray-600",children:"Track and manage your flight hours"})]}),Y.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:Y.jsxs("div",{className:"text-center text-gray-500",children:[Y.jsx("p",{children:"Flight logging functionality coming soon..."}),Y.jsx("p",{className:"mt-2",children:"This will include GPS tracking, photo documentation, and automatic hour logging."})]})})]})]}),Zo=({onVerificationComplete:t,onVerificationError:s,isVerifying:r,userId:n})=>{const i=e.useRef(null),[a,o]=e.useState({status:"idle",message:"Ready to start verification"}),[l,c]=e.useState(null),d=async()=>{if(!n)return o({status:"error",message:"No user ID provided for verification"}),void s("No user ID provided for verification");o({status:"loading",message:"Creating verification session..."});try{const e={userId:n},t=await fetch("https://api.cruiseraviation.com/api/veriff/create-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){if(404===t.status||0===t.status)return void(await u());throw new Error(`Failed to create session: ${t.status} ${t.statusText}`)}const s=await t.json();c(s.url||s.sessionUrl),o({status:"success",message:"Verification session created successfully"}),h(s)}catch(dl){const t=dl instanceof Error?dl.message:String(dl);if(t.includes("Failed to fetch")||t.includes("NetworkError"))return void(await u());o({status:"error",message:"Failed to create verification session"}),s("Failed to create verification session")}},u=async()=>{o({status:"loading",message:"Creating mock verification session..."}),await new Promise(e=>setTimeout(e,2e3));const e={sessionId:`mock_session_${Date.now()}`,sessionUrl:"https://cdn.veriff.me/sdk/js/1.1/veriff.min.js",timestamp:(new Date).toISOString()};c(e.sessionUrl),o({status:"success",message:"Mock verification session created successfully"}),h(e)},h=e=>{if(!i.current)return;const s={sessionId:e.sessionId,person:{firstName:"John",lastName:"Doe",dateOfBirth:"1985-06-15",nationality:"US",address:{street:"123 Main Street",city:"New York",state:"NY",country:"US",postalCode:"10001"}},document:{type:"PASSPORT",country:"US",number:"123456789"},verification:{status:"approved",timestamp:(new Date).toISOString()}};setTimeout(()=>{t(s)},3e3)};e.useEffect(()=>{r&&!l&&d()},[r]);const m=()=>{d()};return Y.jsxs("div",{className:"space-y-6",children:[Y.jsxs("div",{children:[Y.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"ID Verification"}),Y.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Please verify your identity using our secure verification system."})]}),Y.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:Y.jsxs("div",{className:"flex items-center space-x-3",children:[(()=>{switch(a.status){case"loading":return Y.jsx(L,{className:"w-6 h-6 text-blue-500 animate-spin"});case"success":return Y.jsx(y,{className:"w-6 h-6 text-green-500"});case"error":return Y.jsx(M,{className:"w-6 h-6 text-red-500"});default:return Y.jsx(g,{className:"w-6 h-6 text-gray-400"})}})(),Y.jsxs("div",{children:[Y.jsx("p",{className:`text-sm font-medium ${(()=>{switch(a.status){case"loading":return"text-blue-600";case"success":return"text-green-600";case"error":return"text-red-600";default:return"text-gray-600"}})()}`,children:a.message}),Y.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This process typically takes 2-3 minutes"})]})]})}),Y.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8",children:Y.jsx("div",{ref:i,className:"min-h-[400px] flex items-center justify-center",children:"idle"===a.status?Y.jsxs("div",{className:"text-center",children:[Y.jsx(g,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),Y.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Ready to Start Verification"}),Y.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Click the button below to begin the secure identity verification process."}),Y.jsxs("button",{onClick:m,disabled:r,className:"px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2 mx-auto",children:[Y.jsx(g,{className:"w-4 h-4"}),Y.jsx("span",{children:"Start Verification"})]})]}):"loading"===a.status?Y.jsxs("div",{className:"text-center",children:[Y.jsx(L,{className:"w-16 h-16 text-blue-500 animate-spin mx-auto mb-4"}),Y.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Initializing Verification"}),Y.jsx("p",{className:"text-sm text-gray-500",children:"Please wait while we set up your verification session..."})]}):"success"===a.status?Y.jsxs("div",{className:"text-center",children:[Y.jsx(y,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),Y.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Verification in Progress"}),Y.jsx("p",{className:"text-sm text-gray-500",children:"Please complete the verification steps in the widget below..."}),Y.jsxs("div",{className:"mt-4 p-4 bg-blue-50 rounded-md",children:[Y.jsx("p",{className:"text-sm text-blue-700",children:"🔄 Simulating Veriff widget integration..."}),Y.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"In production, this would show the actual Veriff verification interface"})]})]}):Y.jsxs("div",{className:"text-center",children:[Y.jsx(M,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),Y.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Verification Failed"}),Y.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"There was an error creating your verification session."}),Y.jsx("button",{onClick:m,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Try Again"})]})})}),Y.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[Y.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"What you'll need for verification:"}),Y.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[Y.jsx("li",{children:"• A valid government-issued ID (passport, driver's license, or national ID)"}),Y.jsx("li",{children:"• A well-lit environment for face verification"}),Y.jsx("li",{children:"• A stable internet connection"}),Y.jsx("li",{children:"• 2-3 minutes of uninterrupted time"})]})]}),a.message.includes("mock")&&Y.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:Y.jsxs("div",{className:"flex items-start space-x-3",children:[Y.jsx(M,{className:"w-5 h-5 text-yellow-500 mt-0.5 flex-shrink-0"}),Y.jsxs("div",{children:[Y.jsx("h4",{className:"text-sm font-medium text-yellow-900 mb-1",children:"Development Mode"}),Y.jsx("p",{className:"text-xs text-yellow-700",children:"Using mock verification data for development. In production, this would connect to the real Veriff service."})]})]})}),Y.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:Y.jsxs("div",{className:"flex items-start space-x-3",children:[Y.jsx(g,{className:"w-5 h-5 text-gray-500 mt-0.5 flex-shrink-0"}),Y.jsxs("div",{children:[Y.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-1",children:"Security & Privacy"}),Y.jsx("p",{className:"text-xs text-gray-600",children:"Your verification data is encrypted and processed securely. We comply with GDPR and aviation industry standards. Your information is only used for identity verification purposes."})]})]})})]})},el=()=>{const{user:t}=qa(),[s,r]=e.useState(!1),[n,i]=e.useState(!1),[a,o]=e.useState(1),[l,c]=e.useState(!1),[d,h]=e.useState(!1),[m,f]=e.useState({firstName:"",lastName:"",email:t?.email||"",phone:"",dateOfBirth:"",address:"",emergencyContact:"",medicalCertificate:null,idDocument:null,pilotLicense:"",flightHours:"",preferredAircraft:"",isProfileComplete:!1,veriffVerification:{isVerified:!1}}),[p,x]=e.useState(!0);e.useEffect(()=>{t?.email&&!m.email&&f(e=>({...e,email:t.email}))},[t,m.email]),e.useEffect(()=>{b()},[]),e.useEffect(()=>{(!m.firstName||!m.email||!m.phone)&&!p&&i(!0)},[m,p]);const b=async()=>{try{x(!0);const e=await fetch("https://api.cruiseraviation.com/api/auth/profile",{credentials:"include"});if(e.ok){const t=await e.json();if(f(e=>({...e,firstName:t.firstName||"",lastName:t.lastName||"",email:t.email||e.email||"",phone:t.phoneNumber||"",dateOfBirth:t.dateOfBirth?new Date(t.dateOfBirth).toISOString().split("T")[0]:"",address:t.address||"",pilotLicense:t.role||"",flightHours:t.totalFlightHours?.toString()||"",isProfileComplete:!!(t.firstName&&t.email&&t.phoneNumber),veriffVerification:{isVerified:t.veriffVerified||!1,sessionId:t.veriffData?.sessionId,verificationData:t.veriffData}})),t.veriffData){const e="string"==typeof t.veriffData?JSON.parse(t.veriffData):t.veriffData;e.address&&f(t=>({...t,address:`${e.address.street||""}, ${e.address.city||""}, ${e.address.country||""}`.trim()}))}}}catch(dl){}finally{x(!1)}},v=e=>{const{name:t,value:s}=e.target;f(e=>({...e,[t]:s}))},j=e=>{const{name:t,value:s}=e.target;f(e=>({...e,[t]:s}))},N=e=>{f(t=>({...t,veriffVerification:{isVerified:!0,sessionId:e.sessionId,verificationData:e}})),e.person&&f(t=>({...t,firstName:e.person.firstName||t.firstName,lastName:e.person.lastName||t.lastName,dateOfBirth:e.person.dateOfBirth||t.dateOfBirth,address:e.person.address?`${e.person.address.street||""}, ${e.person.address.city||""}, ${e.person.address.country||""}`.trim():t.address})),h(!1),setTimeout(()=>{C()},1e3)},w=e=>{h(!1)},k=async()=>{c(!0);try{await new Promise(e=>setTimeout(e,1e3)),r(!1),f(e=>({...e,isProfileComplete:!0})),i(!1)}catch(dl){}finally{c(!1)}},C=()=>{a<4&&o(a+1)};return Y.jsxs(Y.Fragment,{children:[Y.jsx(Ht,{children:Y.jsx("title",{children:"Profile - Cruiser Aviation Platform"})}),Y.jsx("div",{className:"max-w-4xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:p?Y.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:Y.jsx("div",{className:"flex items-center justify-center py-12",children:Y.jsxs("div",{className:"text-center",children:[Y.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900 mx-auto mb-4"}),Y.jsx("p",{className:"text-gray-600",children:"Loading profile..."})]})})}):n?Y.jsxs("div",{className:"bg-white shadow rounded-lg",children:[Y.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[Y.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Complete Your Profile"}),Y.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Step ",a," of 4"]})]}),Y.jsx("div",{className:"px-6 py-4 bg-gray-50",children:Y.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:Y.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:a/4*100+"%"}})})}),Y.jsx("div",{className:"p-6",children:(()=>{switch(a){case 1:return t&&t.id?t?.id?Y.jsx(Zo,{onVerificationComplete:N,onVerificationError:w,isVerifying:d,userId:t.id}):Y.jsx("div",{className:"text-center py-8",children:Y.jsx("p",{className:"text-gray-600",children:"Loading user information..."})}):Y.jsxs("div",{className:"text-center py-12",children:[Y.jsx(M,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),Y.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Authentication Required"}),Y.jsx("p",{className:"text-gray-600 mb-4",children:"You need to be properly authenticated to proceed with ID verification."}),Y.jsxs("p",{className:"text-sm text-gray-500",children:["User ID: ",t?.id||"Not available"]}),Y.jsxs("p",{className:"text-sm text-gray-500",children:["Loading: ",p?"Yes":"No"]})]});case 2:return Y.jsxs("div",{className:"space-y-6",children:[Y.jsxs("div",{children:[Y.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Personal Information"}),Y.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Let's start with your basic information."}),m.veriffVerification.isVerified&&Y.jsx("div",{className:"mt-2 p-3 bg-green-50 border border-green-200 rounded-md",children:Y.jsxs("div",{className:"flex items-center space-x-2",children:[Y.jsx(y,{className:"w-4 h-4 text-green-500"}),Y.jsx("span",{className:"text-sm text-green-700",children:"Some fields have been pre-filled from your ID verification"})]})})]}),Y.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[Y.jsxs("div",{children:[Y.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700",children:"First Name *"}),Y.jsx("input",{type:"text",name:"firstName",id:"firstName",value:m.firstName,onChange:v,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",required:!0}),m.veriffVerification.isVerified&&m.firstName&&Y.jsx("p",{className:"mt-1 text-xs text-green-600",children:"✓ Pre-filled from ID verification"})]}),Y.jsxs("div",{children:[Y.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700",children:"Last Name *"}),Y.jsx("input",{type:"text",name:"lastName",id:"lastName",value:m.lastName,onChange:v,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",required:!0}),m.veriffVerification.isVerified&&m.lastName&&Y.jsx("p",{className:"mt-1 text-xs text-green-600",children:"✓ Pre-filled from ID verification"})]}),Y.jsxs("div",{children:[Y.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email *"}),Y.jsx("input",{type:"email",name:"email",id:"email",value:m.email,onChange:v,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm bg-gray-50",required:!0,readOnly:!!t?.email,title:t?.email?"Email cannot be changed as it's linked to your account":""}),t?.email&&m.email===t.email&&Y.jsx("p",{className:"mt-1 text-xs text-green-600",children:"✓ Pre-filled from login data"})]}),Y.jsxs("div",{children:[Y.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Phone Number *"}),Y.jsx("input",{type:"tel",name:"phone",id:"phone",value:m.phone,onChange:v,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",required:!0})]}),Y.jsxs("div",{children:[Y.jsx("label",{htmlFor:"dateOfBirth",className:"block text-sm font-medium text-gray-700",children:"Date of Birth"}),Y.jsx("input",{type:"date",name:"dateOfBirth",id:"dateOfBirth",value:m.dateOfBirth,onChange:v,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm"}),m.veriffVerification.isVerified&&m.dateOfBirth&&Y.jsx("p",{className:"mt-1 text-xs text-green-600",children:"✓ Pre-filled from ID verification"})]}),Y.jsxs("div",{children:[Y.jsx("label",{htmlFor:"emergencyContact",className:"block text-sm font-medium text-gray-700",children:"Emergency Contact"}),Y.jsx("input",{type:"text",name:"emergencyContact",id:"emergencyContact",value:m.emergencyContact,onChange:v,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]})]}),Y.jsxs("div",{children:[Y.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700",children:"Address"}),Y.jsx("input",{type:"text",name:"address",id:"address",value:m.address,onChange:v,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm"}),m.veriffVerification.isVerified&&m.address&&Y.jsx("p",{className:"mt-1 text-xs text-green-600",children:"✓ Pre-filled from ID verification"})]})]});case 3:return Y.jsxs("div",{className:"space-y-6",children:[Y.jsxs("div",{children:[Y.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Aviation Details"}),Y.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Tell us about your aviation experience."})]}),Y.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[Y.jsxs("div",{children:[Y.jsx("label",{htmlFor:"pilotLicense",className:"block text-sm font-medium text-gray-700",children:"Pilot License Type"}),Y.jsxs("select",{name:"pilotLicense",id:"pilotLicense",value:m.pilotLicense,onChange:j,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[Y.jsx("option",{value:"",children:"Select license type"}),Y.jsx("option",{value:"student",children:"Student Pilot"}),Y.jsx("option",{value:"private",children:"Private Pilot"}),Y.jsx("option",{value:"commercial",children:"Commercial Pilot"}),Y.jsx("option",{value:"atp",children:"Airline Transport Pilot"}),Y.jsx("option",{value:"none",children:"No license yet"})]})]}),Y.jsxs("div",{children:[Y.jsx("label",{htmlFor:"flightHours",className:"block text-sm font-medium text-gray-700",children:"Total Flight Hours"}),Y.jsx("input",{type:"number",name:"flightHours",id:"flightHours",value:m.flightHours,onChange:v,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"0"})]}),Y.jsxs("div",{className:"sm:col-span-2",children:[Y.jsx("label",{htmlFor:"preferredAircraft",className:"block text-sm font-medium text-gray-700",children:"Preferred Aircraft Type"}),Y.jsxs("select",{name:"preferredAircraft",id:"preferredAircraft",value:m.preferredAircraft,onChange:j,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[Y.jsx("option",{value:"",children:"Select preferred aircraft"}),Y.jsx("option",{value:"cessna-172",children:"Cessna 172"}),Y.jsx("option",{value:"piper-pa28",children:"Piper PA-28"}),Y.jsx("option",{value:"diamond-da40",children:"Diamond DA40"}),Y.jsx("option",{value:"cirrus-sr20",children:"Cirrus SR20"}),Y.jsx("option",{value:"no-preference",children:"No preference"})]})]})]})]});case 4:return Y.jsxs("div",{className:"space-y-6",children:[Y.jsxs("div",{children:[Y.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Review & Save"}),Y.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Please review your information before saving."})]}),Y.jsx("div",{className:"bg-gray-50 p-4 rounded-md",children:Y.jsxs("dl",{className:"grid grid-cols-1 gap-x-4 gap-y-6 sm:grid-cols-2",children:[Y.jsxs("div",{children:[Y.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Name"}),Y.jsxs("dd",{className:"mt-1 text-sm text-gray-900",children:[m.firstName," ",m.lastName]})]}),Y.jsxs("div",{children:[Y.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Email"}),Y.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:m.email})]}),Y.jsxs("div",{children:[Y.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Phone"}),Y.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:m.phone})]}),Y.jsxs("div",{children:[Y.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Date of Birth"}),Y.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:m.dateOfBirth||"Not provided"})]}),Y.jsxs("div",{children:[Y.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"License Type"}),Y.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:m.pilotLicense||"Not specified"})]}),Y.jsxs("div",{children:[Y.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Flight Hours"}),Y.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:m.flightHours||"0"})]}),Y.jsxs("div",{children:[Y.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Preferred Aircraft"}),Y.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:m.preferredAircraft||"No preference"})]}),Y.jsxs("div",{children:[Y.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"ID Verification"}),Y.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:m.veriffVerification.isVerified?"✓ Verified via Veriff":"✗ Not verified"})]}),Y.jsxs("div",{children:[Y.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Medical Certificate"}),Y.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:m.medicalCertificate?"✓ Uploaded":"Optional"})]})]})})]});default:return null}})()}),Y.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 bg-gray-50 flex justify-between",children:[Y.jsx("button",{onClick:()=>{a>1&&o(a-1)},disabled:1===a,className:"px-4 py-2 border border-gray-300 rounded-md text-sm hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Y.jsx("button",{onClick:C,disabled:4===a,className:"px-4 py-2 bg-black text-white rounded-md text-sm hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed",children:4===a?"Complete Profile":"Next"})]})]}):s?Y.jsxs("div",{className:"space-y-6",children:[Y.jsxs("div",{className:"flex items-center justify-between",children:[Y.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Edit Profile"}),Y.jsxs("div",{className:"flex space-x-3",children:[Y.jsx("button",{onClick:()=>r(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-sm hover:bg-gray-50",children:"Cancel"}),Y.jsxs("button",{onClick:k,disabled:l,className:"px-4 py-2 bg-black text-white rounded-md text-sm hover:bg-gray-800 disabled:opacity-50 flex items-center space-x-2",children:[Y.jsx(F,{className:"w-4 h-4"}),Y.jsx("span",{children:l?"Saving...":"Save Changes"})]})]})]}),Y.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:Y.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[Y.jsxs("div",{children:[Y.jsx("label",{htmlFor:"editFirstName",className:"block text-sm font-medium text-gray-700",children:"First Name"}),Y.jsx("input",{type:"text",name:"firstName",id:"editFirstName",value:m.firstName,onChange:v,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),Y.jsxs("div",{children:[Y.jsx("label",{htmlFor:"editLastName",className:"block text-sm font-medium text-gray-700",children:"Last Name"}),Y.jsx("input",{type:"text",name:"lastName",id:"editLastName",value:m.lastName,onChange:v,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),Y.jsxs("div",{children:[Y.jsx("label",{htmlFor:"editEmail",className:"block text-sm font-medium text-gray-700",children:"Email"}),Y.jsx("input",{type:"email",name:"email",id:"editEmail",value:m.email,onChange:v,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),Y.jsxs("div",{children:[Y.jsx("label",{htmlFor:"editPhone",className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),Y.jsx("input",{type:"tel",name:"phone",id:"editPhone",value:m.phone,onChange:v,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),Y.jsxs("div",{children:[Y.jsx("label",{htmlFor:"editDateOfBirth",className:"block text-sm font-medium text-gray-700",children:"Date of Birth"}),Y.jsx("input",{type:"date",name:"dateOfBirth",id:"editDateOfBirth",value:m.dateOfBirth,onChange:v,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),Y.jsxs("div",{children:[Y.jsx("label",{htmlFor:"editEmergencyContact",className:"block text-sm font-medium text-gray-700",children:"Emergency Contact"}),Y.jsx("input",{type:"text",name:"emergencyContact",id:"editEmergencyContact",value:m.emergencyContact,onChange:v,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),Y.jsxs("div",{className:"sm:col-span-2",children:[Y.jsx("label",{htmlFor:"editAddress",className:"block text-sm font-medium text-gray-700",children:"Address"}),Y.jsx("input",{type:"text",name:"address",id:"editAddress",value:m.address,onChange:v,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),Y.jsxs("div",{children:[Y.jsx("label",{htmlFor:"editPilotLicense",className:"block text-sm font-medium text-gray-700",children:"Pilot License Type"}),Y.jsxs("select",{name:"pilotLicense",id:"editPilotLicense",value:m.pilotLicense,onChange:j,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[Y.jsx("option",{value:"",children:"Select license type"}),Y.jsx("option",{value:"student",children:"Student Pilot"}),Y.jsx("option",{value:"private",children:"Private Pilot"}),Y.jsx("option",{value:"commercial",children:"Commercial Pilot"}),Y.jsx("option",{value:"atp",children:"Airline Transport Pilot"}),Y.jsx("option",{value:"none",children:"No license yet"})]})]}),Y.jsxs("div",{children:[Y.jsx("label",{htmlFor:"editFlightHours",className:"block text-sm font-medium text-gray-700",children:"Total Flight Hours"}),Y.jsx("input",{type:"number",name:"flightHours",id:"editFlightHours",value:m.flightHours,onChange:v,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"0"})]})]})})]}):Y.jsxs("div",{className:"space-y-6",children:[Y.jsxs("div",{className:"flex items-center justify-between",children:[Y.jsxs("div",{className:"flex items-center space-x-4",children:[Y.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center",children:Y.jsx(D,{className:"w-8 h-8 text-gray-500"})}),Y.jsxs("div",{children:[Y.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:m.firstName&&m.lastName?`${m.firstName} ${m.lastName}`:"Complete Your Profile"}),Y.jsx("p",{className:"text-sm text-gray-500",children:m.email||"Email not provided"})]})]}),Y.jsxs("button",{onClick:()=>r(!0),className:"px-4 py-2 bg-black text-white rounded-md text-sm hover:bg-gray-800 flex items-center space-x-2",children:[Y.jsx(U,{className:"w-4 h-4"}),Y.jsx("span",{children:"Edit Profile"})]})]}),!m.isProfileComplete&&Y.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-4",children:Y.jsxs("div",{className:"flex",children:[Y.jsx(M,{className:"w-5 h-5 text-yellow-400"}),Y.jsxs("div",{className:"ml-3",children:[Y.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"Profile Incomplete"}),Y.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:"Please complete your profile to access all features."})]})]})}),Y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[Y.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[Y.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[Y.jsx(D,{className:"w-5 h-5 mr-2"}),"Personal Information"]}),Y.jsxs("dl",{className:"space-y-3",children:[Y.jsxs("div",{children:[Y.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Full Name"}),Y.jsx("dd",{className:"text-sm text-gray-900",children:m.firstName&&m.lastName?`${m.firstName} ${m.lastName}`:"Not provided"})]}),Y.jsxs("div",{children:[Y.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Email"}),Y.jsx("dd",{className:"text-sm text-gray-900",children:m.email||"Not provided"})]}),Y.jsxs("div",{children:[Y.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Phone"}),Y.jsx("dd",{className:"text-sm text-gray-900",children:m.phone||"Not provided"})]}),Y.jsxs("div",{children:[Y.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Date of Birth"}),Y.jsx("dd",{className:"text-sm text-gray-900",children:m.dateOfBirth||"Not provided"})]}),Y.jsxs("div",{children:[Y.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Address"}),Y.jsx("dd",{className:"text-sm text-gray-900",children:m.address||"Not provided"})]}),Y.jsxs("div",{children:[Y.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Emergency Contact"}),Y.jsx("dd",{className:"text-sm text-gray-900",children:m.emergencyContact||"Not provided"})]})]})]}),Y.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[Y.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[Y.jsx(u,{className:"w-5 h-5 mr-2"}),"Aviation Information"]}),Y.jsxs("dl",{className:"space-y-3",children:[Y.jsxs("div",{children:[Y.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Pilot License"}),Y.jsx("dd",{className:"text-sm text-gray-900",children:m.pilotLicense||"Not specified"})]}),Y.jsxs("div",{children:[Y.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Flight Hours"}),Y.jsxs("dd",{className:"text-sm text-gray-900",children:[m.flightHours||"0"," hours"]})]}),Y.jsxs("div",{children:[Y.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Preferred Aircraft"}),Y.jsx("dd",{className:"text-sm text-gray-900",children:m.preferredAircraft||"No preference"})]})]})]})]}),Y.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[Y.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[Y.jsx(P,{className:"w-5 h-5 mr-2"}),"Documents"]}),Y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[Y.jsxs("div",{className:"border border-gray-200 rounded-md p-4",children:[Y.jsxs("div",{className:"flex items-center justify-between",children:[Y.jsxs("div",{children:[Y.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"ID Verification"}),Y.jsx("p",{className:"text-sm text-gray-500",children:"Verified via Veriff"})]}),m.veriffVerification.isVerified?Y.jsx(y,{className:"w-5 h-5 text-green-500"}):Y.jsx(M,{className:"w-5 h-5 text-yellow-500"})]}),!m.veriffVerification.isVerified&&Y.jsxs("button",{onClick:()=>h(!0),className:"mt-3 w-full px-3 py-2 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700 flex items-center justify-center space-x-2",children:[Y.jsx(g,{className:"w-4 h-4"}),Y.jsx("span",{children:"Start Verification"})]})]}),Y.jsx("div",{className:"border border-gray-200 rounded-md p-4",children:Y.jsxs("div",{className:"flex items-center justify-between",children:[Y.jsxs("div",{children:[Y.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Medical Certificate"}),Y.jsx("p",{className:"text-sm text-gray-500",children:"Aviation medical certificate"})]}),m.medicalCertificate?Y.jsx(y,{className:"w-5 h-5 text-green-500"}):Y.jsx(M,{className:"w-5 h-5 text-yellow-500"})]})})]})]})]})}),d&&Y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:Y.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full mx-4 flex flex-col max-h-[90vh]",children:[Y.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[Y.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"ID Verification"}),Y.jsx("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-gray-600",children:Y.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),Y.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:Y.jsx(Zo,{onVerificationComplete:N,onVerificationError:w,isVerifying:d,userId:t?.id||""})})]})})]})},tl=()=>Y.jsxs("div",{className:"space-y-6",children:[Y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[Y.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:Y.jsx("div",{className:"p-5",children:Y.jsxs("div",{className:"flex items-center",children:[Y.jsx("div",{className:"flex-shrink-0",children:Y.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-md flex items-center justify-center",children:Y.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})})}),Y.jsx("div",{className:"ml-5 w-0 flex-1",children:Y.jsxs("dl",{children:[Y.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Flight Hours"}),Y.jsx("dd",{className:"text-lg font-medium text-gray-900",children:"127.5"})]})})]})})}),Y.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:Y.jsx("div",{className:"p-5",children:Y.jsxs("div",{className:"flex items-center",children:[Y.jsx("div",{className:"flex-shrink-0",children:Y.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-md flex items-center justify-center",children:Y.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})})}),Y.jsx("div",{className:"ml-5 w-0 flex-1",children:Y.jsxs("dl",{children:[Y.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Remaining Credits"}),Y.jsx("dd",{className:"text-lg font-medium text-gray-900",children:"8.5 hours"})]})})]})})}),Y.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:Y.jsx("div",{className:"p-5",children:Y.jsxs("div",{className:"flex items-center",children:[Y.jsx("div",{className:"flex-shrink-0",children:Y.jsx("div",{className:"w-8 h-8 bg-purple-500 rounded-md flex items-center justify-center",children:Y.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),Y.jsx("div",{className:"ml-5 w-0 flex-1",children:Y.jsxs("dl",{children:[Y.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Next Flight"}),Y.jsx("dd",{className:"text-lg font-medium text-gray-900",children:"Tomorrow 10:00 AM"})]})})]})})}),Y.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:Y.jsx("div",{className:"p-5",children:Y.jsxs("div",{className:"flex items-center",children:[Y.jsx("div",{className:"flex-shrink-0",children:Y.jsx("div",{className:"w-8 h-8 bg-yellow-500 rounded-md flex items-center justify-center",children:Y.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})})}),Y.jsx("div",{className:"ml-5 w-0 flex-1",children:Y.jsxs("dl",{children:[Y.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"This Month"}),Y.jsx("dd",{className:"text-lg font-medium text-gray-900",children:"12.5 hours"})]})})]})})})]}),Y.jsxs("div",{className:"bg-white shadow rounded-lg",children:[Y.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:Y.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Recent Activity"})}),Y.jsx("div",{className:"divide-y divide-gray-200",children:Y.jsx("div",{className:"px-6 py-4",children:Y.jsxs("div",{className:"flex items-center justify-between",children:[Y.jsxs("div",{className:"flex items-center",children:[Y.jsx("div",{className:"flex-shrink-0",children:Y.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:Y.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})}),Y.jsxs("div",{className:"ml-4",children:[Y.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Training Flight - Cessna 172"}),Y.jsx("div",{className:"text-sm text-gray-500",children:"Instructor: John Smith"})]})]}),Y.jsxs("div",{className:"text-right",children:[Y.jsx("div",{className:"text-sm font-medium text-gray-900",children:"2.5 hours"}),Y.jsx("div",{className:"text-sm text-gray-500",children:"Dec 15, 2024"})]})]})})})]})]}),sl=()=>Y.jsxs("div",{className:"space-y-6",children:[Y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[Y.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:Y.jsx("div",{className:"p-5",children:Y.jsxs("div",{className:"flex items-center",children:[Y.jsx("div",{className:"flex-shrink-0",children:Y.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-md flex items-center justify-center",children:Y.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})})}),Y.jsx("div",{className:"ml-5 w-0 flex-1",children:Y.jsxs("dl",{children:[Y.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Users"}),Y.jsx("dd",{className:"text-lg font-medium text-gray-900",children:"1,234"})]})})]})})}),Y.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:Y.jsx("div",{className:"p-5",children:Y.jsxs("div",{className:"flex items-center",children:[Y.jsx("div",{className:"flex-shrink-0",children:Y.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-md flex items-center justify-center",children:Y.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})}),Y.jsx("div",{className:"ml-5 w-0 flex-1",children:Y.jsxs("dl",{children:[Y.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Active Flights"}),Y.jsx("dd",{className:"text-lg font-medium text-gray-900",children:"23"})]})})]})})}),Y.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:Y.jsx("div",{className:"p-5",children:Y.jsxs("div",{className:"flex items-center",children:[Y.jsx("div",{className:"flex-shrink-0",children:Y.jsx("div",{className:"w-8 h-8 bg-purple-500 rounded-md flex items-center justify-center",children:Y.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})})}),Y.jsx("div",{className:"ml-5 w-0 flex-1",children:Y.jsxs("dl",{children:[Y.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Active Bases"}),Y.jsx("dd",{className:"text-lg font-medium text-gray-900",children:"8"})]})})]})})}),Y.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:Y.jsx("div",{className:"p-5",children:Y.jsxs("div",{className:"flex items-center",children:[Y.jsx("div",{className:"flex-shrink-0",children:Y.jsx("div",{className:"w-8 h-8 bg-yellow-500 rounded-md flex items-center justify-center",children:Y.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})})}),Y.jsx("div",{className:"ml-5 w-0 flex-1",children:Y.jsxs("dl",{children:[Y.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Revenue This Month"}),Y.jsx("dd",{className:"text-lg font-medium text-gray-900",children:"€45,678"})]})})]})})})]}),Y.jsxs("div",{className:"bg-white shadow rounded-lg",children:[Y.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:Y.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"System Overview"})}),Y.jsx("div",{className:"p-6",children:Y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[Y.jsxs("div",{children:[Y.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Recent Activity"}),Y.jsxs("div",{className:"space-y-3",children:[Y.jsxs("div",{className:"flex items-center text-sm",children:[Y.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full mr-3"}),Y.jsx("span",{className:"text-gray-600",children:"New user registration"})]}),Y.jsxs("div",{className:"flex items-center text-sm",children:[Y.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full mr-3"}),Y.jsx("span",{className:"text-gray-600",children:"Flight scheduled"})]}),Y.jsxs("div",{className:"flex items-center text-sm",children:[Y.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full mr-3"}),Y.jsx("span",{className:"text-gray-600",children:"Maintenance alert"})]})]})]}),Y.jsxs("div",{children:[Y.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Quick Actions"}),Y.jsxs("div",{className:"space-y-2",children:[Y.jsx("button",{className:"w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-md",children:"Add New User"}),Y.jsx("button",{className:"w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-md",children:"Schedule Flight"}),Y.jsx("button",{className:"w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-md",children:"View Reports"})]})]})]})})]})]}),rl=({userRole:t="user"})=>{const[s,r]=e.useState("dashboard"),n=(()=>{const e=["dashboard"];switch(t){case"super_admin":return[...e,"users","roles","bases","fleet","services","flights","reports","settings"];case"admin":return[...e,"users","bases","fleet","services","flights","reports","settings"];case"base_manager":return[...e,"users","bases","fleet","services","flights","settings"];default:return[...e,"flights","flightlog","services","invoices","payments","bases","profile","settings"]}})();return Y.jsx(qo,{activeSection:s,onSectionChange:r,userType:"user"===t?"user":"admin",title:("user"===t?"User":"Admin")+" Dashboard - Cruiser Aviation Platform",children:(()=>{if(!n.includes(s))return Y.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[Y.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),Y.jsx("p",{className:"text-gray-600",children:"You don't have permission to access this section."})]});switch(s){case"dashboard":default:return"user"===t?Y.jsx(tl,{}):Y.jsx(sl,{});case"users":return Y.jsx(Wo,{});case"bases":return Y.jsx(Ko,{userRole:t});case"fleet":return Y.jsx(Go,{});case"roles":return Y.jsx(Jo,{});case"services":return Y.jsx(Qo,{userRole:t});case"flights":return Y.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[Y.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Flight Management"}),Y.jsx("p",{className:"text-gray-600",children:"Flight management interface coming soon..."})]});case"reports":return Y.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[Y.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Reports & Analytics"}),Y.jsx("p",{className:"text-gray-600",children:"Reports and analytics section coming soon..."})]});case"flightlog":return Y.jsx(Xo,{});case"profile":return Y.jsx(el,{});case"invoices":return Y.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[Y.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Invoices"}),Y.jsx("p",{className:"text-gray-600",children:"Invoice management coming soon..."})]});case"payments":return Y.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[Y.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Payments"}),Y.jsx("p",{className:"text-gray-600",children:"Payment management coming soon..."})]});case"settings":return Y.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[Y.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Settings"}),Y.jsx("p",{className:"text-gray-600",children:"Settings management coming soon..."})]})}})()})},nl=()=>Y.jsxs(Y.Fragment,{children:[Y.jsx(Ht,{children:Y.jsx("title",{children:"404 - Page Not Found"})}),Y.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:Y.jsxs("div",{className:"max-w-md w-full text-center",children:[Y.jsx("div",{className:"text-6xl font-bold text-gray-900 mb-4",children:"404"}),Y.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Page Not Found"}),Y.jsx("p",{className:"text-gray-600 mb-8",children:"The page you're looking for doesn't exist or has been moved."}),Y.jsx(i,{to:"/",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Go back home"})]})})]}),il=()=>{const[t,s]=e.useState(!0),[r,n]=e.useState(null),i=o(),[l]=a();e.useEffect(()=>{const e=l.get("token");if(!e)return n("No verification token provided"),void s(!1);c(e)},[l]);const c=async e=>{try{const t=await fetch("/api/auth/verify",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e})}),r=await t.json();t.ok?(localStorage.setItem("access_token",r.access_token),window.location.href="super_admin"===r.user?.role||"base_manager"===r.user?.role?"/admin":"/dashboard"):(n(r.message||"Invalid magic link"),s(!1))}catch(t){n("Network error during verification"),s(!1)}};return t?Y.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:Y.jsxs("div",{className:"text-center",children:[Y.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),Y.jsx("p",{className:"mt-4 text-gray-600",children:"Verifying your magic link..."})]})}):r?Y.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:Y.jsxs("div",{className:"text-center",children:[Y.jsx("div",{className:"text-red-600 text-6xl mb-4",children:"⚠️"}),Y.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Verification Failed"}),Y.jsx("p",{className:"text-gray-600 mb-8",children:r}),Y.jsx("button",{onClick:()=>i("/login"),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"Back to Login"})]})}):null},al=({children:t})=>{const{user:s,loading:r}=qa(),[n,i]=e.useState(!1);return e.useEffect(()=>{const e=setTimeout(()=>{r&&i(!0)},3e3);return()=>clearTimeout(e)},[r]),(r||s||n)&&r&&!n?Y.jsx("div",{className:"min-h-screen flex items-center justify-center",children:Y.jsx(Ho,{size:"lg"})}):Y.jsx(Y.Fragment,{children:t})},ol=({children:t})=>{const{user:s,loading:r}=qa(),[n,i]=e.useState(!1);return e.useEffect(()=>{const e=setTimeout(()=>{r&&i(!0)},3e3);return()=>clearTimeout(e)},[r]),(r||s||n)&&r&&!n?Y.jsx("div",{className:"min-h-screen flex items-center justify-center",children:Y.jsx(Ho,{size:"lg"})}):Y.jsx(Y.Fragment,{children:t})};function ll(){return Y.jsxs(Y.Fragment,{children:[Y.jsxs(Ht,{children:[Y.jsx("title",{children:"Cruiser Aviation Platform"}),Y.jsx("meta",{name:"description",content:"Modern flight school and aircraft rental management system"})]}),Y.jsxs(l,{children:[Y.jsx(c,{path:"/",element:Y.jsx(Vo,{})}),Y.jsx(c,{path:"/login",element:Y.jsx(zo,{})}),Y.jsx(c,{path:"/verify",element:Y.jsx(il,{})}),Y.jsx(c,{path:"/dashboard",element:Y.jsx(al,{children:Y.jsx(rl,{userRole:"user"})})}),Y.jsx(c,{path:"/admin",element:Y.jsx(ol,{children:Y.jsx(rl,{userRole:"super_admin"})})}),Y.jsx(c,{path:"/test",element:Y.jsx("div",{className:"min-h-screen bg-green-50 flex items-center justify-center",children:Y.jsxs("div",{className:"text-center",children:[Y.jsx("h1",{className:"text-4xl font-bold text-green-900 mb-4",children:"Test Route Working!"}),Y.jsx("p",{className:"text-xl text-green-700",children:"React Router is functioning correctly."})]})})}),Y.jsx(c,{path:"*",element:Y.jsx(nl,{})})]})]})}const cl=new Le({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1,staleTime:3e5}}});Q.createRoot(document.getElementById("root")).render(Y.jsx(r.StrictMode,{children:Y.jsx(Ot,{children:Y.jsx(He,{client:cl,children:Y.jsx(d,{children:Y.jsxs($a,{children:[Y.jsx(ll,{}),Y.jsx(B,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"},success:{duration:3e3,iconTheme:{primary:"#22c55e",secondary:"#fff"}},error:{duration:5e3,iconTheme:{primary:"#ef4444",secondary:"#fff"}}}})]})})})})}));
